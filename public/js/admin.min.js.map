{"version":3,"sources":["../../node_modules/browserify/node_modules/browser-pack/_prelude.js","admin.js","../../node_modules/browserify/node_modules/buffer/index.js","../../node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js","../../node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js","../../node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js","../../node_modules/browserify/node_modules/process/browser.js","src/app.js","src/blocks/controllers/BlocksAddCtrl.js","src/blocks/controllers/BlocksEditCtrl.js","src/blocks/controllers/BlocksListCtrl.js","src/blocks/module.js","src/blocks/services/BlockService.js","src/blocks/services/BlocksRepository.js","src/content/controllers/ContentAddCtrl.js","src/content/controllers/ContentAddTranslationCtrl.js","src/content/controllers/ContentCategoryTreeCtrl.js","src/content/controllers/ContentDashboardCtrl.js","src/content/controllers/ContentDetailsCtrl.js","src/content/controllers/ContentDetailsEditCtrl.js","src/content/controllers/ContentHistoryCtrl.js","src/content/controllers/ContentListCtrl.js","src/content/controllers/ContentTrashcanCtrl.js","src/content/controllers/directives/ContentDeleteCtrl.js","src/content/controllers/directives/ContentPublishedAtEditCtrl.js","src/content/controllers/directives/ContentRestoreCtrl.js","src/content/controllers/directives/ContentRouteCtrl.js","src/content/controllers/directives/ContentTogglePropertyCtrl.js","src/content/controllers/directives/ContentWeightEditCtrl.js","src/content/controllers/directives/SetTranslationAsActiveCtrl.js","src/content/controllers/directives/TranslationDeleteCtrl.js","src/content/directives/ContentActionsDropdown.js","src/content/directives/ContentDeleteButton.js","src/content/directives/ContentEditRouteButton.js","src/content/directives/ContentPublishedAtEditButton.js","src/content/directives/ContentRestoreButton.js","src/content/directives/ContentTogglePropertyButton.js","src/content/directives/ContentWeightEditButton.js","src/content/directives/SetTranslationAsActiveButton.js","src/content/directives/TranslationDeleteButton.js","src/content/module.js","src/content/services/ContentRepository.js","src/core/controllers/CoreCtrl.js","src/core/directives/StatesDropdown.js","src/core/filters/CoreFilters.js","src/core/module.js","src/core/services/LangRepository.js","src/core/services/NavBar.js","src/core/services/TopNavBar.js","src/core/services/Translations.js","src/core/services/Utils.js","src/lib/Notifications.js","src/lib/Storage.js","src/lib/ckOptions.js","src/lib/navigation.js","src/settings/controllers/SettingsCtrl.js","src/settings/controllers/directives/SettingCopyCtrl.js","src/settings/directives/SettingCopyButton.js","src/settings/module.js","src/settings/services/SettingsRepository.js","src/user/controllers/UserDeleteCtrl.js","src/user/controllers/UserDetailsCtrl.js","src/user/controllers/UserEditCtrl.js","src/user/controllers/UserListCtrl.js","src/user/directives/UserDeleteButton.js","src/user/module.js","src/user/services/UserRepository.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","process","global","Buffer","__argument0","__argument1","__argument2","__argument3","__filename","__dirname","arg","this","parent","undefined","fromNumber","fromString","arguments","fromObject","that","allocate","checked","TYPED_ARRAY_SUPPORT","string","encoding","byteLength","write","object","isBuffer","fromBuffer","isArray","fromArray","TypeError","ArrayBuffer","buffer","fromTypedArray","fromArrayLike","fromJsonObject","copy","array","type","data","_augment","Uint8Array","_isBuffer","fromPool","poolSize","rootParent","kMaxLength","RangeError","toString","SlowBuffer","subject","buf","String","utf8ToBytes","base64ToBytes","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","isNaN","utf8Write","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","ucs2Write","utf16leToBytes","base64Slice","start","end","base64","fromByteArray","slice","utf8Slice","res","tmp","Math","min","decodeUtf8Char","fromCharCode","asciiSlice","ret","binarySlice","hexSlice","len","out","toHex","utf16leSlice","bytes","checkOffset","ext","checkInt","value","max","objectWriteUInt16","littleEndian","j","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","str","stringtrim","replace","INVALID_BASE64_RE","trim","units","Infinity","codePoint","leadSurrogate","charCodeAt","push","byteArray","c","hi","lo","toByteArray","src","dst","decodeURIComponent","err","INSPECT_MAX_BYTES","arr","foo","subarray","b","compare","x","y","isEncoding","toLowerCase","concat","list","pos","item","prototype","loweredCase","equals","inspect","match","join","indexOf","val","byteOffset","arrayIndexOf","foundIndex","get","console","log","readUInt8","set","v","writeUInt8","isFinite","swap","toJSON","Array","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","target","targetStart","_set","fill","toArrayBuffer","BP","constructor","toLocaleString","self","window","_process","base64-js","is-array",2,"lookup","decode","elt","PLUS","PLUS_URL_SAFE","SLASH","SLASH_URL_SAFE","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","placeHolders","charAt","Arr","uint8ToBase64","uint8","encode","num","tripletToBase64","temp","extraBytes","output","base64js",3,"isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","NaN","rt","abs","LN2",4,"Object",5,"cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","setTimeout","run","clearTimeout","Item","fun","noop","nextTick","args","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask",6,"dependencies","modules","angular","config","$stateProvider","$urlRouterProvider","RestangularProvider","$translateProvider","$translatePartialLoaderProvider","httpMethodInterceptorProvider","viewPath","otherwise","whitelistDomain","Config","domain","state","url","templateUrl","useLoader","urlTemplate","addPart","preferredLanguage","useSanitizeValueStrategy","setBaseUrl","apiUrl","setDefaultHttpFields","cache","withCredentials","setDefaultHeaders","X-Requested-With","setRestangularFields","route","addResponseInterceptor","operation","extractedData","meta","params","NavBar","$rootScope","Restangular","Utils","addFirst","action","icon","baseUrl","setErrorInterceptor","response","deferred","responseHandler","status","Notifications","addError","error","message","addErrors","messages","./blocks/module.js","./content/module.js","./core/module.js","./settings/module.js","./user/module.js",7,"BlocksAddCtrl","$scope","BlocksRepository","BlockService","ckOptions","isEdited","newBlock","isActive","weight","translations","langCode","currentLang","blockTypes","blockRegions","region","save","prepareRequestData","create","then","addSuccess","$state","go","reload","$inject",8,"BlocksEditCtrl","block","clean","_","find","$watchCollection","newValue","oldValue","isTranslationChanged","update","$stateParams","blockId","createTranslation",9,"BlocksListCtrl","NgTableParams","tableParams","count","sorting","total","getData","$defer","requestPending","queryOptions","transLang","lang","perPage","page","orderBy","sort","substring","promise","resolve",10,"abstract","views","content","controller","one","service","factory","add","./controllers/BlocksAddCtrl","./controllers/BlocksEditCtrl","./controllers/BlocksListCtrl","./services/BlockService.js","./services/BlocksRepository.js",11,"filter",12,"api","blocks","all","id","getList","elem","stripRestangular","newContent","post","delete","remove","categoryKey","customPUT","newTranslation",13,"ContentAddCtrl","listParent","ContentRepository","parentId","contentType","contentSaveButtonLinks","text","click","addNewContent","redirect","publishedAt","Date","toISOString","pluck","contentId",14,"ContentAddTranslationCtrl","$translate","isLoaded","newContentTranslation","redirectBack","addInfo","instant","toUpperCase","addnewContentTranslation",15,"ContentCategoryTreeCtrl","categories","openCategories","getRootIdFromPath","path","getNodeById","collection","category","activeNode","union","root","Storage","setStorageItem","uncategorized","removeStorageItem","toggleNode","scope","toggle","nodeId","$element","collapsed","without",16,"ContentDashboardCtrl",17,"ContentDetailsCtrl","tabs","default","takeRight","contentParent","saveContent","updateContent",18,"ContentDetailsEditCtrl","getTranslationByLang","translation","shift","activeTranslation","saveTranslation",19,"ContentHistoryCtrl","createdAt",20,"ContentListCtrl","contentAddButtonLinks","href","contentListActions","hotkeys","combo","description","$filter","callback","translations.title","filters","omit","merge","activeFilter","level","children",21,"ContentTrashcanCtrl","deleted",22,"ContentDeleteCtrl","$modal","vm","deleteModal","initModal","modal","show","placement","showModal","forceDelete","deleteContent","closeModal","del","hide","inherit","$current","current",23,"ContentPublishedAtEditCtrl","editModal","contentPublishedAt","saveContentPublishedAt","dateTime","moment","format",24,"ContentRestoreCtrl","restoreModal","restoreContent","editAfterRestore",25,"ContentRouteCtrl","editRouteModal","contentRoute","lastIndexOf","oldRoute","saveContentRoute","newRoute","newContentRoute",26,"ContentTogglePropertyCtrl","toggleProperty","propertyName","currentValue",27,"contentWeight","saveContentWeight",28,"SetTranslationAsActiveCtrl","setAsActiveModal","getTranslationById","translationId","selectedTranslation","setAsActive",29,"DeleteTranslationCtrl","deleteTranslation",30,"ContentActionsDropdown","$dropdown","contentActionsDropdown","record","controllerAs","restrict","link","element","attrs","dropdown","animation","mapValues",31,"ContentDeleteButton","bindToController","force",32,"ContentEditRouteButton",33,"ContentPublishedAtEditButton",34,"ContentRestoreButton",35,"ContentTogglePropertyButton",36,"ContentWeightEditButton","ContentWeightEditCtrl",37,"SetTranslationAsActiveButton",38,"TranslationDeleteButton","TranslationDeleteCtrl",39,"tree","contentListParent","getStorageItem","quickSidebarLeft","startsWith","langSwitcher@content.show","contentSettings@content.show","deepStateRedirect","sticky","contentTab","showMask","langSwitcher@content.edit","contentSettings@content.edit","contentSettings","directive","./controllers/ContentAddCtrl","./controllers/ContentAddTranslationCtrl","./controllers/ContentCategoryTreeCtrl","./controllers/ContentDashboardCtrl","./controllers/ContentDetailsCtrl","./controllers/ContentDetailsEditCtrl","./controllers/ContentHistoryCtrl","./controllers/ContentListCtrl","./controllers/ContentTrashcanCtrl","./controllers/directives/ContentDeleteCtrl","./controllers/directives/ContentPublishedAtEditCtrl","./controllers/directives/ContentRestoreCtrl","./controllers/directives/ContentRouteCtrl","./controllers/directives/ContentTogglePropertyCtrl","./controllers/directives/ContentWeightEditCtrl","./controllers/directives/SetTranslationAsActiveCtrl","./controllers/directives/TranslationDeleteCtrl","./directives/ContentActionsDropdown.js","./directives/ContentDeleteButton.js","./directives/ContentEditRouteButton.js","./directives/ContentPublishedAtEditButton.js","./directives/ContentRestoreButton.js","./directives/ContentTogglePropertyButton.js","./directives/ContentWeightEditButton.js","./directives/SetTranslationAsActiveButton.js","./directives/TranslationDeleteButton.js","./services/ContentRepository.js",40,"contents","put",41,"CoreCtrl","Translations","TopNavBar","getTranslations","langs","setEditorOption","language","selectAdminLang","selectLanguage","refreshCurrentState","navBar","getItems","topNavBar","contentTypes","showSidebar","showTransLangSwitcher","showAdminLangSwitcher","$on","event","toState","editStateName","includes","hasOwnProperty","checkIfLanguageIsAvailable",42,"StatesDropdown","statesDropdown",43,"uppercase","field","currentTranslation","has","values","$sce","trustAsHtml","dateSTR","parse",44,"UserRepository","currentUserId","user","fullName","firstName","lastName","addLastChild","../lib/Notifications.js","../lib/Storage.js","../lib/ckOptions.js","./controllers/CoreCtrl.js","./directives/StatesDropdown.js","./filters/CoreFilters.js","./services/LangRepository.js","./services/NavBar.js","./services/TopNavBar.js","./services/Translations.js","./services/Utils.js",45,"LangRepository","extendModel","model","test",46,"../../lib/navigation.js",47,48,"$q","defer","languages","fallbackLanguage","use","i18n","available","forEach","k",49,"$previousState","defaultStateName","previousState",50,"stackBottomRight","dir1","dir2","firstpos1","firstpos2","options","addclass","stack","shadow","buttons","sticker","addMessages","addInfos","addWarnings","addWarning","addSuccesses","translationParams","PNotify",51,"storageItems","objectValue","sourceValue","index",52,"defaults","toolbarGroups","groups","height","getEditorOptions","custom","cloneDeep","key",53,"Navigation","items","checkStructure","divider","getChildren","foundFlag","addBeforeAfter","position","splice","addChild","unshift","addBeforeAfterChild","addBefore","addAfter","newItem","addFirstChild","addBeforeChild","addAfterChild","exportToDropdownMenu","results","forIn",54,"SettingsCtrl","SettingsRepository","settings","numericFields",55,"SettingCopyCtrl","copyModal","saveSetting","optionKey","fromJson","optionValue","optionNewValue",56,"SettingCopyButton",57,"./controllers/SettingsCtrl","./controllers/directives/SettingCopyCtrl","./directives/SettingCopyButton.js","./services/SettingsRepository.js",58,"option",59,"UserListCtrl","deleteUser","userId",60,"UserDetailsCtrl",61,"saveUser",62,63,"UserDeleteButton","UserDeleteController",64,"./controllers/UserDeleteCtrl","./controllers/UserDetailsCtrl","./controllers/UserEditCtrl","./controllers/UserListCtrl","./directives/UserDeleteButton.js","./services/UserRepository.js",65,"users"],"mappings":"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","file":"admin.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar kMaxLength = 0x3fffffff\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  this.length = 0\n  this.parent = undefined\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && object.buffer instanceof ArrayBuffer) {\n    return fromTypedArray(that, object)\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n    that._isBuffer = true\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  var i = 0\n  var len = Math.min(x, y)\n  while (i < len) {\n    if (a[i] !== b[i]) break\n\n    ++i\n  }\n\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = String(string)\n\n  if (string.length === 0) return 0\n\n  switch (encoding || 'utf8') {\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      return string.length\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return string.length * 2\n    case 'hex':\n      return string.length >>> 1\n    case 'utf8':\n    case 'utf-8':\n      return utf8ToBytes(string).length\n    case 'base64':\n      return base64ToBytes(string).length\n    default:\n      return string.length\n  }\n}\nBuffer.byteLength = byteLength\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\n// toString(encoding, start=0, end=buffer.length)\nBuffer.prototype.toString = function toString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function get (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function set (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), targetStart)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function toArrayBuffer () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function _augment (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array set method before overwriting\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.indexOf = BP.indexOf\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z\\-]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n  var i = 0\n\n  for (; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (leadSurrogate) {\n        // 2 leads in a row\n        if (codePoint < 0xDC00) {\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          leadSurrogate = codePoint\n          continue\n        } else {\n          // valid surrogate pair\n          codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000\n          leadSurrogate = null\n        }\n      } else {\n        // no lead yet\n\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else {\n          // valid lead\n          leadSurrogate = codePoint\n          continue\n        }\n      }\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n      leadSurrogate = null\n    }\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x200000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../../node_modules/browserify/node_modules/buffer/index.js\",\"/../../node_modules/browserify/node_modules/buffer\")\n\n},{\"_process\":5,\"base64-js\":2,\"buffer\":1,\"ieee754\":3,\"is-array\":4}],2:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../../node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js\",\"/../../node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib\")\n\n},{\"_process\":5,\"buffer\":1}],3:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../../node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js\",\"/../../node_modules/browserify/node_modules/buffer/node_modules/ieee754\")\n\n},{\"_process\":5,\"buffer\":1}],4:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../../node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js\",\"/../../node_modules/browserify/node_modules/buffer/node_modules/is-array\")\n\n},{\"_process\":5,\"buffer\":1}],5:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/../../node_modules/browserify/node_modules/process/browser.js\",\"/../../node_modules/browserify/node_modules/process\")\n\n},{\"_process\":5,\"buffer\":1}],6:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nrequire('./core/module.js');\nrequire('./content/module.js');\nrequire('./blocks/module.js');\nrequire('./user/module.js');\nrequire('./settings/module.js');\n\nvar dependencies = [\n    'restangular',\n    'ui.router',\n    'ui.router.default',\n    'ct.ui.router.extras',\n    'ngAnimate',\n    'mgcrea.ngStrap',\n    'pascalprecht.translate',\n    'ckeditor',\n    'angular-loading-bar',\n    'ng.httpLoader',\n    'cfp.hotkeys',\n    'admin.core',\n    'admin.content',\n    'admin.blocks',\n    'admin.user',\n    'admin.settings'\n];\ndependencies.push.apply(dependencies, modules); // Other modules are loaded by twig\n\nangular.module('admin', dependencies).config([\n    '$stateProvider',\n    '$urlRouterProvider',\n    'RestangularProvider',\n    '$translateProvider',\n    '$translatePartialLoaderProvider',\n    'httpMethodInterceptorProvider',\n    function($stateProvider, $urlRouterProvider, RestangularProvider, $translateProvider, $translatePartialLoaderProvider, httpMethodInterceptorProvider) {\n        var viewPath = 'gzero/admin/views/';\n\n        // For any unmatched url, redirect to /state1\n        $urlRouterProvider.otherwise('/');\n        // Whitelist the domains that the loader wil show for\n        httpMethodInterceptorProvider.whitelistDomain(Config.domain);\n        // Now set up the states\n        $stateProvider\n            .state('home', {\n                url: '/',\n                templateUrl: viewPath + 'home.html'\n            });\n\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: 'gzero/{part}/lang/{lang}.json'\n        });\n        $translatePartialLoaderProvider.addPart('admin');\n\n        // $translateProvider.preferredLanguage('pl_PL');\n        $translateProvider.preferredLanguage('en_US');\n\n        // User more secure variant sanitize strategy for escaping;\n        $translateProvider.useSanitizeValueStrategy('escape');\n\n        RestangularProvider.setBaseUrl(Config.apiUrl + '/v1');\n\n        RestangularProvider.setDefaultHttpFields({\n            cache: false,\n            withCredentials: true\n        });\n\n        // Set X-Requested-With header\n        RestangularProvider.setDefaultHeaders({\n            'X-Requested-With': 'XMLHttpRequest'\n        });\n\n        // Rename Restangular route field to use a $ prefix for easy distinction between data and metadata\n        RestangularProvider.setRestangularFields({route: '$route'});\n        // Add a response interceptor\n        RestangularProvider.addResponseInterceptor(function(data, operation) {\n            var extractedData;\n            // .. to look for getList operations\n\n            if (operation === 'getList') {\n                // .. and handle the data and meta data\n                if (typeof data.data !== 'undefined') {\n                    extractedData = data.data;\n                    extractedData.meta = data.meta;\n                    extractedData.params = data.params;\n                } else { // only one item in collection\n                    extractedData = [data];\n                }\n            } else {\n                extractedData = data;\n            }\n\n            return extractedData;\n        });\n    }\n]).run([\n    'NavBar',\n    '$rootScope',\n    'Restangular',\n    'Utils',\n    function(NavBar, $rootScope, Restangular, Utils) {\n        NavBar.addFirst({title: 'DASHBOARD', action: 'home', icon: 'fa fa-home'});\n        $rootScope.baseUrl = Utils.Config.url;\n\n        Restangular.setErrorInterceptor(function(response, deferred, responseHandler) {\n            if (response.status === 404) {\n                Utils.Notifications.addError('COMMON_ERROR');\n                return false; // error handled\n            } else if (response.status === 500) {\n                Utils.Notifications.addError(response.data.error.message);\n            }\n            Utils.Notifications.addErrors(response.data.messages);\n            return false; // error not handled\n        });\n    }\n]);\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/app.js\",\"/src\")\n\n},{\"./blocks/module.js\":10,\"./content/module.js\":39,\"./core/module.js\":44,\"./settings/module.js\":57,\"./user/module.js\":64,\"_process\":5,\"buffer\":1}],7:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction BlocksAddCtrl($scope, Utils, BlocksRepository, BlockService) {\n    $scope.ckOptions = Utils.ckOptions;\n    $scope.isEdited = false;\n    // default values\n    $scope.newBlock = {\n        isActive: true,\n        weight: 0,\n        translations: {\n            langCode: $scope.currentLang.code\n        }\n    };\n\n    // if block types are set\n    if (typeof $scope.blockTypes !== 'undefined') {\n        $scope.newBlock.type = $scope.blockTypes[0];\n    }\n\n    // if block regions are set\n    if (typeof $scope.blockRegions !== 'undefined') {\n        $scope.newBlock.region = $scope.blockRegions[0];\n    }\n\n    // block POST action\n    $scope.save = function(newBlock) {\n        newBlock = BlockService.prepareRequestData(newBlock);\n        BlocksRepository.create(newBlock).then(function(response) {\n            Utils.Notifications.addSuccess('BLOCK_CREATED');\n            Utils.$state.go('blocks.list', {}, {reload: true});\n        }, function(response) {\n            Utils.Notifications.addErrors(response.data.messages);\n        });\n    };\n}\n\nBlocksAddCtrl.$inject = ['$scope', 'Utils', 'BlocksRepository', 'BlockService'];\nmodule.exports = BlocksAddCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/blocks/controllers/BlocksAddCtrl.js\",\"/src/blocks/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],8:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction BlocksEditCtrl($scope, Utils, langCode, block, BlocksRepository, BlockService) {\n    $scope.ckOptions = Utils.ckOptions;\n    $scope.isEdited = true;\n    // if block types are set\n    if (typeof block !== 'undefined') {\n        $scope.newBlock = BlocksRepository.clean(block);\n        // set active translation\n        if (typeof $scope.newBlock.translations !== 'undefined') {\n            $scope.newBlock.translations = _.find($scope.newBlock.translations, {'langCode': langCode});\n        }\n    }\n\n    // check for translations update @TODO use translations history\n    $scope.$watchCollection('newBlock.translations', function(newValue, oldValue) {\n        if (newValue !== oldValue) {\n            $scope.isTranslationChanged = true;\n        }\n    });\n\n    // block PUT action\n    $scope.save = function(newBlock) {\n        newBlock = BlockService.prepareRequestData(newBlock);\n        // update block\n        BlocksRepository.update(Utils.$stateParams.blockId, newBlock).then(function(response) {\n            // add new translation @TODO use translations history\n            if ($scope.isTranslationChanged) {\n                BlocksRepository.createTranslation(Utils.$stateParams.blockId, newBlock.translations).then(function(response) {\n                    Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n                    Utils.$state.go('blocks.list', {}, {reload: true});\n                }, function(response) {\n                    Utils.Notifications.addErrors(response.data.messages);\n                });\n            } else {\n                Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n                Utils.$state.go('blocks.list', {}, {reload: true});\n            }\n\n        }, function(response) {\n            Utils.Notifications.addErrors(response.data.messages);\n        });\n    };\n}\n\nBlocksEditCtrl.$inject = ['$scope', 'Utils', 'langCode', 'block', 'BlocksRepository', 'BlockService'];\nmodule.exports = BlocksEditCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/blocks/controllers/BlocksEditCtrl.js\",\"/src/blocks/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],9:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction BlocksListCtrl($scope, Utils, NgTableParams, BlocksRepository) {\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'region': 'desc', // initial sorting\n            'weight': 'asc'\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            $scope.requestPending = true;\n            // prepare options to be sent to api\n            var queryOptions = {};\n\n            // lang sort options\n            if (typeof $scope.transLang !== 'undefined') {\n                queryOptions.lang = $scope.transLang.code;\n            }\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting() && typeof $scope.transLang !== 'undefined') {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // get list by default\n            var promise = BlocksRepository.list(queryOptions);\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                $scope.requestPending = false;\n                params.total(response.meta.total);\n                $defer.resolve(BlocksRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\n\nBlocksListCtrl.$inject = ['$scope', 'Utils', 'NgTableParams', 'BlocksRepository'];\nmodule.exports = BlocksListCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/blocks/controllers/BlocksListCtrl.js\",\"/src/blocks/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],10:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nangular.module('admin.blocks', [])\n    .config([\n        '$stateProvider',\n        '$urlRouterProvider',\n        'RestangularProvider',\n        function($stateProvider, $urlRouterProvider, RestangularProvider) {\n\n            var viewPath = 'gzero/admin/views/blocks/';\n\n            // Now set up the states\n            $stateProvider\n                .state('blocks', {\n                    url: '/blocks',\n                    templateUrl: viewPath + 'index.html',\n                    abstract: true\n                })\n                // BLOCK LIST\n                .state('blocks.list', {\n                    url: '/list?page&perPage',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'list.html',\n                            controller: 'BlocksListCtrl'\n                        }\n                    }\n\n                })\n                // BLOCK ADD\n                .state('blocks.add', {\n                    url: '/add',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'form.html',\n                            controller: 'BlocksAddCtrl'\n                        }\n                    }\n                })\n                // BLOCK EDIT\n                .state('blocks.edit', {\n                    url: '/{blockId}/edit/{langCode}',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'form.html',\n                            controller: 'BlocksEditCtrl'\n                        }\n                    },\n                    resolve: {\n                        langCode: [\n                            '$state', '$stateParams', function($state, $stateParams) {\n                                return $stateParams.langCode;\n                            }\n                        ],\n                        block: [\n                            '$stateParams', 'BlocksRepository', function($stateParams, BlocksRepository) {\n                                return BlocksRepository.one($stateParams.blockId);\n                            }\n                        ]\n                    }\n                });\n        }\n    ])\n    .controller('BlocksListCtrl', require('./controllers/BlocksListCtrl'))\n    .controller('BlocksAddCtrl', require('./controllers/BlocksAddCtrl'))\n    .controller('BlocksEditCtrl', require('./controllers/BlocksEditCtrl'))\n    .service('BlockService', require('./services/BlockService.js'))\n    .factory('BlocksRepository', require('./services/BlocksRepository.js'))\n    .run([\n        'NavBar',\n        function(NavBar) {\n            NavBar.add({\n                title: 'BLOCKS', action: 'blocks.list', icon: 'fa fa-th-large'\n            });\n        }\n    ]);\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/blocks/module.js\",\"/src/blocks\")\n\n},{\"./controllers/BlocksAddCtrl\":7,\"./controllers/BlocksEditCtrl\":8,\"./controllers/BlocksListCtrl\":9,\"./services/BlockService.js\":11,\"./services/BlocksRepository.js\":12,\"_process\":5,\"buffer\":1}],11:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction BlockService() {\n    return {\n        prepareRequestData: function(block) {\n            // handle block filter\n            if (block.filter !== null && typeof block.filter !== 'undefined') {\n                // set empty filter values if not exists\n                if (!('+' in block.filter)) {\n                    block.filter['+'] = [];\n                }\n                if (!('-' in block.filter)) {\n                    block.filter['-'] = [];\n                }\n                // handle empty block filter\n                if (block.filter['+'].length === 0 && block.filter['-'].length === 0) {\n                    block.filter = null;\n                }\n            }\n            return block;\n        }\n    };\n}\n\nBlockService.$inject = [];\nmodule.exports = BlockService;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/blocks/services/BlockService.js\",\"/src/blocks/services\")\n\n},{\"_process\":5,\"buffer\":1}],12:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction BlocksRepository(Restangular) {\n    var api = 'admin/blocks';\n    var blocks = Restangular.all(api);\n    return {\n        one: function(id, params) {\n            return Restangular.one(api, id).get(params);\n        },\n        list: function(params) {\n            return blocks.getList(params);\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        },\n        create: function(newContent) {\n            return blocks.post(newContent);\n        },\n        delete: function(id) {\n            return Restangular.one(api, id).remove();\n        },\n        update: function(categoryKey, data) {\n            return Restangular.one(api, categoryKey).customPUT(data);\n        },\n        createTranslation: function(id, newTranslation) {\n            return Restangular.one(api, id).all('translations').post(newTranslation);\n        }\n    };\n}\n\nBlocksRepository.$inject = ['Restangular'];\nmodule.exports = BlocksRepository;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/blocks/services/BlocksRepository.js\",\"/src/blocks/services\")\n\n},{\"_process\":5,\"buffer\":1}],13:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentAddCtrl($scope, Utils, listParent, ContentRepository) {\n    var parentId = null;\n    $scope.contentType = Utils.$stateParams.type;\n\n    $scope.ckOptions = Utils.ckOptions;\n\n    // if parent category exists\n    if (typeof listParent !== 'undefined') {\n        $scope.listParent = listParent; // selected category\n        parentId = listParent.id;\n    }\n    // default translations lang code\n    $scope.newContent = {\n        type: Utils.$stateParams.type,\n        isActive: true,\n        translations: {\n            langCode: $scope.transLang.code\n        }\n    };\n\n    // Angular strap dropdown for save button\n    $scope.contentSaveButtonLinks = [\n        {\n            text: 'SAVE_AND_CONTINUE_EDITING',\n            click: 'addNewContent(newContent, \"content.edit.details\")'\n        },\n        {\n            text: 'SAVE_AND_ADD_ANOTHER',\n            click: 'addNewContent(newContent, \"content.add\")'\n        }\n    ];\n\n    // contents POST action\n    $scope.addNewContent = function addNewContent(newContent, redirect) {\n        newContent.parentId = parentId; // set parent category as null\n        newContent.publishedAt = new Date().toISOString().slice(0, 19).replace('T', ' '); // set publish at date\n        // if parent category exists\n        if (typeof $scope.listParent !== 'undefined') {\n            // check for route translation in selected language\n            var route = _.pluck(_.filter($scope.listParent.route.translations, 'langCode', newContent.translations.langCode), 'url');\n            if (!route.length) {\n                newContent.parentId = null; // if not found set as uncategorized\n            }\n        }\n        ContentRepository.newContent(newContent).then(function(response) {\n            var message = Utils.$stateParams.type === 'category' ? 'CATEGORY_CREATED' : 'CONTENT_CREATED';\n            Utils.Notifications.addSuccess(message);\n            // when there is custom redirect\n            if (typeof redirect !== 'undefined') {\n                var params = (redirect === 'content.edit.details') ? {\n                    contentId: response.id,\n                    langCode: newContent.translations.langCode\n                } : {type: Utils.$stateParams.type};\n\n                Utils.$state.go(redirect, params, {reload: true});\n            } else {\n                if (Utils.$stateParams.type === 'category') {\n                    // when create a category then set it as a new listParent on content list\n                    Utils.$state.go('content.list', {contentId: response.id}, {reload: true});\n                } else {\n                    // otherwise go to list without new listParent\n                    Utils.$state.go('content.list', {}, {reload: true});\n                }\n            }\n        });\n    };\n}\nContentAddCtrl.$inject = ['$scope', 'Utils', 'listParent', 'ContentRepository'];\nmodule.exports = ContentAddCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentAddCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],14:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentAddTranslationCtrl($scope, $translate, Utils, content, ContentRepository) {\n    $scope.ckOptions = Utils.ckOptions;\n    $scope.isLoaded = true; // form visibility\n\n    // default translations lang code\n    $scope.newContentTranslation = {\n        contentId: Utils.$stateParams.contentId,\n        langCode: Utils.$stateParams.langCode\n    };\n\n    // if parent category exists\n    if (content.parentId !== null) {\n        $scope.isLoaded = false; // hide form\n        // get parent category\n        ContentRepository.one(content.parentId).then(function(response) {\n            var parent = ContentRepository.clean(response);\n            // check for route translation in selected language\n            var route = _.pluck(_.filter(parent.route.translations, 'langCode', $scope.newContentTranslation.langCode), 'url');\n            if (!route.length) {\n                // Redirect user to previous state or content list\n                Utils.redirectBack('content.list');\n                // \"Before adding translations to this content, you need to translate the categories in which it is located!\"\n                Utils.Notifications.addInfo('NO_PARENT_TRANSLATION_ERROR', { contentType: $translate.instant(content.type.toUpperCase()).toLowerCase() });\n            } else {\n                // parent url is translated, show form\n                $scope.isLoaded = true;\n            }\n        });\n    }\n\n    // contents POST action\n    $scope.addnewContentTranslation = function addNewContent(newContentTranslation) {\n        ContentRepository.newContentTranslation(Utils.$stateParams.contentId, newContentTranslation).then(function(response) {\n            // Redirect user to previous state or content list\n            Utils.redirectBack('content.list');\n        });\n    };\n}\nContentAddTranslationCtrl.$inject = ['$scope', '$translate', 'Utils', 'content', 'ContentRepository'];\nmodule.exports = ContentAddTranslationCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentAddTranslationCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],15:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentCategoryTreeCtrl($scope, categories, openCategories, listParent, Utils) {\n    /**\n     * Function returns root id from provided path\n     *\n     * @param path to search over\n     *\n     * @returns {int} root id\n     * @throws Error\n     */\n    function getRootIdFromPath(path) {\n        if (path.length > 0) {\n            return path[0];\n        } else {\n            throw new Error('Node path is too short!');\n        }\n    }\n\n    /**\n     * Function returns specified node form provided collection\n     *\n     * @param collection the collection to iterate over\n     * @param id  node id\n     *\n     * @returns {object} returns the found element, else undefined\n     */\n    function getNodeById(collection, id) {\n        return _.find(collection, function(category) {\n            return category.id === id;\n        });\n    }\n\n    // if there are open categories in the Utils.Storage\n    if (typeof openCategories !== 'undefined') {\n        $scope.openCategories = openCategories;\n    } else {\n        $scope.openCategories = [];\n    }\n\n    // if categories tree exists\n    if (typeof categories !== 'undefined') {\n        $scope.categories = categories;\n    }\n\n    // if parent category exists\n    if (typeof listParent !== 'undefined') {\n        $scope.activeNode = listParent.id;\n\n        // merge open categories with active category path\n        $scope.openCategories = _.union($scope.openCategories, listParent.path);\n        $scope.root = getNodeById($scope.categories, getRootIdFromPath(listParent.path));\n        // save open categories in the store\n        Utils.Storage.setStorageItem({openCategories: $scope.openCategories});\n    }\n\n    // removes listParent id from Utils.Storage\n    $scope.uncategorized = function() {\n        Utils.Storage.removeStorageItem('contentListParent');\n    };\n\n    // toggles Node in categories tree and manage Utils.Storage open categories object\n    $scope.toggleNode = function(scope) {\n        scope.toggle();\n        var nodeId = _.parseInt(scope.$element[0].id, 10);\n        // if node is open\n        if (!scope.collapsed) {\n            // add to scope\n            $scope.openCategories.push(nodeId);\n        } else {\n            // remove from scope\n            $scope.openCategories = _.without($scope.openCategories, nodeId);\n        }\n        // save in the store\n        Utils.Storage.setStorageItem({openCategories: $scope.openCategories});\n    };\n\n}\nContentCategoryTreeCtrl.$inject = ['$scope', 'categories', 'openCategories', 'listParent', 'Utils'];\nmodule.exports = ContentCategoryTreeCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentCategoryTreeCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],16:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentDashboardCtrl($scope) {\n\n}\nContentDashboardCtrl.$inject = ['$scope'];\nmodule.exports = ContentDashboardCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentDashboardCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],17:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentDetailsCtrl($scope, content, langCode, ContentRepository, Utils) {\n\n    $scope.Config = Utils.Config;\n\n    // TODO: get registered tabs\n    $scope.tabs = [\n        {\n            title: 'CONTENT',\n            action: 'details',\n            default: true // default active tab in settings edit mode\n        },\n        {\n            title: 'HISTORY_OF_CHANGES',\n            action: 'history'\n        }\n    ];\n\n    // if lang code exists\n    if (typeof langCode !== 'undefined') {\n        $scope.langCode = langCode;\n    }\n\n    // if content exists\n    if (typeof content !== 'undefined') {\n        $scope.content = ContentRepository.clean(content);\n        // if content parent exists\n        if (content.path.length > 1) {\n            // the last but one id number from path\n            var parentId = _.takeRight(content.path, 2)[0];\n            ContentRepository.one(parentId).then(function(response) {\n                $scope.contentParent = ContentRepository.clean(response);\n            });\n        }\n    }\n\n    $scope.saveContent = function() {\n        ContentRepository\n            .updateContent($scope.content.id, $scope.content)\n            .then(function() {\n                Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n            });\n    };\n\n}\nContentDetailsCtrl.$inject = ['$scope', 'content', 'langCode', 'ContentRepository', 'Utils'];\nmodule.exports = ContentDetailsCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentDetailsCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],18:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentDetailsEditCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentDetailsEditCtrl($scope, Utils, content, langCode, ContentRepository) { //jshint ignore:line\n\n    /**\n     * CKEditor settings getter\n     */\n    $scope.ckOptions = Utils.ckOptions;\n\n    /**\n     * Return translation with specified lang property from translations array\n     * and fetch lang property\n     *\n     * @param translations Translations array\n     * @param langCode language code\n     * @returns Object | false\n     */\n    function getTranslationByLang(translations, langCode) {\n        var translation = translations.shift();\n\n        if(!translation){\n            return false;\n        }\n\n        if (translation.langCode === langCode) {\n            return translation;\n        } else {\n            return getTranslationByLang(translations, langCode);\n        }\n    }\n\n    /**\n     * Currently active translation object\n     *\n     * @type Object\n     */\n    $scope.activeTranslation = getTranslationByLang((content.translations.slice(0)), langCode);\n\n    /**\n     * save current active translation as new active translation\n     * and go back to details show state\n     */\n    $scope.saveTranslation = function() {\n        ContentRepository.newContentTranslation(content.id, $scope.activeTranslation).then(function() {\n            Utils.$state.go('content.show.details', {\n                contentId: content.id,\n                langCode: langCode\n            });\n            Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n        });\n    };\n\n}\nContentDetailsEditCtrl.$inject = ['$scope', 'Utils', 'content', 'langCode', 'ContentRepository'];\nmodule.exports = ContentDetailsEditCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentDetailsEditCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],19:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentHistoryCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentHistoryCtrl($scope, Utils, content, langCode, ContentRepository, NgTableParams) { //jshint ignore:line\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'createdAt': 'desc' // initial sorting\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            // prepare options to be sent to api\n            var queryOptions = {\n                langCode: langCode\n            };\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting()) {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // get list by default\n            var promise = ContentRepository.translations(content.id, queryOptions);\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                params.total(response.meta.total);\n                $defer.resolve(ContentRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\n\nContentHistoryCtrl.$inject = ['$scope', 'Utils', 'content', 'langCode', 'ContentRepository', 'ngTableParams'];\nmodule.exports = ContentHistoryCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentHistoryCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],20:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentListCtrl($scope, Utils, listParent, ContentRepository, NgTableParams) {\n    // if parent category exists\n    if (typeof listParent !== 'undefined') {\n        $scope.listParent = listParent; // selected category\n    }\n\n    // TODO: content add button links\n    $scope.contentAddButtonLinks = [\n        {\n            text: 'ADD_CONTENT',\n            href: 'content.add({ type: \"content\" })',\n            icon: 'fa fa-file-text-o'\n\n        },\n        {\n            text: 'ADD_CATEGORY',\n            href: 'content.add({ type: \"category\" })',\n            icon: 'fa fa-folder-o'\n        }\n    ];\n\n    // TODO: content list actions\n    $scope.contentListActions = [\n        {\n            text: 'VIEW',\n            url: 'publicUrl', // this will be replaced with content public url\n            icon: 'fa fa-search'\n        },\n        {\n            text: 'EDIT',\n            href: 'content.show({ contentId: record_id, langCode: lang_code })',\n            icon: 'fa fa-pencil'\n        },\n        {\n            text: 'MOVE_TO_TRASH',\n            click: 'delete', // this will be replaced with delete action\n            icon: 'fa fa-times'\n        }\n    ];\n\n    // Bind hotkeys\n    Utils.hotkeys.add({\n        combo: 'ctrl+alt+n',\n        description: Utils.$filter('translate')('ADD_CONTENT'),\n        callback: function(){\n            Utils.$state.go('content.add', {type: 'content'});\n        }\n    });\n\n    Utils.hotkeys.add({\n        combo: 'ctrl+alt+m',\n        description: Utils.$filter('translate')('ADD_CATEGORY'),\n        callback: function(){\n            Utils.$state.go('content.add', {type: 'category'});\n        }\n    });\n\n    //  ngTable configuration\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'translations.title': 'asc' // initial sorting\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            $scope.requestPending = true;\n            // prepare options to be sent to api\n            var queryOptions = {\n                lang: $scope.transLang.code,\n                type: 'content'\n            };\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting()) {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // Utils.$stateParams - filters without contentId\n            var filters = _.omit(Utils.$stateParams, 'contentId');\n            queryOptions = _.merge(queryOptions, filters);\n            $scope.activeFilter = filters;\n\n            // list promise\n            var promise = {};\n\n            // if parent category is not selected\n            if (typeof listParent === 'undefined') {\n                // get uncategorized\n                queryOptions.level = 0;\n                promise = ContentRepository.list(queryOptions);\n            } else {\n                // get children's\n                promise = ContentRepository.children(listParent.id, queryOptions);\n            }\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                $scope.requestPending = false;\n                params.total(response.meta.total);\n                $defer.resolve(ContentRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\nContentListCtrl.$inject = ['$scope', 'Utils', 'listParent', 'ContentRepository', 'ngTableParams'];\nmodule.exports = ContentListCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentListCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],21:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentTrashcanCtrl($scope, ContentRepository, NgTableParams, Utils) {\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'id': 'desc' // initial sorting\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            $scope.requestPending = true;\n            // prepare options to be sent to api\n            var queryOptions = {\n                lang: $scope.transLang.code\n            };\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting()) {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // Utils.$stateParams filters\n            queryOptions = _.merge(queryOptions, Utils.$stateParams);\n            $scope.activeFilter = Utils.$stateParams;\n\n            // get list by default\n            var promise = ContentRepository.deleted(queryOptions);\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                $scope.requestPending = false;\n                params.total(response.meta.total);\n                $defer.resolve(ContentRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\n\nContentTrashcanCtrl.$inject = ['$scope', 'ContentRepository', 'ngTableParams', 'Utils'];\nmodule.exports = ContentTrashcanCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/ContentTrashcanCtrl.js\",\"/src/content/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],22:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentDeleteCtrl($scope, Utils, $modal, ContentRepository) { // jshint ignore:line\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Delete modal\n    vm.deleteModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'contentDeleteModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be removed, it is saved in the scope\n         * @param contentType content type\n         * @param forceDelete use forceDelete\n         */\n        showModal: function(contentId, contentType, forceDelete) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.contentType = contentType;\n            vm.forceDelete = forceDelete;\n            if (vm.forceDelete === true) {\n                self.initModal('PLEASE_CONFIRM', 'DELETE_CONTENT_QUESTION');\n            } else {\n                self.initModal('PLEASE_CONFIRM', 'MOVE_CONTENT_TO_TRASH_QUESTION');\n            }\n\n            // Bind hotkeys\n            Utils.hotkeys.add({\n                combo: 'enter',\n                description: Utils.$filter('translate')(\n                    vm.forceDelete ? 'CONFIRM_DELETE' : 'CONFIRM_MOVE_TO_TRASH'\n                ),\n                callback: function(){\n                    self.deleteContent();\n                }\n            });\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            Utils.hotkeys.del('enter');\n            self.modal.hide();\n        },\n        /**\n         * Function performs the RestAngular DELETE action for content id in scope\n         *\n         */\n        deleteContent: function() {\n            var self = this;\n            ContentRepository.deleteContent(vm.contentId, vm.forceDelete).then(function() {\n                self.closeModal();\n                // refresh current state\n                if (vm.contentType === 'category') {\n                    // removed category\n                    Utils.Storage.removeStorageItem('contentListParent');\n                    Utils.$state.go('content.list', {contentId: null}, {reload: true, inherit: false});\n                    Utils.Notifications.addSuccess('CATEGORY_HAS_BEEN_DELETED');\n                } else {\n                    // removed content\n                    if (Utils.$state.$current.name === 'content.show.details') {\n                        Utils.$state.go('content.trashcan', {contentId: null}, {reload: true, inherit: false});\n                    } else {\n                        Utils.$state.go(Utils.$state.current, {}, {reload: true});\n                    }\n                    Utils.Notifications.addSuccess(\n                        vm.forceDelete ? 'CONTENT_HAS_BEEN_DELETED' : 'CONTENT_HAS_BEEN_MOVED_TO_TRASH'\n                    );\n                }\n            });\n        }\n    };\n\n}\nContentDeleteCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = ContentDeleteCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/directives/ContentDeleteCtrl.js\",\"/src/content/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],23:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentPublishedAtEditCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentPublishedAtEditCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Route modal\n    vm.editModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         */\n        initModal: function(title) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                templateUrl: viewPath + 'contentEditPublishedAtModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be updated, it is saved in the scope\n         * @param contentPublishedAt content published at date\n         */\n        showModal: function(contentId, contentPublishedAt) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.contentPublishedAt = contentPublishedAt;\n            self.initModal('EDIT');\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n        /**\n         * Function performs the RestAngular customPUT function for content in scope\n         *\n         */\n        saveContentPublishedAt: function() {\n            var self = this;\n            var dateTime = moment($scope.vm.contentPublishedAt).format('YYYY-MM-DD HH:mm:ss');\n            var content = {\n                publishedAt: dateTime\n            };\n\n            ContentRepository.updateContent(vm.contentId, content).then(function(response) {\n                self.closeModal();\n                Utils.$state.go(Utils.$state.current, {}, {reload: true});\n            });\n\n        }\n    };\n}\nContentPublishedAtEditCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = ContentPublishedAtEditCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/directives/ContentPublishedAtEditCtrl.js\",\"/src/content/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],24:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentRestoreCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Restore modal\n    vm.restoreModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'contentRestoreModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be restored, it is saved in the scope\n         */\n        showModal: function(contentId) {\n            var self = this;\n            vm.contentId = contentId;\n            self.initModal('PLEASE_CONFIRM', 'RESTORE_CONTENT_QUESTION');\n\n            // Bind hotkeys\n            Utils.hotkeys.add({\n                combo: 'enter',\n                description: Utils.$filter('translate')('CONFIRM_CONTENT_RESTORE'),\n                callback: function() {\n                    self.restoreContent();\n                }\n            });\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n            Utils.hotkeys.del('enter');\n        },\n        /**\n         * Function restore softDeleted content\n         * @param editAfterRestore if true redirect to edit state after restore\n         */\n        restoreContent: function(editAfterRestore) {\n            var self = this;\n            ContentRepository.restoreContent(vm.contentId).then(function(response) {\n                self.closeModal();\n                if (editAfterRestore) {\n                    Utils.$state.go('content.edit.details', {contentId: vm.contentId, langCode: $scope.currentLang.code});\n                } else {\n                    Utils.$state.go(Utils.$state.current, {}, {reload: true});\n                }\n                Utils.Notifications.addSuccess('CONTENT_HAS_BEEN_RESTORED');\n            });\n        }\n    };\n}\nContentRestoreCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository', 'Notifications'];\nmodule.exports = ContentRestoreCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/directives/ContentRestoreCtrl.js\",\"/src/content/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],25:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentRouteCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Route modal\n    vm.editRouteModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         */\n        initModal: function(title) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                templateUrl: viewPath + 'contentEditRouteModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be removed, it is saved in the scope\n         * @param contentRoute content route\n         * @param langCode route translation language\n         */\n        showModal: function(contentId, contentRoute, langCode) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.contentRoute = contentRoute.substr(contentRoute.lastIndexOf('/') + 1); // last url segment\n            vm.oldRoute = vm.contentRoute;\n            vm.langCode = langCode;\n            self.initModal('EDIT');\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n        /**\n         * Function performs the RestAngular DELETE action for content id in scope\n         *\n         */\n        saveContentRoute: function() {\n            var self = this;\n            var newRoute = {\n                langCode: vm.langCode,\n                url: vm.contentRoute\n            };\n            // only when route has been changed\n            if (vm.contentRoute !== vm.oldRoute) {\n                ContentRepository.newContentRoute(vm.contentId, newRoute).then(function(response) {\n                    self.closeModal();\n                    Utils.$state.go(Utils.$state.current, {}, {reload: true});\n                });\n            } else {\n                self.closeModal();\n            }\n        }\n    };\n}\nContentRouteCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = ContentRouteCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/directives/ContentRouteCtrl.js\",\"/src/content/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],26:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentTogglePropertyCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentTogglePropertyCtrl(Utils, ContentRepository) {\n    var vm = this;\n\n    vm.toggleProperty = {\n\n        toggleProperty: function(contentId, propertyName, currentValue) {\n            var newValue = !currentValue;\n            var content = {};\n            content[propertyName] = newValue;\n            ContentRepository.updateContent(contentId, content).then(\n                function() {\n                    Utils.$state.reload();\n                }\n            );\n        }\n\n    };\n\n}\nContentTogglePropertyCtrl.$inject = ['Utils', 'ContentRepository'];\nmodule.exports = ContentTogglePropertyCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/directives/ContentTogglePropertyCtrl.js\",\"/src/content/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],27:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentRouteCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Route modal\n    vm.editModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         */\n        initModal: function(title) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                templateUrl: viewPath + 'contentEditWeightModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be updated, it is saved in the scope\n         * @param contentWeight content weight\n         */\n        showModal: function(contentId, contentWeight) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.contentWeight = contentWeight;\n            self.initModal('EDIT');\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n        /**\n         * Function performs the RestAngular customPUT function for content in scope\n         *\n         */\n        saveContentWeight: function() {\n            var self = this;\n            var content = {\n                weight: $scope.vm.contentWeight\n            };\n\n            ContentRepository.updateContent(vm.contentId, content).then(function(response) {\n                self.closeModal();\n                Utils.$state.go(Utils.$state.current, {}, {reload: true});\n            });\n\n        }\n    };\n}\nContentRouteCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = ContentRouteCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/directives/ContentWeightEditCtrl.js\",\"/src/content/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],28:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class SetTranslationAsActive\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction SetTranslationAsActiveCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Set as active modal\n    vm.setAsActiveModal = {\n\n        /**\n         * Return translation with specified id property from translations array\n         * and fetch lang property\n         *\n         * @param translations Translations array\n         * @param id translation id\n         * @returns Object\n         */\n        getTranslationById: function(translations, id) {\n            var self = this;\n            var translation = translations.shift();\n            if (parseInt(translation.id) === parseInt(id)) {\n                translation.langCode = translation.lang; // Couse we change name of this property in ContentTranslationTransformer\n                return translation;\n            } else {\n                return self.getTranslationById(translations, id);\n            }\n        },\n\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'setTranslationAsActiveModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param translationId id of selected translation\n         * @param contentId current active content id\n         */\n        showModal: function(translationId, contentId) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.translations = $scope.tableParams.data.slice(0);\n            vm.translationId = translationId;\n            vm.selectedTranslation = self.getTranslationById(vm.translations, vm.translationId);\n            self.initModal('PLEASE_CONFIRM', 'SET_TRANSLATION_AS_ACTIVE_QUESTION');\n        },\n\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n\n        /**\n         * Function performs the RestAngular action and set selected translation\n         * as a new active translation\n         */\n        setAsActive: function() {\n            var self = this;\n            ContentRepository.newContentTranslation(vm.contentId, vm.selectedTranslation).then(function() {\n                Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n                Utils.$state.reload();\n                self.closeModal();\n            });\n        }\n    };\n}\nSetTranslationAsActiveCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = SetTranslationAsActiveCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/directives/SetTranslationAsActiveCtrl.js\",\"/src/content/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],29:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class DeleteTranslationCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction DeleteTranslationCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Delete modal\n    vm.deleteModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'translationDeleteModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id\n         * @param translationId translation id\n         */\n        showModal: function(contentId, translationId) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.translationId = translationId;\n            self.initModal('PLEASE_CONFIRM', 'DELETE_TRANSLATION_QUESTION');\n        },\n\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n\n        /**\n         * Function performs the RestAngular DELETE action for translation id in scope\n         *\n         */\n        deleteContent: function() {\n            var self = this;\n            self.closeModal();\n            ContentRepository.deleteTranslation(vm.contentId, vm.translationId).then(function() {\n                Utils.Notifications.addSuccess('CONTENT_HAS_BEEN_DELETED');\n                Utils.$state.reload();\n            });\n        }\n    };\n}\nDeleteTranslationCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = DeleteTranslationCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/controllers/directives/TranslationDeleteCtrl.js\",\"/src/content/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],30:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentActionsDropdown($dropdown) {\n    return {\n        scope: {contentActionsDropdown: '=', record: '=', lang: '='},\n        controller: 'ContentDeleteCtrl',\n        controllerAs: 'vm',\n        restrict: 'A',\n        link: function(scope, element, attrs, ContentDeleteCtrl) {\n            var dropdown = $dropdown(element, {\n                templateUrl: 'gzero/admin/views/content/directives/contentActionsDropdown.tpl.html',\n                animation: 'am-flip-x',\n                placement: 'bottom-right'\n            });\n\n            element.on('click', function() {\n                // TODO better params replacement and functions handling\n                _.mapValues(scope.contentActionsDropdown, function(n) {\n                    if (typeof n.href !== 'undefined') {\n                        // Record id\n                        if (n.href.indexOf('record_id') !== -1) {\n                            n.href = n.href.replace('record_id', scope.record.id);\n                        }\n                        // Lang code\n                        if (n.href.indexOf('lang_code') !== -1) {\n                            n.href = n.href.replace('lang_code', '\"' + scope.lang.code + '\"');\n                        }\n                    }\n                    return n;\n                });\n\n                dropdown.$scope.content = scope.contentActionsDropdown;\n                dropdown.$scope.record = scope.record; // Pass record to the view\n                dropdown.$scope.lang = scope.lang; // Pass lang to the view\n                dropdown.$scope.deleteModal = ContentDeleteCtrl.deleteModal; // Pass delete action to the view\n            });\n        }\n    };\n}\n\nContentActionsDropdown.$inject = [];\nmodule.exports = ContentActionsDropdown;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/ContentActionsDropdown.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],31:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentDeleteButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentDeleteCtrl',\n        controllerAs: 'vm',\n        bindToController: true,// because the scope is isolated\n        link: function(scope, element, attrs, ContentDeleteCtrl) {\n            element.on('click', function() {\n                // Show a delete modal from a controller\n                ContentDeleteCtrl.deleteModal.showModal(attrs.id, attrs.type, attrs.force === 'true');\n            });\n        }\n    };\n}\n\nContentDeleteButton.$inject = [];\nmodule.exports = ContentDeleteButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/ContentDeleteButton.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],32:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentEditRouteButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentRouteCtrl',\n        controllerAs: 'vm',\n        bindToController: true,// because the scope is isolated\n        link: function(scope, element, attrs, ContentRouteCtrl) {\n            element.on('click', function() {\n                // Show a delete modal from a controller\n                ContentRouteCtrl.editRouteModal.showModal(attrs.id, attrs.route, attrs.lang);\n            });\n        }\n    };\n}\n\nContentEditRouteButton.$inject = [];\nmodule.exports = ContentEditRouteButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/ContentEditRouteButton.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],33:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentPublishedAtEditButton\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentPublishedAtEditButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentPublishedAtEditCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, ContentPublishedAtEditCtrl) {\n            element.on('click', function() {\n                ContentPublishedAtEditCtrl.editModal.showModal(\n                    attrs.contentId,\n                    attrs.contentPublishedAt\n                );\n            });\n        }\n    };\n}\n\nContentPublishedAtEditButton.$inject = [];\nmodule.exports = ContentPublishedAtEditButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/ContentPublishedAtEditButton.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],34:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentRestoreButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentRestoreCtrl',\n        controllerAs: 'vm',\n        bindToController: true,// because the scope is isolated\n        link: function(scope, element, attrs, ContentRestoreCtrl) {\n            element.on('click', function() {\n                // Show a delete modal from a controller\n                ContentRestoreCtrl.restoreModal.showModal(attrs.id);\n            });\n        }\n    };\n}\n\nContentRestoreButton.$inject = [];\nmodule.exports = ContentRestoreButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/ContentRestoreButton.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],35:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentTogglePropertyButton\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentTogglePropertyButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentTogglePropertyCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, ContentTogglePropertyCtrl) {\n            element.on('click', function() {\n                ContentTogglePropertyCtrl.toggleProperty.toggleProperty(\n                    attrs.contentId,\n                    attrs.propertyName,\n                    String(attrs.value) !== 'false'\n                );\n            });\n        }\n    };\n}\n\nContentTogglePropertyButton.$inject = [];\nmodule.exports = ContentTogglePropertyButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/ContentTogglePropertyButton.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],36:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentWeightEditButton\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentWeightEditButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentWeightEditCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, ContentWeightEditCtrl) {\n            element.on('click', function() {\n                ContentWeightEditCtrl.editModal.showModal(\n                    attrs.contentId,\n                    parseInt(attrs.contentWeight)\n                );\n            });\n        }\n    };\n}\n\nContentWeightEditButton.$inject = [];\nmodule.exports = ContentWeightEditButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/ContentWeightEditButton.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],37:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction SetTranslationAsActiveButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'SetTranslationAsActiveCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, SetTranslationAsActiveCtrl) {\n            element.on('click', function() {\n                SetTranslationAsActiveCtrl.setAsActiveModal.showModal(attrs.id, attrs.content);\n            });\n        }\n    };\n}\n\nSetTranslationAsActiveButton.$inject = [];\nmodule.exports = SetTranslationAsActiveButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/SetTranslationAsActiveButton.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],38:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction TranslationDeleteButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'TranslationDeleteCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, TranslationDeleteCtrl) {\n            element.on('click', function() {\n                TranslationDeleteCtrl.deleteModal.showModal(attrs.content, attrs.translationId);\n            });\n        }\n    };\n}\n\nTranslationDeleteButton.$inject = [];\nmodule.exports = TranslationDeleteButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/directives/TranslationDeleteButton.js\",\"/src/content/directives\")\n\n},{\"_process\":5,\"buffer\":1}],39:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nangular.module('admin.content', ['ngTable', 'ui.tree'])\n    .config([\n        '$stateProvider',\n        function($stateProvider) {\n            var viewPath = 'gzero/admin/views/content/';\n            // Now set up the states\n            $stateProvider\n                .state('content', {\n                    url: '/content',\n                    controller: 'ContentDashboardCtrl',\n                    templateUrl: viewPath + 'index.html',\n                    resolve: {\n                        categories: [\n                            'ContentRepository', function(ContentRepository) {\n                                // get tree of all categories\n                                return ContentRepository.tree({\n                                    type: 'category'\n                                });\n                            }\n                        ]\n                    }\n                })\n                // CONTENT LIST\n                .state('content.list', {\n                    url: '/list/{contentId}?isActive&page&perPage',\n                    resolve: {\n                        listParent: [\n                            '$stateParams', 'Utils', 'ContentRepository', function($stateParams, Utils, ContentRepository) {\n                                // if state param has category id\n                                if ($stateParams.contentId) {\n                                    Utils.Storage.setStorageItem({contentListParent: $stateParams.contentId});\n                                    return ContentRepository.one($stateParams.contentId);\n                                } else {\n                                    // if storage has category id\n                                    if (Utils.Storage.getStorageItem('contentListParent')) {\n                                        $stateParams.contentId = Utils.Storage.getStorageItem('contentListParent');\n                                        return ContentRepository.one(Utils.Storage.getStorageItem('contentListParent'));\n                                    }\n                                }\n                            }\n                        ],\n                        openCategories: [\n                            // get open categories from Storage\n                            'Utils', function(Utils) {\n                                return Utils.Storage.getStorageItem('openCategories');\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'list.html',\n                            controller: 'ContentListCtrl'\n                        },\n                        'quickSidebarLeft': {\n                            templateUrl: viewPath + 'categories.html',\n                            controller: 'ContentCategoryTreeCtrl'\n                        }\n                    }\n                })\n                // CONTENT SHOW\n                .state('content.show', {\n                    url: '/{contentId}/show/{langCode}',\n                    abstract: [\n                        // redirect to active tab on language change\n                        '$state', function($state) {\n                            return _.startsWith($state.current.name, 'content.show') ? $state.current.name : '.details';\n                        }\n                    ],\n                    resolve: {\n                        langCode: [\n                            '$state', '$stateParams', function($state, $stateParams) {\n                                return $stateParams.langCode;\n                            }\n                        ],\n                        content: [\n                            '$stateParams', 'ContentRepository', function($stateParams, ContentRepository) {\n                                return ContentRepository.one($stateParams.contentId);\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'show.html',\n                            controller: 'ContentDetailsCtrl'\n                        },\n                        'langSwitcher@content.show': {\n                            templateUrl: viewPath + 'details/langSwitcher.html'\n\n                        },\n                        'contentSettings@content.show': {\n                            templateUrl: viewPath + 'details/settings.html'\n\n                        }\n                    }\n                })\n                .state('content.show.details', {\n                    url: '/details',\n                    deepStateRedirect: true,\n                    sticky: true,\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'details/tabs/details.html'\n                        }\n                    }\n                })\n                .state('content.show.history', {\n                    url: '/history?isActive&type&page&perPage',\n                    deepStateRedirect: true,\n                    sticky: true,\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'details/tabs/history.html',\n                            controller: 'ContentHistoryCtrl'\n                        }\n                    }\n                })\n                // CONTENT EDIT\n                .state('content.edit', {\n                    url: '/{contentId}/edit/{langCode}',\n                    abstract: '.index',\n                    resolve: {\n                        langCode: [\n                            '$state', '$stateParams', function($state, $stateParams) {\n                                return $stateParams.langCode;\n                            }\n                        ],\n                        content: [\n                            '$stateParams', 'ContentRepository', function($stateParams, ContentRepository) {\n                                return ContentRepository.one($stateParams.contentId);\n                            }\n                        ]\n                    },\n                    data: {\n                        showMask: true // enter edit mode\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'show.html',\n                            controller: 'ContentDetailsCtrl'\n                        },\n                        'langSwitcher@content.edit': {\n                            templateUrl: viewPath + 'details/langSwitcher.html'\n\n                        },\n                        'contentSettings@content.edit': {\n                            templateUrl: viewPath + 'details/settings.html'\n\n                        }\n                    }\n                })\n                .state('content.edit.index', {\n                    url: '',\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'details/tabs/details.html'\n                        },\n                        'contentSettings': {\n                            templateUrl: viewPath + 'details/settingsEdit.html'\n                        }\n                    }\n                })\n                .state('content.edit.details', {\n                    url: '/details',\n                    views: {\n                        'contentTab': {\n                            controller: 'ContentDetailsEditCtrl',\n                            templateUrl: viewPath + 'details/tabs/detailsEdit.html'\n                        }\n                    }\n                })\n                .state('content.edit.history', {\n                    url: '/history',\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'details/tabs/detailsEdit.html'\n                        }\n                    }\n                })\n                // CONTENT TRASHCAN\n                .state('content.trashcan', {\n                    url: '/trashcan?isActive&type&page&perPage',\n                    resolve: {\n                        listParent: [\n                            function() {\n                                return undefined;\n                            }\n                        ],\n                        openCategories: [\n                            // get open categories from Storage\n                            'Storage', function(Storage) {\n                                return Storage.getStorageItem('openCategories');\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'trashcan.html',\n                            controller: 'ContentTrashcanCtrl'\n                        },\n                        'quickSidebarLeft': {\n                            templateUrl: viewPath + 'categories.html',\n                            controller: 'ContentCategoryTreeCtrl'\n                        }\n                    }\n                })\n                // CONTENT ADD\n                .state('content.add', {\n                    url: '/add/{type}',\n                    resolve: {\n                        listParent: [\n                            'Utils', 'ContentRepository', function(Utils, ContentRepository) {\n                                // if storage has category id\n                                if (Utils.Storage.getStorageItem('contentListParent')) {\n                                    return ContentRepository.one(Utils.Storage.getStorageItem('contentListParent'));\n                                }\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'add.html',\n                            controller: 'ContentAddCtrl'\n                        }\n                    }\n                })\n                // CONTENT ADD TRANSLATION\n                .state('content.addTranslation', {\n                    url: '/{contentId}/add-translation/{langCode}',\n                    resolve: {\n                        content: [\n                            '$stateParams', 'ContentRepository', function($stateParams, ContentRepository) {\n                                return ContentRepository.one($stateParams.contentId);\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'addTranslation.html',\n                            controller: 'ContentAddTranslationCtrl'\n                        }\n                    }\n                });\n        }\n    ])\n    .controller('ContentAddCtrl', require('./controllers/ContentAddCtrl'))\n    .controller('ContentDeleteCtrl', require('./controllers/directives/ContentDeleteCtrl'))\n    .controller('ContentRestoreCtrl', require('./controllers/directives/ContentRestoreCtrl'))\n    .controller('ContentCategoryTreeCtrl', require('./controllers/ContentCategoryTreeCtrl'))\n    .controller('ContentDashboardCtrl', require('./controllers/ContentDashboardCtrl'))\n    .controller('ContentDetailsCtrl', require('./controllers/ContentDetailsCtrl'))\n    .controller('ContentDetailsEditCtrl', require('./controllers/ContentDetailsEditCtrl'))\n    .controller('ContentHistoryCtrl', require('./controllers/ContentHistoryCtrl'))\n    .controller('ContentListCtrl', require('./controllers/ContentListCtrl'))\n    .controller('ContentTrashcanCtrl', require('./controllers/ContentTrashcanCtrl'))\n    .controller('ContentAddTranslationCtrl', require('./controllers/ContentAddTranslationCtrl'))\n    .controller('ContentRouteCtrl', require('./controllers/directives/ContentRouteCtrl'))\n    .controller('SetTranslationAsActiveCtrl', require('./controllers/directives/SetTranslationAsActiveCtrl'))\n    .controller('TranslationDeleteCtrl', require('./controllers/directives/TranslationDeleteCtrl'))\n    .controller('ContentTogglePropertyCtrl', require('./controllers/directives/ContentTogglePropertyCtrl'))\n    .controller('ContentWeightEditCtrl', require('./controllers/directives/ContentWeightEditCtrl'))\n    .controller('ContentPublishedAtEditCtrl', require('./controllers/directives/ContentPublishedAtEditCtrl'))\n    .factory('ContentRepository', require('./services/ContentRepository.js'))\n    .directive('contentDeleteButton', require('./directives/ContentDeleteButton.js'))\n    .directive('contentRestoreButton', require('./directives/ContentRestoreButton.js'))\n    .directive('contentEditRouteButton', require('./directives/ContentEditRouteButton.js'))\n    .directive('setTranslationAsActiveButton', require('./directives/SetTranslationAsActiveButton.js'))\n    .directive('translationDeleteButton', require('./directives/TranslationDeleteButton.js'))\n    .directive('contentTogglePropertyButton', require('./directives/ContentTogglePropertyButton.js'))\n    .directive('contentPublishedAtEditButton', require('./directives/ContentPublishedAtEditButton.js'))\n    .directive('contentActionsDropdown', ['$dropdown', require('./directives/ContentActionsDropdown.js')])\n    .directive('contentWeightEditButton', ['$dropdown', require('./directives/ContentWeightEditButton.js')])\n    .run([\n        'NavBar',\n        function(NavBar) {\n            NavBar.add(\n                {\n                    title: 'CONTENT',\n                    action: 'content.list',\n                    icon: 'fa fa-file-text-o'\n                }\n            );\n            //NavBar.addLastChild(\n            //    'CONTENT',\n            //    {\n            //        title: 'ALL_CONTENTS',\n            //        action: 'content.list',\n            //        icon: 'fa fa-th'\n            //    }\n            //);\n            //NavBar.addLastChild(\n            //    'CONTENT',\n            //    {\n            //        title: 'ADD_CONTENT',\n            //        action: 'content.add({ type: \"content\" })',\n            //        icon: 'fa fa-file-text-o'\n            //    }\n            //);\n            //NavBar.addLastChild(\n            //    'CONTENT',\n            //    {\n            //        title: 'ADD_CATEGORY',\n            //        action: 'content.add({ type: \"category\" })',\n            //        icon: 'fa fa-file-text'\n            //    }\n            //);\n        }\n    ]);\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/module.js\",\"/src/content\")\n\n},{\"./controllers/ContentAddCtrl\":13,\"./controllers/ContentAddTranslationCtrl\":14,\"./controllers/ContentCategoryTreeCtrl\":15,\"./controllers/ContentDashboardCtrl\":16,\"./controllers/ContentDetailsCtrl\":17,\"./controllers/ContentDetailsEditCtrl\":18,\"./controllers/ContentHistoryCtrl\":19,\"./controllers/ContentListCtrl\":20,\"./controllers/ContentTrashcanCtrl\":21,\"./controllers/directives/ContentDeleteCtrl\":22,\"./controllers/directives/ContentPublishedAtEditCtrl\":23,\"./controllers/directives/ContentRestoreCtrl\":24,\"./controllers/directives/ContentRouteCtrl\":25,\"./controllers/directives/ContentTogglePropertyCtrl\":26,\"./controllers/directives/ContentWeightEditCtrl\":27,\"./controllers/directives/SetTranslationAsActiveCtrl\":28,\"./controllers/directives/TranslationDeleteCtrl\":29,\"./directives/ContentActionsDropdown.js\":30,\"./directives/ContentDeleteButton.js\":31,\"./directives/ContentEditRouteButton.js\":32,\"./directives/ContentPublishedAtEditButton.js\":33,\"./directives/ContentRestoreButton.js\":34,\"./directives/ContentTogglePropertyButton.js\":35,\"./directives/ContentWeightEditButton.js\":36,\"./directives/SetTranslationAsActiveButton.js\":37,\"./directives/TranslationDeleteButton.js\":38,\"./services/ContentRepository.js\":40,\"_process\":5,\"buffer\":1}],40:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ContentRepository(Restangular) {\n    var api = 'admin/contents';\n    var contents = Restangular.all(api);\n    return {\n        one: function(id, params) {\n            return Restangular.one(api, id).get(params);\n        },\n        tree: function(params) {\n            return Restangular.one(api).getList('tree', params);\n        },\n        list: function(params) {\n            return contents.getList(params);\n        },\n        deleted: function(params) {\n            return Restangular.one(api).getList('deleted', params);\n        },\n        children: function(id, params) {\n            return Restangular.one(api, id).getList('children', params);\n        },\n        newContent: function(newContent) {\n            return contents.post(newContent);\n        },\n        updateContent: function(id, content) {\n            return Restangular.one(api, id).customPUT(content);\n        },\n        newContentTranslation: function(id, newTranslation) {\n            return Restangular.one(api, id).all('translations').post(newTranslation);\n        },\n        newContentRoute: function(id, newRoute) {\n            return Restangular.one(api, id).all('route').post(newRoute);\n        },\n        translations: function(id, params) {\n            return Restangular.one(api, id).all('translations').getList(params);\n        },\n        deleteTranslation: function(contentId, translationId) {\n            return Restangular.one(api, contentId).one('translations', translationId).remove();\n        },\n        deleteContent: function(id, forceDelete) {\n            return Restangular.one(api, id).one(forceDelete).remove();\n        },\n        restoreContent: function(id) {\n            return Restangular.one(api + '/restore', id).put();\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        }\n    };\n}\n\nContentRepository.$inject = ['Restangular'];\nmodule.exports = ContentRepository;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/content/services/ContentRepository.js\",\"/src/content/services\")\n\n},{\"_process\":5,\"buffer\":1}],41:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction CoreCtrl($scope, Utils, Translations, NavBar, TopNavBar) {\n    // get translations languages\n    Translations.getTranslations().then(function(response) {\n        $scope.langs = response.langs;\n        $scope.currentLang = $scope.transLang = response.currentLang;\n        // set CKEditor language\n        Utils.ckOptions.setEditorOption({language: $scope.currentLang.code});\n    });\n\n    // admin panel language\n    $scope.selectAdminLang = function() {\n        Translations.selectAdminLang($scope.currentLang);\n        // set CKEditor language\n        Utils.ckOptions.setEditorOption({language: $scope.currentLang.code});\n    };\n\n    // translations language\n    $scope.selectLanguage = function(lang) {\n        $scope.transLang = lang;\n    };\n\n    // refresh current state\n    $scope.refreshCurrentState = function() {\n        Utils.$state.go(Utils.$state.current, {}, {reload: true});\n    };\n\n    $scope.navBar = NavBar.getItems();\n    $scope.topNavBar = TopNavBar.getItems();\n    // if content types are set\n    if (typeof  Utils.Config.contentTypes !== 'undefined') {\n        $scope.contentTypes = Utils.Config.contentTypes;\n    }\n    // if block types are set\n    if (typeof  Utils.Config.blockTypes !== 'undefined') {\n        $scope.blockTypes = Utils.Config.blockTypes;\n    }\n    // if block regions are set\n    if (typeof  Utils.Config.blockRegions !== 'undefined') {\n        // add disabled region and pass to view\n        $scope.blockRegions = _.union([null], Utils.Config.blockRegions);\n    }\n    // Off canvas sidebar\n    $scope.showSidebar = false;\n    // content translations language switcher\n    $scope.showTransLangSwitcher = false;\n    // admin language switcher\n    $scope.showAdminLangSwitcher = true;\n    // pass state to view\n    $scope.$state = Utils.$state;\n\n    // check for edit state\n    $scope.$on('$stateChangeStart', function(event, toState) {\n        if (typeof toState.data !== 'undefined') {\n            if (toState.name !== 'content.edit.index') {\n                $scope.editStateName = toState.name;\n            }\n            $scope.showMask = toState.data.showMask;\n        } else {\n            $scope.editStateName = null;\n            $scope.showMask = false;\n        }\n    });\n\n    // if there is langCode param validate it\n    $scope.$on('$stateChangeSuccess', function() {\n        // set content translations language switcher\n        $scope.showTransLangSwitcher = Utils.$state.includes('content.list') || Utils.$state.includes('content.trashcan') || Utils.$state.includes('blocks.list');\n        // disable admin language switcher\n        $scope.showAdminLangSwitcher = Utils.$state.includes('content.add') || Utils.$state.includes('content.edit') || Utils.$state.includes('content.addTranslation');\n        if (Utils.$stateParams.hasOwnProperty('langCode')) {\n            Translations.checkIfLanguageIsAvailable(Utils.$stateParams.langCode);\n        }\n    });\n}\n\nCoreCtrl.$inject = ['$scope', 'Utils', 'Translations', 'NavBar', 'TopNavBar'];\nmodule.exports = CoreCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/controllers/CoreCtrl.js\",\"/src/core/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],42:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction StatesDropdown($dropdown) {\n    return {\n        scope: {statesDropdown: '='},\n        restrict: 'A',\n        link: function(scope, element, attrs) {\n            var dropdown = $dropdown(element, {\n                templateUrl: 'gzero/admin/views/core/directives/statesDropdown.tpl.html',\n                animation: 'am-flip-x',\n                placement: 'bottom-right'\n            });\n\n            element.on('click', function() {\n                dropdown.$scope.content = scope.statesDropdown;\n            });\n        }\n    };\n}\n\nStatesDropdown.$inject = [];\nmodule.exports = StatesDropdown;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/directives/StatesDropdown.js\",\"/src/core/directives\")\n\n},{\"_process\":5,\"buffer\":1}],43:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\nangular.module('CoreFilters', [])\n    /**\n     * Filter returns translatable string based on provided language code\n     *\n     * @param langCode  language code\n     *\n     * @returns {string} translatable string\n     */\n    .filter('langName', function() {\n        'use strict';\n        return function(langCode) {\n            return 'LANG_NAME_' + angular.uppercase(langCode);\n        };\n    })\n    /**\n     * Filter returns the translation in provided language\n     *\n     * @param translations the collection to iterate over\n     * @param langCode  language code\n     * @param field  field name\n     *\n     * @returns {object} translation field\n     */\n    .filter('getTranslation', function() {\n        'use strict';\n        return function(translations, langCode, field) {\n            var currentTranslation = _.filter(translations, function(translation) {\n                return translation.langCode === langCode;\n            }).shift();\n            if (_.has(currentTranslation, field)) {\n                return currentTranslation[field];\n            } else {\n                return null;\n            }\n        };\n    })\n    /**\n     * Filter returns the option value in provided language\n     *\n     * @param values the collection to iterate over\n     * @param langCode  language code\n     *\n     * @returns {object} value field\n     */\n    .filter('getOptionValue', function() {\n        'use strict';\n        return function(values, langCode) {\n            return _.filter(values, function(value, code) {\n                return code === langCode;\n            }).shift();\n        };\n    })\n    /**\n     * Filter checks if specified node exists in provided path\n     *\n     * @param path the node path to iterate over\n     * @param id  node id\n     *\n     * @returns {bool} true or false\n     */\n    .filter('nodeInPath', function() {\n        'use strict';\n        return function(path, id) {\n            // if path exists and not empty\n            if (typeof path !== 'undefined' && path.length > 0) {\n                return path.indexOf(id) > -1;\n            } else {\n                return false;\n            }\n        };\n    })\n\n    /**\n     * This filter lets you mark HTML as “safe” for angular to use and show on a page.\n     * Otherwise, angular would just show the HTML as plain text.\n     */\n    .filter('trustAsHtml', function($sce) {\n        'use strict';\n        return $sce.trustAsHtml;\n    })\n\n    /**\n     * Parse ISO 8601 date to specified format\n     * @param format string expected date format\n     */\n    .filter('formatDate', function($filter) {\n        'use strict';\n        return function(dateSTR, format) {\n            var d = Date.parse(dateSTR);\n            if (!format) {\n                format = 'yyyy-MM-dd hh:mm:ss';\n            }\n            return $filter('date')(d, format);\n        };\n    })\n\n    /**\n     * Remove html tags, and trim string to given length without breaking words\n     * @param len expected length\n     */\n    .filter('stripTagsAndTrim', function() {\n        'use strict';\n        return function(str, len) {\n            try {\n                str = str.replace(/<\\/?[^>]+(>|$)/g, '').substr(0, len);\n                str = str.substr(0, Math.min(str.length, str.lastIndexOf(' ')));\n                return str;\n            } catch (e) {\n                return '';\n            }\n        };\n    });\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/filters/CoreFilters.js\",\"/src/core/filters\")\n\n},{\"_process\":5,\"buffer\":1}],44:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nrequire('./filters/CoreFilters.js');\n\nangular.module('admin.core', ['CoreFilters'])\n    .controller('CoreCtrl', require('./controllers/CoreCtrl.js'))\n    .factory('LangRepository', require('./services/LangRepository.js'))\n    .factory('NavBar', require('./services/NavBar.js'))\n    .factory('TopNavBar', require('./services/TopNavBar.js'))\n    .factory('Notifications', require('../lib/Notifications.js'))\n    .factory('ckOptions', require('../lib/ckOptions.js'))\n    .factory('Translations', require('./services/Translations.js'))\n    .factory('Storage', require('../lib/Storage.js'))\n    .factory('Utils', require('./services/Utils.js'))\n    .directive('statesDropdown', ['$dropdown', require('./directives/StatesDropdown.js')])\n    .run([\n        'TopNavBar',\n        'UserRepository',\n        'Utils',\n        function(TopNavBar, UserRepository, Utils) {\n\n            UserRepository.one(Utils.Config.currentUserId).then(function(response) {\n                var user = response;\n                user.fullName = user.firstName + ' ' + user.lastName;\n\n                TopNavBar.add(\n                    {\n                        title: 'PAGE_PREVIEW',\n                        action: false,\n                        url: '/'\n                    }\n                );\n                TopNavBar.add(\n                    {\n                        title: user.fullName,\n                        action: 'content.list'\n                    }\n                );\n                TopNavBar.addLastChild(\n                    user.fullName,\n                    {\n                        title: 'PROFILE',\n                        action: 'user.edit({userId: ' + user.id + '})'\n                    }\n                );\n                TopNavBar.addLastChild(\n                    user.fullName,\n                    {\n                        title: 'LOG_OUT',\n                        action: false,\n                        url: '/admin/logout'\n                    }\n                );\n            });\n\n        }\n    ]);\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/module.js\",\"/src/core\")\n\n},{\"../lib/Notifications.js\":50,\"../lib/Storage.js\":51,\"../lib/ckOptions.js\":52,\"./controllers/CoreCtrl.js\":41,\"./directives/StatesDropdown.js\":42,\"./filters/CoreFilters.js\":43,\"./services/LangRepository.js\":45,\"./services/NavBar.js\":46,\"./services/TopNavBar.js\":47,\"./services/Translations.js\":48,\"./services/Utils.js\":49,\"_process\":5,\"buffer\":1}],45:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction LangRepository(Restangular) {\n    /**\n     * Custom methods\n     */\n    Restangular.extendModel('langs', function(model) {\n        model.test = function() {\n            return 'test';\n        };\n        return model;\n    });\n\n    var api = Restangular.all('admin/langs');\n    return {\n        one: function(code) {\n            return api.get(code);\n        },\n        list: function() {\n            return api.getList();\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        }\n    };\n}\n\nLangRepository.$inject = ['Restangular'];\nmodule.exports = LangRepository;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/services/LangRepository.js\",\"/src/core/services\")\n\n},{\"_process\":5,\"buffer\":1}],46:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction NavBar() {\n    /** @var Navigation */\n    return require('../../lib/navigation.js')();\n}\n\nmodule.$inject = [];\nmodule.exports = NavBar;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/services/NavBar.js\",\"/src/core/services\")\n\n},{\"../../lib/navigation.js\":53,\"_process\":5,\"buffer\":1}],47:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction TopNavBar() {\n    /** @var Navigation */\n    return require('../../lib/navigation.js')();\n}\n\nmodule.$inject = [];\nmodule.exports = TopNavBar;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/services/TopNavBar.js\",\"/src/core/services\")\n\n},{\"../../lib/navigation.js\":53,\"_process\":5,\"buffer\":1}],48:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction Translations($q, $translate, LangRepository, Utils) {\n    //create deferred promise\n    var deferred = $q.defer();\n    var languages = {};\n\n    //get languages\n    LangRepository.list().then(function(response) {\n        languages.langs = response;\n        languages.currentLang = languages.transLang = response[0];\n        // resolve the promise\n        deferred.resolve(languages);\n    });\n\n    return {\n        /**\n         * Function returns the object of languages\n         *\n         * @returns {object}\n         */\n        getTranslations: function() {\n            return deferred.promise;\n        },\n        /**\n         * Function sets the language of the translation for the angular-translate module\n         *\n         * @param lang object that will be used to translate\n         */\n        selectAdminLang: function(lang) {\n            $translate.fallbackLanguage(['en_US']);\n            $translate.use(lang.i18n);\n        },\n        /**\n         * Redirect if user try to access non existing language\n         * @param langCode\n         */\n        checkIfLanguageIsAvailable: function(langCode) {\n            var available = [];\n            if (languages === {}) {\n                angular.forEach(languages, function(v, k) {\n                    available.push(v.code);\n                });\n                if (available.indexOf(langCode) === -1) {\n                    Utils.Notifications.addError('LANGUAGE_NOT_FOUND');\n                    Utils.$state.go('home');\n                }\n            } else {\n                LangRepository.list().then(function(response) {\n                    angular.forEach(LangRepository.clean(response), function(v, k) {\n                        available.push(v.code);\n                    });\n                    if (available.indexOf(langCode) === -1) {\n                        Utils.Notifications.addError('LANGUAGE_NOT_FOUND');\n                        Utils.$state.go('home');\n                    }\n                });\n            }\n        }\n    };\n}\nTranslations.$inject = ['$q', '$translate', 'LangRepository', 'Utils'];\nmodule.exports = Translations;\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/services/Translations.js\",\"/src/core/services\")\n\n},{\"_process\":5,\"buffer\":1}],49:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction Utils(Notifications, Storage, $state, $previousState, $stateParams, ckOptions, hotkeys, $filter) { // jshint ignore:line\n\n    return {\n        Notifications: Notifications,\n        Storage: Storage,\n        $state: $state,\n        $stateParams: $stateParams,\n        $previousState: $previousState,\n        Config: Config,\n        ckOptions: ckOptions,\n        hotkeys: hotkeys,\n        $filter: $filter,\n        /**\n         * Redirect user to previous state\n         * @param {string} defaultStateName default state name\n         */\n        redirectBack: function(defaultStateName) {\n            // gets a reference to the previous state.\n            var previousState = $previousState.get();\n            // set default name for the redirect if it is is not specified\n            if (typeof defaultStateName === 'undefined') {\n                defaultStateName = 'home'; // Redirect to home\n            }\n\n            // if there is a previousState\n            if (previousState !== null) {\n                // redirected back to the state we came from\n                $state.go(previousState.state.name, previousState.params, {reload: true});\n            } else {\n                // otherwise go to default state\n                $state.go(defaultStateName, {}, {reload: true});\n            }\n        }\n    };\n\n}\n\nmodule.$inject = [\n    'Notifications',\n    'Storage',\n    '$state',\n    '$previousState',\n    '$stateParams',\n    'ckOptions',\n    'hotkeys',\n    '$filter'\n];\n\nmodule.exports = Utils;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/core/services/Utils.js\",\"/src/core/services\")\n\n},{\"_process\":5,\"buffer\":1}],50:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction Notifications($translate) {\n    // Notifications stack\n    var stackBottomRight = {'dir1': 'up', 'dir2': 'left', 'firstpos1': 25, 'firstpos2': 25};\n    // Notifications options\n    var options = {\n        addclass: 'stack-bottomright',\n        stack: stackBottomRight,\n        shadow: false,\n        buttons: {\n            sticker: false\n        }\n    };\n    /**\n     * Function which shows messages of given type\n     *\n     * @param callback function used to show each message\n     * @param messages messages to show\n     */\n    var addMessages = function(callback, messages) {\n        _.forEach(messages, function(messages) {\n            callback(messages[0]);\n        });\n    };\n    return {\n        /**\n         * Function shows multiple AngularStrap info type alerts\n         *\n         * @param messages translatable messages to show\n         */\n        addInfos: function(messages) {\n            var self = this;\n            addMessages(self.addInfo, messages);\n        },\n        /**\n         * Function shows multiple AngularStrap danger type alerts\n         *\n         * @param messages translatable messages to show\n         */\n        addErrors: function(messages) {\n            var self = this;\n            addMessages(self.addError, messages);\n        },\n        /**\n         * Function shows multiple AngularStrap warning type alerts\n         *\n         * @param messages translatable messages to show\n         */\n        addWarnings: function(messages) {\n            var self = this;\n            addMessages(self.addWarning, messages);\n        },\n        /**\n         * Function shows multiple AngularStrap success type alerts\n         *\n         * @param messages translatable messages to show\n         */\n        addSuccesses: function(messages) {\n            var self = this;\n            addMessages(self.addSuccess, messages);\n        },\n        /**\n         * Function shows the AngularStrap info type alert\n         *\n         * @param message translatable message string eg. 'COMMON_ERROR'\n         * @param translationParams dynamic params for the translation\n         */\n        addInfo: function(message, translationParams) {\n            return new PNotify(_.merge(options, {\n                text: $translate.instant(message, translationParams),\n                type: 'info'\n            }));\n        },\n        /**\n         * Function shows the AngularStrap danger type alert\n         *\n         * @param message translatable message string eg. 'COMMON_ERROR'\n         * @param translationParams dynamic params for the translation\n         */\n        addError: function(message, translationParams) {\n            return new PNotify(_.merge(options, {\n                text: $translate.instant(message, translationParams),\n                type: 'error',\n                icon: 'fa fa-times'\n            }));\n        },\n        /**\n         * Function shows the AngularStrap warning type alert\n         *\n         * @param message translatable message string eg. 'COMMON_ERROR'\n         * @param translationParams dynamic params for the translation\n         */\n        addWarning: function(message, translationParams) {\n            return new PNotify(_.merge(options, {\n                text: $translate.instant(message, translationParams),\n                type: 'warning'\n            }));\n        },\n        /**\n         * Function shows the AngularStrap success type alert\n         *\n         * @param message translatable message string eg. 'COMMON_ERROR'\n         * @param translationParams dynamic params for the translation\n         */\n        addSuccess: function(message, translationParams) {\n            return new PNotify(_.merge(options, {\n                text: $translate.instant(message, translationParams),\n                type: 'success'\n            }));\n        }\n    };\n}\n\nmodule.$inject = ['$translate'];\nmodule.exports = Notifications;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/lib/Notifications.js\",\"/src/lib\")\n\n},{\"_process\":5,\"buffer\":1}],51:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction Storage() {\n    var storageItems = {};\n    return {\n        /**\n         * Function adds specified object to the storageItems\n         *\n         * @param object\n         */\n        setStorageItem: function(object) {\n            storageItems =   _.merge(storageItems, object, function(objectValue, sourceValue) {\n                if (_.isArray(objectValue)) {\n                    return  sourceValue;\n                }\n            });\n        },\n        /**\n         * Function returns the specified object from the storageItems\n         *\n         * @param index\n         * @returns {object}\n         */\n        getStorageItem: function(index) {\n            return storageItems[index];\n        },\n        /**\n         * Function removes specified object from the storageItems\n         *\n         * @param index\n         * @returns {object}\n         */\n        removeStorageItem: function(index) {\n            storageItems = _.omit(storageItems, index);\n        }\n    };\n}\n\nStorage.$inject = [];\nmodule.exports = Storage;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/lib/Storage.js\",\"/src/lib\")\n\n},{\"_process\":5,\"buffer\":1}],52:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction ckOptions() {\n    var defaults = {\n        toolbarGroups: [\n            {name: 'clipboard', groups: ['clipboard', 'undo']},\n            {name: 'editing', groups: ['find', 'selection']},\n            {name: 'links'},\n            {name: 'insert'},\n            {name: 'tools'},\n            {name: 'document', groups: ['mode', 'document', 'doctools']},\n            {name: 'others'},\n            '/',\n            {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\n            {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'bidi']},\n            {name: 'align'},\n            {name: 'styles'}\n        ],\n        height: '500px'\n    };\n\n    return {\n        /**\n         * Function adds specified object to the CKEditor options\n         *\n         * @param object\n         */\n        setEditorOption: function(object) {\n            defaults = _.merge(defaults, object, function(objectValue, sourceValue) {\n                if (_.isArray(objectValue)) {\n                    return sourceValue;\n                }\n            });\n        },\n        /**\n         * Function returns CKEditor options\n         * @param custom custom option to include in return object, only for this instance of editor\n         * @returns {object}\n         */\n        getEditorOptions: function(custom) {\n            var output = _.cloneDeep(defaults);\n            angular.forEach(custom, function(value, key) {\n                output[key] = value;\n            });\n            return output;\n        }\n    };\n}\n\nmodule.$inject = [];\nmodule.exports = ckOptions;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/lib/ckOptions.js\",\"/src/lib\")\n\n},{\"_process\":5,\"buffer\":1}],53:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\nfunction Navigation() {\n    'use strict';\n\n    var items = [];\n\n    /**\n     * Function checks if 'item' structure is valid\n     *\n     * @param item object\n     * @returns {boolean}\n     */\n    var checkStructure = function(item) {\n        if (_.has(item, 'divider')) {\n            if (item.divider !== true) {\n                throw new Error('Property: ' + '\\'divider\\'' + ' must be set to \\'true\\'');\n            }\n        } else if (!_.has(item, 'title')) {\n            throw new Error('Property: ' + 'title' + ' is missing');\n        } else if (!_.has(item, 'action') && !_.has(item, 'href')) {\n            throw new Error('Property: ' + '\\'action\\' or \\'href\\'' + ' are required');\n        }\n        return true;\n    };\n    /**\n     * Function returns children of element specified by 'title'\n     *\n     * @param title string\n     * @returns {Array}\n     */\n    var getChildren = function(title) {\n        var children = [],\n            foundFlag = false;\n        _.forEach(items, function(value, index) {\n            if (value.title === title) {\n                foundFlag = true;\n                if (_.has(value, 'children') && Array.isArray(value.children)) {\n                    children = value.children;\n                }\n                return false;\n            }\n        });\n        if (foundFlag === false) {\n            throw new Error('Parent: \\'' + title + '\\' have no children, because does not exist');\n        }\n        return children;\n    };\n    /**\n     * Function adds element according to 'position' argument\n     * position = 'before' - element will be added before element specified by 'title'\n     * position = 'after' - element will be added after element specified by 'title'\n     *\n     * @param title string\n     * @param item object\n     * @param position string\n     */\n    var addBeforeAfter = function(title, item, position) {\n        if (typeof position === 'undefined') {\n            throw new Error('Argument \\'position\\' is required, values: \\'before\\' or \\'after\\'');\n        } else if (typeof position !== 'string') {\n            throw new Error('Argument \\'position\\' must be of string type, values: \\'before\\' or \\'after\\'');\n        }\n        if (checkStructure(item)) {\n            var foundFlag = false;\n            _.forEach(items, function(value, index) {\n                if (value.title === title) {\n                    foundFlag = true;\n                    if (position === 'before') {\n                        items.splice(index, 0, item);\n                    } else if (position === 'after') {\n                        items.splice(index + 1, 0, item);\n                    }\n                    return false;\n                }\n            });\n            if (foundFlag === false) {\n                throw new Error('Element: \\'' + title + '\\' does not exist');\n            }\n        }\n    };\n    /**\n     * Function adds child link according to 'position' argument\n     * position = true - child will be added as first element\n     * position = false - child will be added as last element\n     *\n     * @param parent string\n     * @param item object\n     * @param position boolean\n     */\n    var addChild = function(parent, item, position) {\n        if (typeof position === 'undefined') {\n            position = false;\n        } else if (typeof position !== 'boolean') {\n            throw new Error('Argument \\'position\\' must be of boolean type');\n        }\n        if (checkStructure(item)) {\n            var foundFlag = false;\n            _.forEach(items, function(value, index) {\n                if (value.title === parent) {\n                    if (!_.has(value, 'children') || !Array.isArray(value.children)) {\n                        value.children = [];\n                    }\n                    if (position === true) {\n                        value.children.unshift(item);\n                    } else if (position === false) {\n                        value.children.push(item);\n                    }\n                    foundFlag = true;\n                    return false;\n                }\n            });\n            if (foundFlag === false) {\n                throw new Error('Parent: \\'' + parent + '\\' does not exist');\n            }\n        }\n    };\n    /**\n     * Function adds child link according to 'position' argument\n     * position = 'before' - child will be added before element specified by 'title'\n     * position = 'after' - child will be added after element specified by 'title'\n     *\n     * @param parent string\n     * @param title string\n     * @param item object\n     * @param position string\n     */\n    var addBeforeAfterChild = function(parent, title, item, position) {\n        if (typeof position === 'undefined') {\n            throw new Error('Argument \\'position\\' is required, values: \\'before\\' or \\'after\\'');\n        } else if (typeof position !== 'string') {\n            throw new Error('Argument \\'position\\' must be of string type, values: \\'before\\' or \\'after\\'');\n        }\n        if (checkStructure(item)) {\n            var foundFlag = false,\n                children = getChildren(parent);\n\n            if (children.length === 0) {\n                throw new Error('Parent: \\'' + parent + '\\' have no children');\n            }\n            _.forEach(children, function(value, index) {\n                if (value.title === title) {\n                    foundFlag = true;\n                    if (position === 'before') {\n                        children.splice(index, 0, item);\n                    } else if (position === 'after') {\n                        children.splice(index + 1, 0, item);\n                    }\n                    return false;\n                }\n            });\n            if (foundFlag === false) {\n                throw new Error('Child: \\'' + title + '\\' does not exist');\n            }\n        }\n    };\n\n    return {\n        /**\n         * Function adds element to the end of menu\n         *\n         * @param item object\n         */\n        add: function(item) {\n            if (checkStructure(item)) {\n                items.push(item);\n            }\n        },\n        /**\n         * Function adds element to the menu as first\n         *\n         * @param item object\n         */\n        addFirst: function(item) {\n            if (checkStructure(item)) {\n                items.unshift(item);\n            }\n        },\n        /**\n         * Function adds element 'item' to the menu before element specified by 'title'\n         *\n         * @param title string\n         * @param item object\n         */\n        addBefore: function(title, item) {\n            addBeforeAfter(title, item, 'before');\n        },\n        /**\n         * Function adds element 'item' to the menu after element specified by 'title'\n         *\n         * @param title string\n         * @param newItem object\n         */\n        addAfter: function(title, newItem) {\n            addBeforeAfter(title, newItem, 'after');\n        },\n        /**\n         * Function adds child link as first to the element specified by 'parent' argument\n         *\n         * @param parent string\n         * @param item object\n         */\n        addFirstChild: function(parent, item) {\n            addChild(parent, item, true);\n        },\n        /**\n         * Function adds child link as last to the element specified by 'parent' argument\n         *\n         * @param parent string\n         * @param item object\n         */\n        addLastChild: function(parent, item) {\n            addChild(parent, item, false);\n        },\n        /**\n         * Function adds link to the element specified by 'parent' before child element specified by 'title'\n         *\n         * @param parent string\n         * @param title string\n         * @param item object\n         */\n        addBeforeChild: function(parent, title, item) {\n            addBeforeAfterChild(parent, title, item, 'before');\n        },\n        /**\n         * Function adds link to the element specified by 'parent' after child element specified by 'title'\n         *\n         * @param parent string\n         * @param title string\n         * @param item object\n         */\n        addAfterChild: function(parent, title, item) {\n            addBeforeAfterChild(parent, title, item, 'after');\n        },\n        /**\n         * Function return items from menu\n         *\n         * @returns {Array}\n         */\n        getItems: function() {\n            return items;\n        },\n        /**\n         * Function exports links to 'dropdown' menu\n         *\n         * @returns {Array}\n         */\n        exportToDropdownMenu: function() {\n            var results = [];\n            var newItem = {};\n            _.forEach(items, function(value) {\n                _.forIn(value, function(value, key) {\n                    if (key === 'title') {\n                        newItem.text = value;\n                    } else {\n                        newItem[key] = value;\n                    }\n                });\n                results.push(newItem);\n                newItem = {};\n            });\n            return results;\n        }\n    };\n}\nmodule.exports = Navigation;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/lib/navigation.js\",\"/src/lib\")\n\n},{\"_process\":5,\"buffer\":1}],54:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction SettingsCtrl($scope, Utils, SettingsRepository, categories, settings) {\n\n    // fields that will use number type input\n    $scope.numericFields = ['defaultPageSize', 'seoDescLength'];\n\n    // option category\n    if (typeof Utils.$stateParams.key !== 'undefined') {\n        $scope.categoryKey = Utils.$stateParams.key;\n    }\n\n    // lang code exists\n    if (typeof Utils.$stateParams.langCode !== 'undefined') {\n        $scope.langCode = Utils.$stateParams.langCode;\n    }\n\n    // categories exists\n    if (typeof categories !== 'undefined') {\n        $scope.categories = SettingsRepository.clean(categories); // options categories\n    }\n\n    // settings exists\n    if (typeof settings !== 'undefined') {\n        $scope.settings = SettingsRepository.clean(settings); // category settings\n    }\n\n    // we need integer values for number type inputs\n    angular.forEach($scope.numericFields, function(propertyName){\n        if ($scope.settings.hasOwnProperty(propertyName)) {\n            angular.forEach($scope.settings[propertyName], function(v, k) {\n                $scope.settings[propertyName][k] = parseInt(v);\n            });\n        }\n    });\n\n    // save settings category options\n    $scope.save = function(key, value) {\n        // prepare option data\n        var data = {\n            key: key,\n            value: value\n        };\n\n        // save option\n        SettingsRepository.update($scope.categoryKey, data).then(function() {\n            Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n        });\n    };\n}\n\nSettingsCtrl.$inject = ['$scope', 'Utils', 'SettingsRepository', 'categories', 'settings'];\nmodule.exports = SettingsCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/settings/controllers/SettingsCtrl.js\",\"/src/settings/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],55:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction SettingCopyCtrl($scope, Utils, $modal, SettingsRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/settings/directives/';\n    // Copy modal\n    vm.copyModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'settingCopyModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param attrs attributes from directive\n         */\n        showModal: function(attrs) {\n            var self = this;\n            vm.attrs = attrs;\n            self.initModal('PLEASE_CONFIRM', 'OPTIONS_LANG.COPY_OPTION_QUESTION');\n        },\n\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n\n        /**\n         * Function apply setting value to other languages and performs the RestAngular PUT action for option value\n         *\n         */\n        saveSetting: function() {\n            var self = this;\n            self.closeModal();\n            // prepare option data\n            var data = {\n                key: vm.attrs.optionKey,\n                value: angular.fromJson(vm.attrs.optionValue)\n            };\n\n            // set option value to all other languages\n            _.forEach(data.value, function(n, key) {\n                data.value[key] = vm.attrs.optionNewValue;\n            });\n\n            // save option\n            SettingsRepository.update(vm.attrs.categoryKey, data).then(function() {\n                Utils.Notifications.addSuccess('OPTIONS_LANG.COPY_CONFIRM');\n                Utils.$state.reload();\n            });\n        }\n    };\n}\nSettingCopyCtrl.$inject = ['$scope', 'Utils', '$modal', 'SettingsRepository'];\nmodule.exports = SettingCopyCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/settings/controllers/directives/SettingCopyCtrl.js\",\"/src/settings/controllers/directives\")\n\n},{\"_process\":5,\"buffer\":1}],56:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction SettingCopyButton() {\n    return {\n        scope: '=',\n        restrict: 'A',\n        controller: 'SettingCopyCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, SettingCopyCtrl) {\n            element.on('click', function() {\n                SettingCopyCtrl.copyModal.showModal(attrs);\n            });\n        }\n    };\n}\n\nSettingCopyButton.$inject = [];\nmodule.exports = SettingCopyButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/settings/directives/SettingCopyButton.js\",\"/src/settings/directives\")\n\n},{\"_process\":5,\"buffer\":1}],57:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nangular.module('admin.settings', [])\n    .config([\n        '$stateProvider',\n        '$urlRouterProvider',\n        'RestangularProvider',\n        function($stateProvider, $urlRouterProvider, RestangularProvider) {\n\n            var viewPath = 'gzero/admin/views/settings/';\n\n            // Now set up the states\n            $stateProvider\n                .state('settings', {\n                    url: '/settings/{key}',\n                    templateUrl: viewPath + 'index.html',\n                    controller: 'SettingsCtrl',\n                    deepStateRedirect: true,\n                    resolve: {\n                        categories: [\n                            'SettingsRepository', function(SettingsRepository) {\n                                // get tree of all categories\n                                return SettingsRepository.list();\n                            }\n                        ],\n                        settings: [\n                            '$stateParams', 'SettingsRepository', function($stateParams, SettingsRepository) {\n                                return SettingsRepository.one($stateParams.key);\n                            }\n                        ]\n                    }\n                })\n                // SETTINGS SHOW\n                .state('settings.show', {\n                    url: '/{langCode}',\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'show.html',\n                            controller: 'SettingsCtrl'\n                        }\n                    }\n                });\n        }\n    ])\n    .controller('SettingsCtrl', require('./controllers/SettingsCtrl'))\n    .controller('SettingCopyCtrl', require('./controllers/directives/SettingCopyCtrl'))\n    .directive('settingCopyButton', require('./directives/SettingCopyButton.js'))\n    .factory('SettingsRepository', require('./services/SettingsRepository.js'))\n    .run([\n        'NavBar',\n        function(NavBar) {\n            NavBar.add({\n                title: 'SETTINGS', action: 'settings', icon: 'fa fa-cogs'\n            });\n        }\n    ]);\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/settings/module.js\",\"/src/settings\")\n\n},{\"./controllers/SettingsCtrl\":54,\"./controllers/directives/SettingCopyCtrl\":55,\"./directives/SettingCopyButton.js\":56,\"./services/SettingsRepository.js\":58,\"_process\":5,\"buffer\":1}],58:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nfunction SettingsRepository(Restangular) {\n    var api = 'admin/options';\n    var option = Restangular.all(api);\n    return {\n        one: function(id, params) {\n            return Restangular.one(api, id).get(params);\n        },\n        list: function(params) {\n            return option.getList(params);\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        },\n        delete: function(id) {\n            return Restangular.one(api, id).remove();\n        },\n        update: function(categoryKey, data) {\n            return Restangular.one(api, categoryKey).customPUT(data);\n        }\n    };\n}\n\nSettingsRepository.$inject = ['Restangular'];\nmodule.exports = SettingsRepository;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/settings/services/SettingsRepository.js\",\"/src/settings/services\")\n\n},{\"_process\":5,\"buffer\":1}],59:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserListCtrl($scope, Utils, UserRepository, $modal) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/user/directives/';\n    // Delete modal\n    vm.deleteModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'userDeleteModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n\n            // Bind hotkeys\n            Utils.hotkeys.add({\n                combo: 'enter',\n                description: 'CONFIRM_DELETE',\n                callback: function(){\n                    self.deleteUser();\n                }\n            });\n        },\n\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param userId user id to be removed, it is saved in the scope\n         */\n        showModal: function(userId) {\n            var self = this;\n            vm.userId = userId;\n            self.initModal('PLEASE_CONFIRM', 'DELETE_USER_QUESTION');\n            Utils.hotkeys.del('enter');\n        },\n\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n\n        /**\n         * Function performs the RestAngular DELETE action for user id in scope\n         *\n         */\n        deleteUser: function() {\n            var self = this;\n            UserRepository.delete(vm.userId).then(function(response) {\n                self.closeModal();\n                Utils.$state.go(Utils.$state.current, {}, {reload: true});\n            });\n        }\n\n    };\n}\n\nUserListCtrl.$inject = ['$scope', 'Utils', 'UserRepository', '$modal'];\nmodule.exports = UserListCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/user/controllers/UserDeleteCtrl.js\",\"/src/user/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],60:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserDetailsCtrl($scope, Utils, UserRepository) {\n    // get single user\n    UserRepository.one(Utils.$stateParams.userId).then(function(response) {\n        $scope.user = UserRepository.clean(response);\n    });\n}\nUserDetailsCtrl.$inject = ['$scope', 'Utils', 'UserRepository'];\nmodule.exports = UserDetailsCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/user/controllers/UserDetailsCtrl.js\",\"/src/user/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],61:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserDetailsCtrl($scope, UserRepository, Utils) {\n    // get single user\n    UserRepository.one(Utils.$stateParams.userId).then(function(response) {\n        $scope.user = UserRepository.clean(response);\n    });\n\n    $scope.saveUser = function() {\n        UserRepository.update($scope.user.id, $scope.user).then(function(response) {\n            Utils.$state.go('user.list');\n            Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n        });\n    };\n\n}\nUserDetailsCtrl.$inject = ['$scope', 'UserRepository', 'Utils'];\nmodule.exports = UserDetailsCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/user/controllers/UserEditCtrl.js\",\"/src/user/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],62:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserListCtrl($scope, Utils, $rootScope, UserRepository, NgTableParams) {\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'id': 'desc' // initial sorting\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            $scope.requestPending = true;\n            // prepare options to be sent to api\n            var queryOptions = {\n                type: 'user'\n            };\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting()) {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // get list by default\n            var promise = UserRepository.list(queryOptions);\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                $scope.requestPending = false;\n                params.total(response.meta.total);\n                $defer.resolve(UserRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\n\nUserListCtrl.$inject = ['$scope', 'Utils', '$rootScope', 'UserRepository', 'ngTableParams'];\nmodule.exports = UserListCtrl;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/user/controllers/UserListCtrl.js\",\"/src/user/controllers\")\n\n},{\"_process\":5,\"buffer\":1}],63:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserDeleteButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'UserDeleteCtrl',\n        controllerAs: 'vm',\n        bindToController: true,// because the scope is isolated\n        link: function(scope, element, attrs, UserDeleteController) {\n            element.on('click', function() {\n                // Show a delete modal from a controller\n                UserDeleteController.deleteModal.showModal(attrs.userId);\n            });\n        }\n    };\n}\n\nUserDeleteButton.$inject = [];\nmodule.exports = UserDeleteButton;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/user/directives/UserDeleteButton.js\",\"/src/user/directives\")\n\n},{\"_process\":5,\"buffer\":1}],64:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n'use strict';\n\nangular.module('admin.user', ['ngTable'])\n    .config([\n        '$stateProvider',\n        '$urlRouterProvider',\n        'RestangularProvider',\n        function($stateProvider, $urlRouterProvider, RestangularProvider) {\n\n            var viewPath = 'gzero/admin/views/user/';\n\n            // Now set up the states\n            $stateProvider\n                .state('user', {\n                    url: '/user',\n                    templateUrl: viewPath + 'index.html'\n                })\n                .state('user.show', {\n                    url: '/{userId}/show',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'show.html',\n                            controller: 'UserDetailsCtrl'\n                        }\n                    }\n                }).state('user.edit', {\n                    url: '/{userId}/edit',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'edit.html',\n                            controller: 'UserEditCtrl'\n                        }\n                    }\n                })\n                .state('user.list', {\n                    url: '/list/{userId}?page&perPage',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'list.html'\n                        }\n                    }\n\n                });\n        }\n    ])\n    .controller('UserListCtrl', require('./controllers/UserListCtrl'))\n    .controller('UserDeleteCtrl', require('./controllers/UserDeleteCtrl'))\n    .controller('UserEditCtrl', require('./controllers/UserEditCtrl'))\n    .controller('UserDetailsCtrl', require('./controllers/UserDetailsCtrl'))\n    .factory('UserRepository', require('./services/UserRepository.js'))\n    .directive('userDeleteButton', require('./directives/UserDeleteButton.js'))\n    .run([\n        'NavBar',\n        function(NavBar) {\n            NavBar.add({\n                title: 'USERS', action: 'user.list', icon: 'fa fa-user'\n                //children: [\n                //    {\n                //        title: 'USER_LIST',\n                //        action: 'user.list',\n                //        icon: 'fa fa-th'\n                //    }\n                //]\n            });\n        }\n    ]);\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/user/module.js\",\"/src/user\")\n\n},{\"./controllers/UserDeleteCtrl\":59,\"./controllers/UserDetailsCtrl\":60,\"./controllers/UserEditCtrl\":61,\"./controllers/UserListCtrl\":62,\"./directives/UserDeleteButton.js\":63,\"./services/UserRepository.js\":65,\"_process\":5,\"buffer\":1}],65:[function(require,module,exports){\n(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){\n/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserRepository(Restangular) {\n    var api = 'admin/users';\n    var users = Restangular.all(api);\n    return {\n        one: function(id, params) {\n            return Restangular.one(api, id).get(params);\n        },\n        tree: function(params) {\n            return Restangular.one(api).getList('tree', params);\n        },\n        list: function(params) {\n            return users.getList(params);\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        },\n        delete: function(id) {\n            return Restangular.one(api, id).remove();\n        },\n        update: function(id, user) {\n            return Restangular.one(api, id).customPUT(user);\n        }\n    };\n}\n\nUserRepository.$inject = ['Restangular'];\nmodule.exports = UserRepository;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},require(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/src/user/services/UserRepository.js\",\"/src/user/services\")\n\n},{\"_process\":5,\"buffer\":1}]},{},[6])\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2xpYi9iNjQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnVmZmVyL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9ub2RlX21vZHVsZXMvaXMtYXJyYXkvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwic3JjL2FwcC5qcyIsInNyYy9ibG9ja3MvY29udHJvbGxlcnMvQmxvY2tzQWRkQ3RybC5qcyIsInNyYy9ibG9ja3MvY29udHJvbGxlcnMvQmxvY2tzRWRpdEN0cmwuanMiLCJzcmMvYmxvY2tzL2NvbnRyb2xsZXJzL0Jsb2Nrc0xpc3RDdHJsLmpzIiwic3JjL2Jsb2Nrcy9tb2R1bGUuanMiLCJzcmMvYmxvY2tzL3NlcnZpY2VzL0Jsb2NrU2VydmljZS5qcyIsInNyYy9ibG9ja3Mvc2VydmljZXMvQmxvY2tzUmVwb3NpdG9yeS5qcyIsInNyYy9jb250ZW50L2NvbnRyb2xsZXJzL0NvbnRlbnRBZGRDdHJsLmpzIiwic3JjL2NvbnRlbnQvY29udHJvbGxlcnMvQ29udGVudEFkZFRyYW5zbGF0aW9uQ3RybC5qcyIsInNyYy9jb250ZW50L2NvbnRyb2xsZXJzL0NvbnRlbnRDYXRlZ29yeVRyZWVDdHJsLmpzIiwic3JjL2NvbnRlbnQvY29udHJvbGxlcnMvQ29udGVudERhc2hib2FyZEN0cmwuanMiLCJzcmMvY29udGVudC9jb250cm9sbGVycy9Db250ZW50RGV0YWlsc0N0cmwuanMiLCJzcmMvY29udGVudC9jb250cm9sbGVycy9Db250ZW50RGV0YWlsc0VkaXRDdHJsLmpzIiwic3JjL2NvbnRlbnQvY29udHJvbGxlcnMvQ29udGVudEhpc3RvcnlDdHJsLmpzIiwic3JjL2NvbnRlbnQvY29udHJvbGxlcnMvQ29udGVudExpc3RDdHJsLmpzIiwic3JjL2NvbnRlbnQvY29udHJvbGxlcnMvQ29udGVudFRyYXNoY2FuQ3RybC5qcyIsInNyYy9jb250ZW50L2NvbnRyb2xsZXJzL2RpcmVjdGl2ZXMvQ29udGVudERlbGV0ZUN0cmwuanMiLCJzcmMvY29udGVudC9jb250cm9sbGVycy9kaXJlY3RpdmVzL0NvbnRlbnRQdWJsaXNoZWRBdEVkaXRDdHJsLmpzIiwic3JjL2NvbnRlbnQvY29udHJvbGxlcnMvZGlyZWN0aXZlcy9Db250ZW50UmVzdG9yZUN0cmwuanMiLCJzcmMvY29udGVudC9jb250cm9sbGVycy9kaXJlY3RpdmVzL0NvbnRlbnRSb3V0ZUN0cmwuanMiLCJzcmMvY29udGVudC9jb250cm9sbGVycy9kaXJlY3RpdmVzL0NvbnRlbnRUb2dnbGVQcm9wZXJ0eUN0cmwuanMiLCJzcmMvY29udGVudC9jb250cm9sbGVycy9kaXJlY3RpdmVzL0NvbnRlbnRXZWlnaHRFZGl0Q3RybC5qcyIsInNyYy9jb250ZW50L2NvbnRyb2xsZXJzL2RpcmVjdGl2ZXMvU2V0VHJhbnNsYXRpb25Bc0FjdGl2ZUN0cmwuanMiLCJzcmMvY29udGVudC9jb250cm9sbGVycy9kaXJlY3RpdmVzL1RyYW5zbGF0aW9uRGVsZXRlQ3RybC5qcyIsInNyYy9jb250ZW50L2RpcmVjdGl2ZXMvQ29udGVudEFjdGlvbnNEcm9wZG93bi5qcyIsInNyYy9jb250ZW50L2RpcmVjdGl2ZXMvQ29udGVudERlbGV0ZUJ1dHRvbi5qcyIsInNyYy9jb250ZW50L2RpcmVjdGl2ZXMvQ29udGVudEVkaXRSb3V0ZUJ1dHRvbi5qcyIsInNyYy9jb250ZW50L2RpcmVjdGl2ZXMvQ29udGVudFB1Ymxpc2hlZEF0RWRpdEJ1dHRvbi5qcyIsInNyYy9jb250ZW50L2RpcmVjdGl2ZXMvQ29udGVudFJlc3RvcmVCdXR0b24uanMiLCJzcmMvY29udGVudC9kaXJlY3RpdmVzL0NvbnRlbnRUb2dnbGVQcm9wZXJ0eUJ1dHRvbi5qcyIsInNyYy9jb250ZW50L2RpcmVjdGl2ZXMvQ29udGVudFdlaWdodEVkaXRCdXR0b24uanMiLCJzcmMvY29udGVudC9kaXJlY3RpdmVzL1NldFRyYW5zbGF0aW9uQXNBY3RpdmVCdXR0b24uanMiLCJzcmMvY29udGVudC9kaXJlY3RpdmVzL1RyYW5zbGF0aW9uRGVsZXRlQnV0dG9uLmpzIiwic3JjL2NvbnRlbnQvbW9kdWxlLmpzIiwic3JjL2NvbnRlbnQvc2VydmljZXMvQ29udGVudFJlcG9zaXRvcnkuanMiLCJzcmMvY29yZS9jb250cm9sbGVycy9Db3JlQ3RybC5qcyIsInNyYy9jb3JlL2RpcmVjdGl2ZXMvU3RhdGVzRHJvcGRvd24uanMiLCJzcmMvY29yZS9maWx0ZXJzL0NvcmVGaWx0ZXJzLmpzIiwic3JjL2NvcmUvbW9kdWxlLmpzIiwic3JjL2NvcmUvc2VydmljZXMvTGFuZ1JlcG9zaXRvcnkuanMiLCJzcmMvY29yZS9zZXJ2aWNlcy9OYXZCYXIuanMiLCJzcmMvY29yZS9zZXJ2aWNlcy9Ub3BOYXZCYXIuanMiLCJzcmMvY29yZS9zZXJ2aWNlcy9UcmFuc2xhdGlvbnMuanMiLCJzcmMvY29yZS9zZXJ2aWNlcy9VdGlscy5qcyIsInNyYy9saWIvTm90aWZpY2F0aW9ucy5qcyIsInNyYy9saWIvU3RvcmFnZS5qcyIsInNyYy9saWIvY2tPcHRpb25zLmpzIiwic3JjL2xpYi9uYXZpZ2F0aW9uLmpzIiwic3JjL3NldHRpbmdzL2NvbnRyb2xsZXJzL1NldHRpbmdzQ3RybC5qcyIsInNyYy9zZXR0aW5ncy9jb250cm9sbGVycy9kaXJlY3RpdmVzL1NldHRpbmdDb3B5Q3RybC5qcyIsInNyYy9zZXR0aW5ncy9kaXJlY3RpdmVzL1NldHRpbmdDb3B5QnV0dG9uLmpzIiwic3JjL3NldHRpbmdzL21vZHVsZS5qcyIsInNyYy9zZXR0aW5ncy9zZXJ2aWNlcy9TZXR0aW5nc1JlcG9zaXRvcnkuanMiLCJzcmMvdXNlci9jb250cm9sbGVycy9Vc2VyRGVsZXRlQ3RybC5qcyIsInNyYy91c2VyL2NvbnRyb2xsZXJzL1VzZXJEZXRhaWxzQ3RybC5qcyIsInNyYy91c2VyL2NvbnRyb2xsZXJzL1VzZXJFZGl0Q3RybC5qcyIsInNyYy91c2VyL2NvbnRyb2xsZXJzL1VzZXJMaXN0Q3RybC5qcyIsInNyYy91c2VyL2RpcmVjdGl2ZXMvVXNlckRlbGV0ZUJ1dHRvbi5qcyIsInNyYy91c2VyL21vZHVsZS5qcyIsInNyYy91c2VyL3NlcnZpY2VzL1VzZXJSZXBvc2l0b3J5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdDRDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzVIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNwRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDcEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDNUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDaEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDNUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzVFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN4RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNsR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUM1RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDclRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNoSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNwSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3hRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDekVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3JGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNqRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXMtYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxudmFyIGtNYXhMZW5ndGggPSAweDNmZmZmZmZmXG52YXIgcm9vdFBhcmVudCA9IHt9XG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIE5vdGU6XG4gKlxuICogLSBJbXBsZW1lbnRhdGlvbiBtdXN0IHN1cHBvcnQgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMuXG4gKiAgIEZpcmVmb3ggNC0yOSBsYWNrZWQgc3VwcG9ydCwgZml4ZWQgaW4gRmlyZWZveCAzMCsuXG4gKiAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG4gKlxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXkgd2lsbFxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgd2lsbCB3b3JrIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSAoZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIGFyci5mb28gPSBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgbmV3IFVpbnQ4QXJyYXkoMSkuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn0pKClcblxuLyoqXG4gKiBDbGFzczogQnVmZmVyXG4gKiA9PT09PT09PT09PT09XG4gKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBhcmUgYXVnbWVudGVkXG4gKiB3aXRoIGZ1bmN0aW9uIHByb3BlcnRpZXMgZm9yIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBBUEkgZnVuY3Rpb25zLiBXZSB1c2VcbiAqIGBVaW50OEFycmF5YCBzbyB0aGF0IHNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0IHJldHVybnNcbiAqIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIEJ5IGF1Z21lbnRpbmcgdGhlIGluc3RhbmNlcywgd2UgY2FuIGF2b2lkIG1vZGlmeWluZyB0aGUgYFVpbnQ4QXJyYXlgXG4gKiBwcm90b3R5cGUuXG4gKi9cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgLy8gQXZvaWQgZ29pbmcgdGhyb3VnaCBhbiBBcmd1bWVudHNBZGFwdG9yVHJhbXBvbGluZSBpbiB0aGUgY29tbW9uIGNhc2UuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGFyZ3VtZW50c1sxXSlcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcpXG4gIH1cblxuICB0aGlzLmxlbmd0aCA9IDBcbiAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWRcblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZyb21OdW1iZXIodGhpcywgYXJnKVxuICB9XG5cbiAgLy8gU2xpZ2h0bHkgbGVzcyBjb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhpcywgYXJnLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6ICd1dGY4JylcbiAgfVxuXG4gIC8vIFVudXN1YWwuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoaXMsIGFyZylcbn1cblxuZnVuY3Rpb24gZnJvbU51bWJlciAodGhhdCwgbGVuZ3RoKSB7XG4gIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGggPCAwID8gMCA6IGNoZWNrZWQobGVuZ3RoKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykgZW5jb2RpbmcgPSAndXRmOCdcblxuICAvLyBBc3N1bXB0aW9uOiBieXRlTGVuZ3RoKCkgcmV0dXJuIHZhbHVlIGlzIGFsd2F5cyA8IGtNYXhMZW5ndGguXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoKVxuXG4gIHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqZWN0KSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqZWN0KSkgcmV0dXJuIGZyb21CdWZmZXIodGhhdCwgb2JqZWN0KVxuXG4gIGlmIChpc0FycmF5KG9iamVjdCkpIHJldHVybiBmcm9tQXJyYXkodGhhdCwgb2JqZWN0KVxuXG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ211c3Qgc3RhcnQgd2l0aCBudW1iZXIsIGJ1ZmZlciwgYXJyYXkgb3Igc3RyaW5nJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tVHlwZWRBcnJheSh0aGF0LCBvYmplY3QpXG4gIH1cblxuICBpZiAob2JqZWN0Lmxlbmd0aCkgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqZWN0KVxuXG4gIHJldHVybiBmcm9tSnNvbk9iamVjdCh0aGF0LCBvYmplY3QpXG59XG5cbmZ1bmN0aW9uIGZyb21CdWZmZXIgKHRoYXQsIGJ1ZmZlcikge1xuICB2YXIgbGVuZ3RoID0gY2hlY2tlZChidWZmZXIubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGFsbG9jYXRlKHRoYXQsIGxlbmd0aClcbiAgYnVmZmVyLmNvcHkodGhhdCwgMCwgMCwgbGVuZ3RoKVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXkgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vLyBEdXBsaWNhdGUgb2YgZnJvbUFycmF5KCkgdG8ga2VlcCBmcm9tQXJyYXkoKSBtb25vbW9ycGhpYy5cbmZ1bmN0aW9uIGZyb21UeXBlZEFycmF5ICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoKVxuICAvLyBUcnVuY2F0aW5nIHRoZSBlbGVtZW50cyBpcyBwcm9iYWJseSBub3Qgd2hhdCBwZW9wbGUgZXhwZWN0IGZyb20gdHlwZWRcbiAgLy8gYXJyYXlzIHdpdGggQllURVNfUEVSX0VMRU1FTlQgPiAxIGJ1dCBpdCdzIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3JcbiAgLy8gb2YgdGhlIG9sZCBCdWZmZXIgY29uc3RydWN0b3IuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLy8gRGVzZXJpYWxpemUgeyB0eXBlOiAnQnVmZmVyJywgZGF0YTogWzEsMiwzLC4uLl0gfSBpbnRvIGEgQnVmZmVyIG9iamVjdC5cbi8vIFJldHVybnMgYSB6ZXJvLWxlbmd0aCBidWZmZXIgZm9yIGlucHV0cyB0aGF0IGRvbid0IGNvbmZvcm0gdG8gdGhlIHNwZWMuXG5mdW5jdGlvbiBmcm9tSnNvbk9iamVjdCAodGhhdCwgb2JqZWN0KSB7XG4gIHZhciBhcnJheVxuICB2YXIgbGVuZ3RoID0gMFxuXG4gIGlmIChvYmplY3QudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmplY3QuZGF0YSkpIHtcbiAgICBhcnJheSA9IG9iamVjdC5kYXRhXG4gICAgbGVuZ3RoID0gY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB9XG4gIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGFsbG9jYXRlICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IEJ1ZmZlci5fYXVnbWVudChuZXcgVWludDhBcnJheShsZW5ndGgpKVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICAgIHRoYXQuX2lzQnVmZmVyID0gdHJ1ZVxuICB9XG5cbiAgdmFyIGZyb21Qb29sID0gbGVuZ3RoICE9PSAwICYmIGxlbmd0aCA8PSBCdWZmZXIucG9vbFNpemUgPj4+IDFcbiAgaWYgKGZyb21Qb29sKSB0aGF0LnBhcmVudCA9IHJvb3RQYXJlbnRcblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAoc3ViamVjdCwgZW5jb2RpbmcpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNsb3dCdWZmZXIpKSByZXR1cm4gbmV3IFNsb3dCdWZmZXIoc3ViamVjdCwgZW5jb2RpbmcpXG5cbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoc3ViamVjdCwgZW5jb2RpbmcpXG4gIGRlbGV0ZSBidWYucGFyZW50XG4gIHJldHVybiBidWZcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIHZhciBpID0gMFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkgYnJlYWtcblxuICAgICsraVxuICB9XG5cbiAgaWYgKGkgIT09IGxlbikge1xuICAgIHggPSBhW2ldXG4gICAgeSA9IGJbaV1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAncmF3JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignbGlzdCBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMuJylcblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcigwKVxuICB9IGVsc2UgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGxpc3RbMF1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXVxuICAgIGl0ZW0uY29weShidWYsIHBvcylcbiAgICBwb3MgKz0gaXRlbS5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSBzdHJpbmcgPSBTdHJpbmcoc3RyaW5nKVxuXG4gIGlmIChzdHJpbmcubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIHN3aXRjaCAoZW5jb2RpbmcgfHwgJ3V0ZjgnKSB7XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAncmF3JzpcbiAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoICogMlxuICAgIGNhc2UgJ2hleCc6XG4gICAgICByZXR1cm4gc3RyaW5nLmxlbmd0aCA+Pj4gMVxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuLy8gcHJlLXNldCBmb3IgdmFsdWVzIHRoYXQgbWF5IGV4aXN0IGluIHRoZSBmdXR1cmVcbkJ1ZmZlci5wcm90b3R5cGUubGVuZ3RoID0gdW5kZWZpbmVkXG5CdWZmZXIucHJvdG90eXBlLnBhcmVudCA9IHVuZGVmaW5lZFxuXG4vLyB0b1N0cmluZyhlbmNvZGluZywgc3RhcnQ9MCwgZW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgc3RhcnQgPSBzdGFydCB8IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID09PSBJbmZpbml0eSA/IHRoaXMubGVuZ3RoIDogZW5kIHwgMFxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG4gIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmIChlbmQgPD0gc3RhcnQpIHJldHVybiAnJ1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGJpbmFyeVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gMFxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYilcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0KSB7XG4gIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgYnl0ZU9mZnNldCA+Pj0gMFxuXG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG4gIGlmIChieXRlT2Zmc2V0ID49IHRoaXMubGVuZ3RoKSByZXR1cm4gLTFcblxuICAvLyBOZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IE1hdGgubWF4KHRoaXMubGVuZ3RoICsgYnl0ZU9mZnNldCwgMClcblxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xIC8vIHNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nIGFsd2F5cyBmYWlsc1xuICAgIHJldHVybiBTdHJpbmcucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0aGlzLCB2YWwsIGJ5dGVPZmZzZXQpXG4gIH1cbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQpXG4gIH1cbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodGhpcywgdmFsLCBieXRlT2Zmc2V0KVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKHRoaXMsIFsgdmFsIF0sIGJ5dGVPZmZzZXQpXG4gIH1cblxuICBmdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0KSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAodmFyIGkgPSAwOyBieXRlT2Zmc2V0ICsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFycltieXRlT2Zmc2V0ICsgaV0gPT09IHZhbFtmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleF0pIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWwubGVuZ3RoKSByZXR1cm4gYnl0ZU9mZnNldCArIGZvdW5kSW5kZXhcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTFcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbi8vIGBnZXRgIHdpbGwgYmUgcmVtb3ZlZCBpbiBOb2RlIDAuMTMrXG5CdWZmZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAob2Zmc2V0KSB7XG4gIGNvbnNvbGUubG9nKCcuZ2V0KCkgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHVzaW5nIGFycmF5IGluZGV4ZXMgaW5zdGVhZC4nKVxuICByZXR1cm4gdGhpcy5yZWFkVUludDgob2Zmc2V0KVxufVxuXG4vLyBgc2V0YCB3aWxsIGJlIHJlbW92ZWQgaW4gTm9kZSAwLjEzK1xuQnVmZmVyLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKHYsIG9mZnNldCkge1xuICBjb25zb2xlLmxvZygnLnNldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuJylcbiAgcmV0dXJuIHRoaXMud3JpdGVVSW50OCh2LCBvZmZzZXQpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmluYXJ5V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHZhciBzd2FwID0gZW5jb2RpbmdcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIG9mZnNldCA9IGxlbmd0aCB8IDBcbiAgICBsZW5ndGggPSBzd2FwXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGJpbmFyeVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXMgPSAnJ1xuICB2YXIgdG1wID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgaWYgKGJ1ZltpXSA8PSAweDdGKSB7XG4gICAgICByZXMgKz0gZGVjb2RlVXRmOENoYXIodG1wKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICAgICAgdG1wID0gJydcbiAgICB9IGVsc2Uge1xuICAgICAgdG1wICs9ICclJyArIGJ1ZltpXS50b1N0cmluZygxNilcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzICsgZGVjb2RlVXRmOENoYXIodG1wKVxufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBiaW5hcnlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gQnVmZmVyLl9hdWdtZW50KHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCkpXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgaSsrKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICBpZiAobmV3QnVmLmxlbmd0aCkgbmV3QnVmLnBhcmVudCA9IHRoaXMucGFyZW50IHx8IHRoaXNcblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2J1ZmZlciBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndmFsdWUgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignaW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCksIDApXG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCksIDApXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgaSsrKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSB2YWx1ZVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSB2YWx1ZVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7IGkrKykge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gdmFsdWVcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSB2YWx1ZVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSB2YWx1ZSA8IDAgPyAxIDogMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IHZhbHVlIDwgMCA/IDEgOiAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gdmFsdWVcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9IHZhbHVlXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSB2YWx1ZVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3ZhbHVlIGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignaW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcblxuICBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuX3NldCh0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksIHRhcmdldFN0YXJ0KVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBmaWxsKHZhbHVlLCBzdGFydD0wLCBlbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gIGlmICghdmFsdWUpIHZhbHVlID0gMFxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQpIGVuZCA9IHRoaXMubGVuZ3RoXG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignZW5kIDwgc3RhcnQnKVxuXG4gIC8vIEZpbGwgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuXG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3N0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2VuZCBvdXQgb2YgYm91bmRzJylcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgIHRoaXNbaV0gPSB2YWx1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSB1dGY4VG9CeXRlcyh2YWx1ZS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICB0aGlzW2ldID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgYEFycmF5QnVmZmVyYCB3aXRoIHRoZSAqY29waWVkKiBtZW1vcnkgb2YgdGhlIGJ1ZmZlciBpbnN0YW5jZS5cbiAqIEFkZGVkIGluIE5vZGUgMC4xMi4gT25seSBhdmFpbGFibGUgaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IEFycmF5QnVmZmVyLlxuICovXG5CdWZmZXIucHJvdG90eXBlLnRvQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiB0b0FycmF5QnVmZmVyICgpIHtcbiAgaWYgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgICAgcmV0dXJuIChuZXcgQnVmZmVyKHRoaXMpKS5idWZmZXJcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KHRoaXMubGVuZ3RoKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJ1Zi5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICBidWZbaV0gPSB0aGlzW2ldXG4gICAgICB9XG4gICAgICByZXR1cm4gYnVmLmJ1ZmZlclxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCdWZmZXIudG9BcnJheUJ1ZmZlciBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlcicpXG4gIH1cbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgQlAgPSBCdWZmZXIucHJvdG90eXBlXG5cbi8qKlxuICogQXVnbWVudCBhIFVpbnQ4QXJyYXkgKmluc3RhbmNlKiAobm90IHRoZSBVaW50OEFycmF5IGNsYXNzISkgd2l0aCBCdWZmZXIgbWV0aG9kc1xuICovXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiBfYXVnbWVudCAoYXJyKSB7XG4gIGFyci5jb25zdHJ1Y3RvciA9IEJ1ZmZlclxuICBhcnIuX2lzQnVmZmVyID0gdHJ1ZVxuXG4gIC8vIHNhdmUgcmVmZXJlbmNlIHRvIG9yaWdpbmFsIFVpbnQ4QXJyYXkgc2V0IG1ldGhvZCBiZWZvcmUgb3ZlcndyaXRpbmdcbiAgYXJyLl9zZXQgPSBhcnIuc2V0XG5cbiAgLy8gZGVwcmVjYXRlZCwgd2lsbCBiZSByZW1vdmVkIGluIG5vZGUgMC4xMytcbiAgYXJyLmdldCA9IEJQLmdldFxuICBhcnIuc2V0ID0gQlAuc2V0XG5cbiAgYXJyLndyaXRlID0gQlAud3JpdGVcbiAgYXJyLnRvU3RyaW5nID0gQlAudG9TdHJpbmdcbiAgYXJyLnRvTG9jYWxlU3RyaW5nID0gQlAudG9TdHJpbmdcbiAgYXJyLnRvSlNPTiA9IEJQLnRvSlNPTlxuICBhcnIuZXF1YWxzID0gQlAuZXF1YWxzXG4gIGFyci5jb21wYXJlID0gQlAuY29tcGFyZVxuICBhcnIuaW5kZXhPZiA9IEJQLmluZGV4T2ZcbiAgYXJyLmNvcHkgPSBCUC5jb3B5XG4gIGFyci5zbGljZSA9IEJQLnNsaWNlXG4gIGFyci5yZWFkVUludExFID0gQlAucmVhZFVJbnRMRVxuICBhcnIucmVhZFVJbnRCRSA9IEJQLnJlYWRVSW50QkVcbiAgYXJyLnJlYWRVSW50OCA9IEJQLnJlYWRVSW50OFxuICBhcnIucmVhZFVJbnQxNkxFID0gQlAucmVhZFVJbnQxNkxFXG4gIGFyci5yZWFkVUludDE2QkUgPSBCUC5yZWFkVUludDE2QkVcbiAgYXJyLnJlYWRVSW50MzJMRSA9IEJQLnJlYWRVSW50MzJMRVxuICBhcnIucmVhZFVJbnQzMkJFID0gQlAucmVhZFVJbnQzMkJFXG4gIGFyci5yZWFkSW50TEUgPSBCUC5yZWFkSW50TEVcbiAgYXJyLnJlYWRJbnRCRSA9IEJQLnJlYWRJbnRCRVxuICBhcnIucmVhZEludDggPSBCUC5yZWFkSW50OFxuICBhcnIucmVhZEludDE2TEUgPSBCUC5yZWFkSW50MTZMRVxuICBhcnIucmVhZEludDE2QkUgPSBCUC5yZWFkSW50MTZCRVxuICBhcnIucmVhZEludDMyTEUgPSBCUC5yZWFkSW50MzJMRVxuICBhcnIucmVhZEludDMyQkUgPSBCUC5yZWFkSW50MzJCRVxuICBhcnIucmVhZEZsb2F0TEUgPSBCUC5yZWFkRmxvYXRMRVxuICBhcnIucmVhZEZsb2F0QkUgPSBCUC5yZWFkRmxvYXRCRVxuICBhcnIucmVhZERvdWJsZUxFID0gQlAucmVhZERvdWJsZUxFXG4gIGFyci5yZWFkRG91YmxlQkUgPSBCUC5yZWFkRG91YmxlQkVcbiAgYXJyLndyaXRlVUludDggPSBCUC53cml0ZVVJbnQ4XG4gIGFyci53cml0ZVVJbnRMRSA9IEJQLndyaXRlVUludExFXG4gIGFyci53cml0ZVVJbnRCRSA9IEJQLndyaXRlVUludEJFXG4gIGFyci53cml0ZVVJbnQxNkxFID0gQlAud3JpdGVVSW50MTZMRVxuICBhcnIud3JpdGVVSW50MTZCRSA9IEJQLndyaXRlVUludDE2QkVcbiAgYXJyLndyaXRlVUludDMyTEUgPSBCUC53cml0ZVVJbnQzMkxFXG4gIGFyci53cml0ZVVJbnQzMkJFID0gQlAud3JpdGVVSW50MzJCRVxuICBhcnIud3JpdGVJbnRMRSA9IEJQLndyaXRlSW50TEVcbiAgYXJyLndyaXRlSW50QkUgPSBCUC53cml0ZUludEJFXG4gIGFyci53cml0ZUludDggPSBCUC53cml0ZUludDhcbiAgYXJyLndyaXRlSW50MTZMRSA9IEJQLndyaXRlSW50MTZMRVxuICBhcnIud3JpdGVJbnQxNkJFID0gQlAud3JpdGVJbnQxNkJFXG4gIGFyci53cml0ZUludDMyTEUgPSBCUC53cml0ZUludDMyTEVcbiAgYXJyLndyaXRlSW50MzJCRSA9IEJQLndyaXRlSW50MzJCRVxuICBhcnIud3JpdGVGbG9hdExFID0gQlAud3JpdGVGbG9hdExFXG4gIGFyci53cml0ZUZsb2F0QkUgPSBCUC53cml0ZUZsb2F0QkVcbiAgYXJyLndyaXRlRG91YmxlTEUgPSBCUC53cml0ZURvdWJsZUxFXG4gIGFyci53cml0ZURvdWJsZUJFID0gQlAud3JpdGVEb3VibGVCRVxuICBhcnIuZmlsbCA9IEJQLmZpbGxcbiAgYXJyLmluc3BlY3QgPSBCUC5pbnNwZWN0XG4gIGFyci50b0FycmF5QnVmZmVyID0gQlAudG9BcnJheUJ1ZmZlclxuXG4gIHJldHVybiBhcnJcbn1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtelxcLV0vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG4gIHZhciBpID0gMFxuXG4gIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgICAgICBjb2RlUG9pbnQgPSBsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwIHwgMHgxMDAwMFxuICAgICAgICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG5cbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgICB9XG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDIwMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBkZWNvZGVVdGY4Q2hhciAoc3RyKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkZGRCkgLy8gVVRGIDggaW52YWxpZCBjaGFyXG4gIH1cbn1cbiIsInZhciBsb29rdXAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cbjsoZnVuY3Rpb24gKGV4cG9ydHMpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG4gIHZhciBBcnIgPSAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnKVxuICAgID8gVWludDhBcnJheVxuICAgIDogQXJyYXlcblxuXHR2YXIgUExVUyAgID0gJysnLmNoYXJDb2RlQXQoMClcblx0dmFyIFNMQVNIICA9ICcvJy5jaGFyQ29kZUF0KDApXG5cdHZhciBOVU1CRVIgPSAnMCcuY2hhckNvZGVBdCgwKVxuXHR2YXIgTE9XRVIgID0gJ2EnLmNoYXJDb2RlQXQoMClcblx0dmFyIFVQUEVSICA9ICdBJy5jaGFyQ29kZUF0KDApXG5cdHZhciBQTFVTX1VSTF9TQUZFID0gJy0nLmNoYXJDb2RlQXQoMClcblx0dmFyIFNMQVNIX1VSTF9TQUZFID0gJ18nLmNoYXJDb2RlQXQoMClcblxuXHRmdW5jdGlvbiBkZWNvZGUgKGVsdCkge1xuXHRcdHZhciBjb2RlID0gZWx0LmNoYXJDb2RlQXQoMClcblx0XHRpZiAoY29kZSA9PT0gUExVUyB8fFxuXHRcdCAgICBjb2RlID09PSBQTFVTX1VSTF9TQUZFKVxuXHRcdFx0cmV0dXJuIDYyIC8vICcrJ1xuXHRcdGlmIChjb2RlID09PSBTTEFTSCB8fFxuXHRcdCAgICBjb2RlID09PSBTTEFTSF9VUkxfU0FGRSlcblx0XHRcdHJldHVybiA2MyAvLyAnLydcblx0XHRpZiAoY29kZSA8IE5VTUJFUilcblx0XHRcdHJldHVybiAtMSAvL25vIG1hdGNoXG5cdFx0aWYgKGNvZGUgPCBOVU1CRVIgKyAxMClcblx0XHRcdHJldHVybiBjb2RlIC0gTlVNQkVSICsgMjYgKyAyNlxuXHRcdGlmIChjb2RlIDwgVVBQRVIgKyAyNilcblx0XHRcdHJldHVybiBjb2RlIC0gVVBQRVJcblx0XHRpZiAoY29kZSA8IExPV0VSICsgMjYpXG5cdFx0XHRyZXR1cm4gY29kZSAtIExPV0VSICsgMjZcblx0fVxuXG5cdGZ1bmN0aW9uIGI2NFRvQnl0ZUFycmF5IChiNjQpIHtcblx0XHR2YXIgaSwgaiwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuXG5cdFx0aWYgKGI2NC5sZW5ndGggJSA0ID4gMCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Jylcblx0XHR9XG5cblx0XHQvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKVxuXHRcdC8vIGlmIHRoZXJlIGFyZSB0d28gcGxhY2Vob2xkZXJzLCB0aGFuIHRoZSB0d28gY2hhcmFjdGVycyBiZWZvcmUgaXRcblx0XHQvLyByZXByZXNlbnQgb25lIGJ5dGVcblx0XHQvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXNcblx0XHQvLyB0aGlzIGlzIGp1c3QgYSBjaGVhcCBoYWNrIHRvIG5vdCBkbyBpbmRleE9mIHR3aWNlXG5cdFx0dmFyIGxlbiA9IGI2NC5sZW5ndGhcblx0XHRwbGFjZUhvbGRlcnMgPSAnPScgPT09IGI2NC5jaGFyQXQobGVuIC0gMikgPyAyIDogJz0nID09PSBiNjQuY2hhckF0KGxlbiAtIDEpID8gMSA6IDBcblxuXHRcdC8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuXHRcdGFyciA9IG5ldyBBcnIoYjY0Lmxlbmd0aCAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKVxuXG5cdFx0Ly8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuXHRcdGwgPSBwbGFjZUhvbGRlcnMgPiAwID8gYjY0Lmxlbmd0aCAtIDQgOiBiNjQubGVuZ3RoXG5cblx0XHR2YXIgTCA9IDBcblxuXHRcdGZ1bmN0aW9uIHB1c2ggKHYpIHtcblx0XHRcdGFycltMKytdID0gdlxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgaSArPSA0LCBqICs9IDMpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMTgpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAxKSkgPDwgMTIpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAyKSkgPDwgNikgfCBkZWNvZGUoYjY0LmNoYXJBdChpICsgMykpXG5cdFx0XHRwdXNoKCh0bXAgJiAweEZGMDAwMCkgPj4gMTYpXG5cdFx0XHRwdXNoKCh0bXAgJiAweEZGMDApID4+IDgpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fVxuXG5cdFx0aWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuXHRcdFx0dG1wID0gKGRlY29kZShiNjQuY2hhckF0KGkpKSA8PCAyKSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMSkpID4+IDQpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fSBlbHNlIGlmIChwbGFjZUhvbGRlcnMgPT09IDEpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMTApIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAxKSkgPDwgNCkgfCAoZGVjb2RlKGI2NC5jaGFyQXQoaSArIDIpKSA+PiAyKVxuXHRcdFx0cHVzaCgodG1wID4+IDgpICYgMHhGRilcblx0XHRcdHB1c2godG1wICYgMHhGRilcblx0XHR9XG5cblx0XHRyZXR1cm4gYXJyXG5cdH1cblxuXHRmdW5jdGlvbiB1aW50OFRvQmFzZTY0ICh1aW50OCkge1xuXHRcdHZhciBpLFxuXHRcdFx0ZXh0cmFCeXRlcyA9IHVpbnQ4Lmxlbmd0aCAlIDMsIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG5cdFx0XHRvdXRwdXQgPSBcIlwiLFxuXHRcdFx0dGVtcCwgbGVuZ3RoXG5cblx0XHRmdW5jdGlvbiBlbmNvZGUgKG51bSkge1xuXHRcdFx0cmV0dXJuIGxvb2t1cC5jaGFyQXQobnVtKVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKG51bSA+PiAxOCAmIDB4M0YpICsgZW5jb2RlKG51bSA+PiAxMiAmIDB4M0YpICsgZW5jb2RlKG51bSA+PiA2ICYgMHgzRikgKyBlbmNvZGUobnVtICYgMHgzRilcblx0XHR9XG5cblx0XHQvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG5cdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdWludDgubGVuZ3RoIC0gZXh0cmFCeXRlczsgaSA8IGxlbmd0aDsgaSArPSAzKSB7XG5cdFx0XHR0ZW1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKVxuXHRcdFx0b3V0cHV0ICs9IHRyaXBsZXRUb0Jhc2U2NCh0ZW1wKVxuXHRcdH1cblxuXHRcdC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcblx0XHRzd2l0Y2ggKGV4dHJhQnl0ZXMpIHtcblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0dGVtcCA9IHVpbnQ4W3VpbnQ4Lmxlbmd0aCAtIDFdXG5cdFx0XHRcdG91dHB1dCArPSBlbmNvZGUodGVtcCA+PiAyKVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKCh0ZW1wIDw8IDQpICYgMHgzRilcblx0XHRcdFx0b3V0cHV0ICs9ICc9PSdcblx0XHRcdFx0YnJlYWtcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dGVtcCA9ICh1aW50OFt1aW50OC5sZW5ndGggLSAyXSA8PCA4KSArICh1aW50OFt1aW50OC5sZW5ndGggLSAxXSlcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSh0ZW1wID4+IDEwKVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKCh0ZW1wID4+IDQpICYgMHgzRilcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSgodGVtcCA8PCAyKSAmIDB4M0YpXG5cdFx0XHRcdG91dHB1dCArPSAnPSdcblx0XHRcdFx0YnJlYWtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0cHV0XG5cdH1cblxuXHRleHBvcnRzLnRvQnl0ZUFycmF5ID0gYjY0VG9CeXRlQXJyYXlcblx0ZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gdWludDhUb0Jhc2U2NFxufSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgPyAodGhpcy5iYXNlNjRqcyA9IHt9KSA6IGV4cG9ydHMpKVxuIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gZSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJcbi8qKlxuICogaXNBcnJheVxuICovXG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiB0b1N0cmluZ1xuICovXG5cbnZhciBzdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBgdmFsYFxuICogaXMgYW4gYXJyYXkuXG4gKlxuICogZXhhbXBsZTpcbiAqXG4gKiAgICAgICAgaXNBcnJheShbXSk7XG4gKiAgICAgICAgLy8gPiB0cnVlXG4gKiAgICAgICAgaXNBcnJheShhcmd1bWVudHMpO1xuICogICAgICAgIC8vID4gZmFsc2VcbiAqICAgICAgICBpc0FycmF5KCcnKTtcbiAqICAgICAgICAvLyA+IGZhbHNlXG4gKlxuICogQHBhcmFtIHttaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtib29sfVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheSB8fCBmdW5jdGlvbiAodmFsKSB7XG4gIHJldHVybiAhISB2YWwgJiYgJ1tvYmplY3QgQXJyYXldJyA9PSBzdHIuY2FsbCh2YWwpO1xufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG4vLyBUT0RPKHNodHlsbWFuKVxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuL2NvcmUvbW9kdWxlLmpzJyk7XG5yZXF1aXJlKCcuL2NvbnRlbnQvbW9kdWxlLmpzJyk7XG5yZXF1aXJlKCcuL2Jsb2Nrcy9tb2R1bGUuanMnKTtcbnJlcXVpcmUoJy4vdXNlci9tb2R1bGUuanMnKTtcbnJlcXVpcmUoJy4vc2V0dGluZ3MvbW9kdWxlLmpzJyk7XG5cbnZhciBkZXBlbmRlbmNpZXMgPSBbXG4gICAgJ3Jlc3Rhbmd1bGFyJyxcbiAgICAndWkucm91dGVyJyxcbiAgICAndWkucm91dGVyLmRlZmF1bHQnLFxuICAgICdjdC51aS5yb3V0ZXIuZXh0cmFzJyxcbiAgICAnbmdBbmltYXRlJyxcbiAgICAnbWdjcmVhLm5nU3RyYXAnLFxuICAgICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJyxcbiAgICAnY2tlZGl0b3InLFxuICAgICdhbmd1bGFyLWxvYWRpbmctYmFyJyxcbiAgICAnbmcuaHR0cExvYWRlcicsXG4gICAgJ2NmcC5ob3RrZXlzJyxcbiAgICAnYWRtaW4uY29yZScsXG4gICAgJ2FkbWluLmNvbnRlbnQnLFxuICAgICdhZG1pbi5ibG9ja3MnLFxuICAgICdhZG1pbi51c2VyJyxcbiAgICAnYWRtaW4uc2V0dGluZ3MnXG5dO1xuZGVwZW5kZW5jaWVzLnB1c2guYXBwbHkoZGVwZW5kZW5jaWVzLCBtb2R1bGVzKTsgLy8gT3RoZXIgbW9kdWxlcyBhcmUgbG9hZGVkIGJ5IHR3aWdcblxuYW5ndWxhci5tb2R1bGUoJ2FkbWluJywgZGVwZW5kZW5jaWVzKS5jb25maWcoW1xuICAgICckc3RhdGVQcm92aWRlcicsXG4gICAgJyR1cmxSb3V0ZXJQcm92aWRlcicsXG4gICAgJ1Jlc3Rhbmd1bGFyUHJvdmlkZXInLFxuICAgICckdHJhbnNsYXRlUHJvdmlkZXInLFxuICAgICckdHJhbnNsYXRlUGFydGlhbExvYWRlclByb3ZpZGVyJyxcbiAgICAnaHR0cE1ldGhvZEludGVyY2VwdG9yUHJvdmlkZXInLFxuICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsIFJlc3Rhbmd1bGFyUHJvdmlkZXIsICR0cmFuc2xhdGVQcm92aWRlciwgJHRyYW5zbGF0ZVBhcnRpYWxMb2FkZXJQcm92aWRlciwgaHR0cE1ldGhvZEludGVyY2VwdG9yUHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIHZpZXdQYXRoID0gJ2d6ZXJvL2FkbWluL3ZpZXdzLyc7XG5cbiAgICAgICAgLy8gRm9yIGFueSB1bm1hdGNoZWQgdXJsLCByZWRpcmVjdCB0byAvc3RhdGUxXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbiAgICAgICAgLy8gV2hpdGVsaXN0IHRoZSBkb21haW5zIHRoYXQgdGhlIGxvYWRlciB3aWwgc2hvdyBmb3JcbiAgICAgICAgaHR0cE1ldGhvZEludGVyY2VwdG9yUHJvdmlkZXIud2hpdGVsaXN0RG9tYWluKENvbmZpZy5kb21haW4pO1xuICAgICAgICAvLyBOb3cgc2V0IHVwIHRoZSBzdGF0ZXNcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC5zdGF0ZSgnaG9tZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnaG9tZS5odG1sJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZUxvYWRlcignJHRyYW5zbGF0ZVBhcnRpYWxMb2FkZXInLCB7XG4gICAgICAgICAgICB1cmxUZW1wbGF0ZTogJ2d6ZXJvL3twYXJ0fS9sYW5nL3tsYW5nfS5qc29uJ1xuICAgICAgICB9KTtcbiAgICAgICAgJHRyYW5zbGF0ZVBhcnRpYWxMb2FkZXJQcm92aWRlci5hZGRQYXJ0KCdhZG1pbicpO1xuXG4gICAgICAgIC8vICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgncGxfUEwnKTtcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnByZWZlcnJlZExhbmd1YWdlKCdlbl9VUycpO1xuXG4gICAgICAgIC8vIFVzZXIgbW9yZSBzZWN1cmUgdmFyaWFudCBzYW5pdGl6ZSBzdHJhdGVneSBmb3IgZXNjYXBpbmc7XG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJ2VzY2FwZScpO1xuXG4gICAgICAgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybChDb25maWcuYXBpVXJsICsgJy92MScpO1xuXG4gICAgICAgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0RGVmYXVsdEh0dHBGaWVsZHMoe1xuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNldCBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuICAgICAgICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldERlZmF1bHRIZWFkZXJzKHtcbiAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0J1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZW5hbWUgUmVzdGFuZ3VsYXIgcm91dGUgZmllbGQgdG8gdXNlIGEgJCBwcmVmaXggZm9yIGVhc3kgZGlzdGluY3Rpb24gYmV0d2VlbiBkYXRhIGFuZCBtZXRhZGF0YVxuICAgICAgICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldFJlc3Rhbmd1bGFyRmllbGRzKHtyb3V0ZTogJyRyb3V0ZSd9KTtcbiAgICAgICAgLy8gQWRkIGEgcmVzcG9uc2UgaW50ZXJjZXB0b3JcbiAgICAgICAgUmVzdGFuZ3VsYXJQcm92aWRlci5hZGRSZXNwb25zZUludGVyY2VwdG9yKGZ1bmN0aW9uKGRhdGEsIG9wZXJhdGlvbikge1xuICAgICAgICAgICAgdmFyIGV4dHJhY3RlZERhdGE7XG4gICAgICAgICAgICAvLyAuLiB0byBsb29rIGZvciBnZXRMaXN0IG9wZXJhdGlvbnNcblxuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2dldExpc3QnKSB7XG4gICAgICAgICAgICAgICAgLy8gLi4gYW5kIGhhbmRsZSB0aGUgZGF0YSBhbmQgbWV0YSBkYXRhXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmRhdGEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZERhdGEgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZERhdGEubWV0YSA9IGRhdGEubWV0YTtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdGVkRGF0YS5wYXJhbXMgPSBkYXRhLnBhcmFtcztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBvbmx5IG9uZSBpdGVtIGluIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdGVkRGF0YSA9IFtkYXRhXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4dHJhY3RlZERhdGEgPSBkYXRhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZXh0cmFjdGVkRGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXSkucnVuKFtcbiAgICAnTmF2QmFyJyxcbiAgICAnJHJvb3RTY29wZScsXG4gICAgJ1Jlc3Rhbmd1bGFyJyxcbiAgICAnVXRpbHMnLFxuICAgIGZ1bmN0aW9uKE5hdkJhciwgJHJvb3RTY29wZSwgUmVzdGFuZ3VsYXIsIFV0aWxzKSB7XG4gICAgICAgIE5hdkJhci5hZGRGaXJzdCh7dGl0bGU6ICdEQVNIQk9BUkQnLCBhY3Rpb246ICdob21lJywgaWNvbjogJ2ZhIGZhLWhvbWUnfSk7XG4gICAgICAgICRyb290U2NvcGUuYmFzZVVybCA9IFV0aWxzLkNvbmZpZy51cmw7XG5cbiAgICAgICAgUmVzdGFuZ3VsYXIuc2V0RXJyb3JJbnRlcmNlcHRvcihmdW5jdGlvbihyZXNwb25zZSwgZGVmZXJyZWQsIHJlc3BvbnNlSGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuTm90aWZpY2F0aW9ucy5hZGRFcnJvcignQ09NTU9OX0VSUk9SJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBlcnJvciBoYW5kbGVkXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuTm90aWZpY2F0aW9ucy5hZGRFcnJvcihyZXNwb25zZS5kYXRhLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVXRpbHMuTm90aWZpY2F0aW9ucy5hZGRFcnJvcnMocmVzcG9uc2UuZGF0YS5tZXNzYWdlcyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVycm9yIG5vdCBoYW5kbGVkXG4gICAgICAgIH0pO1xuICAgIH1cbl0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBCbG9ja3NBZGRDdHJsKCRzY29wZSwgVXRpbHMsIEJsb2Nrc1JlcG9zaXRvcnksIEJsb2NrU2VydmljZSkge1xuICAgICRzY29wZS5ja09wdGlvbnMgPSBVdGlscy5ja09wdGlvbnM7XG4gICAgJHNjb3BlLmlzRWRpdGVkID0gZmFsc2U7XG4gICAgLy8gZGVmYXVsdCB2YWx1ZXNcbiAgICAkc2NvcGUubmV3QmxvY2sgPSB7XG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICB3ZWlnaHQ6IDAsXG4gICAgICAgIHRyYW5zbGF0aW9uczoge1xuICAgICAgICAgICAgbGFuZ0NvZGU6ICRzY29wZS5jdXJyZW50TGFuZy5jb2RlXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gaWYgYmxvY2sgdHlwZXMgYXJlIHNldFxuICAgIGlmICh0eXBlb2YgJHNjb3BlLmJsb2NrVHlwZXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICRzY29wZS5uZXdCbG9jay50eXBlID0gJHNjb3BlLmJsb2NrVHlwZXNbMF07XG4gICAgfVxuXG4gICAgLy8gaWYgYmxvY2sgcmVnaW9ucyBhcmUgc2V0XG4gICAgaWYgKHR5cGVvZiAkc2NvcGUuYmxvY2tSZWdpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkc2NvcGUubmV3QmxvY2sucmVnaW9uID0gJHNjb3BlLmJsb2NrUmVnaW9uc1swXTtcbiAgICB9XG5cbiAgICAvLyBibG9jayBQT1NUIGFjdGlvblxuICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24obmV3QmxvY2spIHtcbiAgICAgICAgbmV3QmxvY2sgPSBCbG9ja1NlcnZpY2UucHJlcGFyZVJlcXVlc3REYXRhKG5ld0Jsb2NrKTtcbiAgICAgICAgQmxvY2tzUmVwb3NpdG9yeS5jcmVhdGUobmV3QmxvY2spLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIFV0aWxzLk5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcygnQkxPQ0tfQ1JFQVRFRCcpO1xuICAgICAgICAgICAgVXRpbHMuJHN0YXRlLmdvKCdibG9ja3MubGlzdCcsIHt9LCB7cmVsb2FkOiB0cnVlfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZEVycm9ycyhyZXNwb25zZS5kYXRhLm1lc3NhZ2VzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuQmxvY2tzQWRkQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnVXRpbHMnLCAnQmxvY2tzUmVwb3NpdG9yeScsICdCbG9ja1NlcnZpY2UnXTtcbm1vZHVsZS5leHBvcnRzID0gQmxvY2tzQWRkQ3RybDtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gQmxvY2tzRWRpdEN0cmwoJHNjb3BlLCBVdGlscywgbGFuZ0NvZGUsIGJsb2NrLCBCbG9ja3NSZXBvc2l0b3J5LCBCbG9ja1NlcnZpY2UpIHtcbiAgICAkc2NvcGUuY2tPcHRpb25zID0gVXRpbHMuY2tPcHRpb25zO1xuICAgICRzY29wZS5pc0VkaXRlZCA9IHRydWU7XG4gICAgLy8gaWYgYmxvY2sgdHlwZXMgYXJlIHNldFxuICAgIGlmICh0eXBlb2YgYmxvY2sgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICRzY29wZS5uZXdCbG9jayA9IEJsb2Nrc1JlcG9zaXRvcnkuY2xlYW4oYmxvY2spO1xuICAgICAgICAvLyBzZXQgYWN0aXZlIHRyYW5zbGF0aW9uXG4gICAgICAgIGlmICh0eXBlb2YgJHNjb3BlLm5ld0Jsb2NrLnRyYW5zbGF0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICRzY29wZS5uZXdCbG9jay50cmFuc2xhdGlvbnMgPSBfLmZpbmQoJHNjb3BlLm5ld0Jsb2NrLnRyYW5zbGF0aW9ucywgeydsYW5nQ29kZSc6IGxhbmdDb2RlfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGVjayBmb3IgdHJhbnNsYXRpb25zIHVwZGF0ZSBAVE9ETyB1c2UgdHJhbnNsYXRpb25zIGhpc3RvcnlcbiAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbmV3QmxvY2sudHJhbnNsYXRpb25zJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICRzY29wZS5pc1RyYW5zbGF0aW9uQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGJsb2NrIFBVVCBhY3Rpb25cbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKG5ld0Jsb2NrKSB7XG4gICAgICAgIG5ld0Jsb2NrID0gQmxvY2tTZXJ2aWNlLnByZXBhcmVSZXF1ZXN0RGF0YShuZXdCbG9jayk7XG4gICAgICAgIC8vIHVwZGF0ZSBibG9ja1xuICAgICAgICBCbG9ja3NSZXBvc2l0b3J5LnVwZGF0ZShVdGlscy4kc3RhdGVQYXJhbXMuYmxvY2tJZCwgbmV3QmxvY2spLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIGFkZCBuZXcgdHJhbnNsYXRpb24gQFRPRE8gdXNlIHRyYW5zbGF0aW9ucyBoaXN0b3J5XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmlzVHJhbnNsYXRpb25DaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgQmxvY2tzUmVwb3NpdG9yeS5jcmVhdGVUcmFuc2xhdGlvbihVdGlscy4kc3RhdGVQYXJhbXMuYmxvY2tJZCwgbmV3QmxvY2sudHJhbnNsYXRpb25zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLk5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcygnVEhFX0NIQU5HRVNfSEFWRV9CRUVOX1NBVkVEJyk7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbygnYmxvY2tzLmxpc3QnLCB7fSwge3JlbG9hZDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLk5vdGlmaWNhdGlvbnMuYWRkRXJyb3JzKHJlc3BvbnNlLmRhdGEubWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoJ1RIRV9DSEFOR0VTX0hBVkVfQkVFTl9TQVZFRCcpO1xuICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbygnYmxvY2tzLmxpc3QnLCB7fSwge3JlbG9hZDogdHJ1ZX0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZEVycm9ycyhyZXNwb25zZS5kYXRhLm1lc3NhZ2VzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuQmxvY2tzRWRpdEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ1V0aWxzJywgJ2xhbmdDb2RlJywgJ2Jsb2NrJywgJ0Jsb2Nrc1JlcG9zaXRvcnknLCAnQmxvY2tTZXJ2aWNlJ107XG5tb2R1bGUuZXhwb3J0cyA9IEJsb2Nrc0VkaXRDdHJsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBCbG9ja3NMaXN0Q3RybCgkc2NvcGUsIFV0aWxzLCBOZ1RhYmxlUGFyYW1zLCBCbG9ja3NSZXBvc2l0b3J5KSB7XG4gICAgJHNjb3BlLnRhYmxlUGFyYW1zID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICBjb3VudDogMjUsIC8vIGNvdW50IHBlciBwYWdlXG4gICAgICAgIHNvcnRpbmc6IHtcbiAgICAgICAgICAgICdyZWdpb24nOiAnZGVzYycsIC8vIGluaXRpYWwgc29ydGluZ1xuICAgICAgICAgICAgJ3dlaWdodCc6ICdhc2MnXG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIHRvdGFsOiAwLCAvLyBsZW5ndGggb2YgZGF0YVxuICAgICAgICBnZXREYXRhOiBmdW5jdGlvbigkZGVmZXIsIHBhcmFtcykge1xuICAgICAgICAgICAgJHNjb3BlLnJlcXVlc3RQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHByZXBhcmUgb3B0aW9ucyB0byBiZSBzZW50IHRvIGFwaVxuICAgICAgICAgICAgdmFyIHF1ZXJ5T3B0aW9ucyA9IHt9O1xuXG4gICAgICAgICAgICAvLyBsYW5nIHNvcnQgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAkc2NvcGUudHJhbnNMYW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHF1ZXJ5T3B0aW9ucy5sYW5nID0gJHNjb3BlLnRyYW5zTGFuZy5jb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwYXJhbXMuY291bnQoKSAtIG51bWJlciBvZiBpdGVtcyBwZXIgcGFnZSBkZWNsYXJlZCBpbiB2aWV3XG4gICAgICAgICAgICBpZiAodHlwZW9mIFV0aWxzLiRzdGF0ZVBhcmFtcy5wZXJQYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5jb3VudChVdGlscy4kc3RhdGVQYXJhbXMucGVyUGFnZSk7XG4gICAgICAgICAgICAgICAgcXVlcnlPcHRpb25zLnBlclBhZ2UgPSBwYXJhbXMuY291bnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcGFyYW1zLnBhZ2UoKSAtIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBVdGlscy4kc3RhdGVQYXJhbXMucGFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucGFnZShVdGlscy4kc3RhdGVQYXJhbXMucGFnZSk7XG4gICAgICAgICAgICAgICAgcXVlcnlPcHRpb25zLnBhZ2UgPSBwYXJhbXMucGFnZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0YWJsZVBhcmFtcy5vcmRlckJ5KCkgLSBhbiBhcnJheSBvZiBzdHJpbmcgaW5kaWNhdGluZyBib3RoIHRoZSBzb3J0aW5nIGNvbHVtbiBhbmQgZGlyZWN0aW9uIChlLmcuIFtcIituYW1lXCIsIFwiLWVtYWlsXCJdKVxuICAgICAgICAgICAgaWYgKHBhcmFtcy5zb3J0aW5nKCkgJiYgdHlwZW9mICRzY29wZS50cmFuc0xhbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSBpbnRlcmVzdGVkIGluIGZpcnN0IHNvcnQgY29sdW1uIGZvciBub3dcbiAgICAgICAgICAgICAgICB2YXIgb3JkZXJCeSA9IHBhcmFtcy5vcmRlckJ5KClbMF07XG4gICAgICAgICAgICAgICAgcXVlcnlPcHRpb25zLnNvcnQgPSBvcmRlckJ5WzBdID09PSAnKycgPyBvcmRlckJ5LnN1YnN0cmluZygxKSA6IG9yZGVyQnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGdldCBsaXN0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gQmxvY2tzUmVwb3NpdG9yeS5saXN0KHF1ZXJ5T3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIENvbnRlbnRzIGlzIGEgUkVTVCBBbmd1bGFySlMgc2VydmljZSB0aGF0IHRhbGtzIHRvIGFwaSBhbmQgcmV0dXJuIHByb21pc2VcbiAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5yZXF1ZXN0UGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBhcmFtcy50b3RhbChyZXNwb25zZS5tZXRhLnRvdGFsKTtcbiAgICAgICAgICAgICAgICAkZGVmZXIucmVzb2x2ZShCbG9ja3NSZXBvc2l0b3J5LmNsZWFuKHJlc3BvbnNlKSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1ldGEgPSByZXNwb25zZS5tZXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuQmxvY2tzTGlzdEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ1V0aWxzJywgJ05nVGFibGVQYXJhbXMnLCAnQmxvY2tzUmVwb3NpdG9yeSddO1xubW9kdWxlLmV4cG9ydHMgPSBCbG9ja3NMaXN0Q3RybDtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2FkbWluLmJsb2NrcycsIFtdKVxuICAgIC5jb25maWcoW1xuICAgICAgICAnJHN0YXRlUHJvdmlkZXInLFxuICAgICAgICAnJHVybFJvdXRlclByb3ZpZGVyJyxcbiAgICAgICAgJ1Jlc3Rhbmd1bGFyUHJvdmlkZXInLFxuICAgICAgICBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCBSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG5cbiAgICAgICAgICAgIHZhciB2aWV3UGF0aCA9ICdnemVyby9hZG1pbi92aWV3cy9ibG9ja3MvJztcblxuICAgICAgICAgICAgLy8gTm93IHNldCB1cCB0aGUgc3RhdGVzXG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnYmxvY2tzJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYmxvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2luZGV4Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gQkxPQ0sgTElTVFxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnYmxvY2tzLmxpc3QnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9saXN0P3BhZ2UmcGVyUGFnZScsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnbGlzdC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQmxvY2tzTGlzdEN0cmwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gQkxPQ0sgQUREXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdibG9ja3MuYWRkJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYWRkJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdmb3JtLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdCbG9ja3NBZGRDdHJsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBCTE9DSyBFRElUXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdibG9ja3MuZWRpdCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3tibG9ja0lkfS9lZGl0L3tsYW5nQ29kZX0nLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2Zvcm0uaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Jsb2Nrc0VkaXRDdHJsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5nQ29kZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICckc3RhdGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24oJHN0YXRlLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy5sYW5nQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2s6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHN0YXRlUGFyYW1zJywgJ0Jsb2Nrc1JlcG9zaXRvcnknLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEJsb2Nrc1JlcG9zaXRvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJsb2Nrc1JlcG9zaXRvcnkub25lKCRzdGF0ZVBhcmFtcy5ibG9ja0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIF0pXG4gICAgLmNvbnRyb2xsZXIoJ0Jsb2Nrc0xpc3RDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9CbG9ja3NMaXN0Q3RybCcpKVxuICAgIC5jb250cm9sbGVyKCdCbG9ja3NBZGRDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9CbG9ja3NBZGRDdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ0Jsb2Nrc0VkaXRDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9CbG9ja3NFZGl0Q3RybCcpKVxuICAgIC5zZXJ2aWNlKCdCbG9ja1NlcnZpY2UnLCByZXF1aXJlKCcuL3NlcnZpY2VzL0Jsb2NrU2VydmljZS5qcycpKVxuICAgIC5mYWN0b3J5KCdCbG9ja3NSZXBvc2l0b3J5JywgcmVxdWlyZSgnLi9zZXJ2aWNlcy9CbG9ja3NSZXBvc2l0b3J5LmpzJykpXG4gICAgLnJ1bihbXG4gICAgICAgICdOYXZCYXInLFxuICAgICAgICBmdW5jdGlvbihOYXZCYXIpIHtcbiAgICAgICAgICAgIE5hdkJhci5hZGQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnQkxPQ0tTJywgYWN0aW9uOiAnYmxvY2tzLmxpc3QnLCBpY29uOiAnZmEgZmEtdGgtbGFyZ2UnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIF0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBCbG9ja1NlcnZpY2UoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJlcGFyZVJlcXVlc3REYXRhOiBmdW5jdGlvbihibG9jaykge1xuICAgICAgICAgICAgLy8gaGFuZGxlIGJsb2NrIGZpbHRlclxuICAgICAgICAgICAgaWYgKGJsb2NrLmZpbHRlciAhPT0gbnVsbCAmJiB0eXBlb2YgYmxvY2suZmlsdGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIC8vIHNldCBlbXB0eSBmaWx0ZXIgdmFsdWVzIGlmIG5vdCBleGlzdHNcbiAgICAgICAgICAgICAgICBpZiAoISgnKycgaW4gYmxvY2suZmlsdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBibG9jay5maWx0ZXJbJysnXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISgnLScgaW4gYmxvY2suZmlsdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBibG9jay5maWx0ZXJbJy0nXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgZW1wdHkgYmxvY2sgZmlsdGVyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLmZpbHRlclsnKyddLmxlbmd0aCA9PT0gMCAmJiBibG9jay5maWx0ZXJbJy0nXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suZmlsdGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYmxvY2s7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5CbG9ja1NlcnZpY2UuJGluamVjdCA9IFtdO1xubW9kdWxlLmV4cG9ydHMgPSBCbG9ja1NlcnZpY2U7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIEJsb2Nrc1JlcG9zaXRvcnkoUmVzdGFuZ3VsYXIpIHtcbiAgICB2YXIgYXBpID0gJ2FkbWluL2Jsb2Nrcyc7XG4gICAgdmFyIGJsb2NrcyA9IFJlc3Rhbmd1bGFyLmFsbChhcGkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uZTogZnVuY3Rpb24oaWQsIHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGksIGlkKS5nZXQocGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdDogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gYmxvY2tzLmdldExpc3QocGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYW46IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5zdHJpcFJlc3Rhbmd1bGFyKGVsZW0pO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uKG5ld0NvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBibG9ja3MucG9zdChuZXdDb250ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGksIGlkKS5yZW1vdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihjYXRlZ29yeUtleSwgZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGksIGNhdGVnb3J5S2V5KS5jdXN0b21QVVQoZGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZVRyYW5zbGF0aW9uOiBmdW5jdGlvbihpZCwgbmV3VHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5vbmUoYXBpLCBpZCkuYWxsKCd0cmFuc2xhdGlvbnMnKS5wb3N0KG5ld1RyYW5zbGF0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbkJsb2Nrc1JlcG9zaXRvcnkuJGluamVjdCA9IFsnUmVzdGFuZ3VsYXInXTtcbm1vZHVsZS5leHBvcnRzID0gQmxvY2tzUmVwb3NpdG9yeTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gQ29udGVudEFkZEN0cmwoJHNjb3BlLCBVdGlscywgbGlzdFBhcmVudCwgQ29udGVudFJlcG9zaXRvcnkpIHtcbiAgICB2YXIgcGFyZW50SWQgPSBudWxsO1xuICAgICRzY29wZS5jb250ZW50VHlwZSA9IFV0aWxzLiRzdGF0ZVBhcmFtcy50eXBlO1xuXG4gICAgJHNjb3BlLmNrT3B0aW9ucyA9IFV0aWxzLmNrT3B0aW9ucztcblxuICAgIC8vIGlmIHBhcmVudCBjYXRlZ29yeSBleGlzdHNcbiAgICBpZiAodHlwZW9mIGxpc3RQYXJlbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICRzY29wZS5saXN0UGFyZW50ID0gbGlzdFBhcmVudDsgLy8gc2VsZWN0ZWQgY2F0ZWdvcnlcbiAgICAgICAgcGFyZW50SWQgPSBsaXN0UGFyZW50LmlkO1xuICAgIH1cbiAgICAvLyBkZWZhdWx0IHRyYW5zbGF0aW9ucyBsYW5nIGNvZGVcbiAgICAkc2NvcGUubmV3Q29udGVudCA9IHtcbiAgICAgICAgdHlwZTogVXRpbHMuJHN0YXRlUGFyYW1zLnR5cGUsXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICB0cmFuc2xhdGlvbnM6IHtcbiAgICAgICAgICAgIGxhbmdDb2RlOiAkc2NvcGUudHJhbnNMYW5nLmNvZGVcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBbmd1bGFyIHN0cmFwIGRyb3Bkb3duIGZvciBzYXZlIGJ1dHRvblxuICAgICRzY29wZS5jb250ZW50U2F2ZUJ1dHRvbkxpbmtzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnU0FWRV9BTkRfQ09OVElOVUVfRURJVElORycsXG4gICAgICAgICAgICBjbGljazogJ2FkZE5ld0NvbnRlbnQobmV3Q29udGVudCwgXCJjb250ZW50LmVkaXQuZGV0YWlsc1wiKSdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogJ1NBVkVfQU5EX0FERF9BTk9USEVSJyxcbiAgICAgICAgICAgIGNsaWNrOiAnYWRkTmV3Q29udGVudChuZXdDb250ZW50LCBcImNvbnRlbnQuYWRkXCIpJ1xuICAgICAgICB9XG4gICAgXTtcblxuICAgIC8vIGNvbnRlbnRzIFBPU1QgYWN0aW9uXG4gICAgJHNjb3BlLmFkZE5ld0NvbnRlbnQgPSBmdW5jdGlvbiBhZGROZXdDb250ZW50KG5ld0NvbnRlbnQsIHJlZGlyZWN0KSB7XG4gICAgICAgIG5ld0NvbnRlbnQucGFyZW50SWQgPSBwYXJlbnRJZDsgLy8gc2V0IHBhcmVudCBjYXRlZ29yeSBhcyBudWxsXG4gICAgICAgIG5ld0NvbnRlbnQucHVibGlzaGVkQXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTkpLnJlcGxhY2UoJ1QnLCAnICcpOyAvLyBzZXQgcHVibGlzaCBhdCBkYXRlXG4gICAgICAgIC8vIGlmIHBhcmVudCBjYXRlZ29yeSBleGlzdHNcbiAgICAgICAgaWYgKHR5cGVvZiAkc2NvcGUubGlzdFBhcmVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciByb3V0ZSB0cmFuc2xhdGlvbiBpbiBzZWxlY3RlZCBsYW5ndWFnZVxuICAgICAgICAgICAgdmFyIHJvdXRlID0gXy5wbHVjayhfLmZpbHRlcigkc2NvcGUubGlzdFBhcmVudC5yb3V0ZS50cmFuc2xhdGlvbnMsICdsYW5nQ29kZScsIG5ld0NvbnRlbnQudHJhbnNsYXRpb25zLmxhbmdDb2RlKSwgJ3VybCcpO1xuICAgICAgICAgICAgaWYgKCFyb3V0ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50LnBhcmVudElkID0gbnVsbDsgLy8gaWYgbm90IGZvdW5kIHNldCBhcyB1bmNhdGVnb3JpemVkXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgQ29udGVudFJlcG9zaXRvcnkubmV3Q29udGVudChuZXdDb250ZW50KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFV0aWxzLiRzdGF0ZVBhcmFtcy50eXBlID09PSAnY2F0ZWdvcnknID8gJ0NBVEVHT1JZX0NSRUFURUQnIDogJ0NPTlRFTlRfQ1JFQVRFRCc7XG4gICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MobWVzc2FnZSk7XG4gICAgICAgICAgICAvLyB3aGVuIHRoZXJlIGlzIGN1c3RvbSByZWRpcmVjdFxuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWRpcmVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gKHJlZGlyZWN0ID09PSAnY29udGVudC5lZGl0LmRldGFpbHMnKSA/IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudElkOiByZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgbGFuZ0NvZGU6IG5ld0NvbnRlbnQudHJhbnNsYXRpb25zLmxhbmdDb2RlXG4gICAgICAgICAgICAgICAgfSA6IHt0eXBlOiBVdGlscy4kc3RhdGVQYXJhbXMudHlwZX07XG5cbiAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28ocmVkaXJlY3QsIHBhcmFtcywge3JlbG9hZDogdHJ1ZX0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoVXRpbHMuJHN0YXRlUGFyYW1zLnR5cGUgPT09ICdjYXRlZ29yeScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBjcmVhdGUgYSBjYXRlZ29yeSB0aGVuIHNldCBpdCBhcyBhIG5ldyBsaXN0UGFyZW50IG9uIGNvbnRlbnQgbGlzdFxuICAgICAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28oJ2NvbnRlbnQubGlzdCcsIHtjb250ZW50SWQ6IHJlc3BvbnNlLmlkfSwge3JlbG9hZDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBnbyB0byBsaXN0IHdpdGhvdXQgbmV3IGxpc3RQYXJlbnRcbiAgICAgICAgICAgICAgICAgICAgVXRpbHMuJHN0YXRlLmdvKCdjb250ZW50Lmxpc3QnLCB7fSwge3JlbG9hZDogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbkNvbnRlbnRBZGRDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdVdGlscycsICdsaXN0UGFyZW50JywgJ0NvbnRlbnRSZXBvc2l0b3J5J107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRBZGRDdHJsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBDb250ZW50QWRkVHJhbnNsYXRpb25DdHJsKCRzY29wZSwgJHRyYW5zbGF0ZSwgVXRpbHMsIGNvbnRlbnQsIENvbnRlbnRSZXBvc2l0b3J5KSB7XG4gICAgJHNjb3BlLmNrT3B0aW9ucyA9IFV0aWxzLmNrT3B0aW9ucztcbiAgICAkc2NvcGUuaXNMb2FkZWQgPSB0cnVlOyAvLyBmb3JtIHZpc2liaWxpdHlcblxuICAgIC8vIGRlZmF1bHQgdHJhbnNsYXRpb25zIGxhbmcgY29kZVxuICAgICRzY29wZS5uZXdDb250ZW50VHJhbnNsYXRpb24gPSB7XG4gICAgICAgIGNvbnRlbnRJZDogVXRpbHMuJHN0YXRlUGFyYW1zLmNvbnRlbnRJZCxcbiAgICAgICAgbGFuZ0NvZGU6IFV0aWxzLiRzdGF0ZVBhcmFtcy5sYW5nQ29kZVxuICAgIH07XG5cbiAgICAvLyBpZiBwYXJlbnQgY2F0ZWdvcnkgZXhpc3RzXG4gICAgaWYgKGNvbnRlbnQucGFyZW50SWQgIT09IG51bGwpIHtcbiAgICAgICAgJHNjb3BlLmlzTG9hZGVkID0gZmFsc2U7IC8vIGhpZGUgZm9ybVxuICAgICAgICAvLyBnZXQgcGFyZW50IGNhdGVnb3J5XG4gICAgICAgIENvbnRlbnRSZXBvc2l0b3J5Lm9uZShjb250ZW50LnBhcmVudElkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gQ29udGVudFJlcG9zaXRvcnkuY2xlYW4ocmVzcG9uc2UpO1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHJvdXRlIHRyYW5zbGF0aW9uIGluIHNlbGVjdGVkIGxhbmd1YWdlXG4gICAgICAgICAgICB2YXIgcm91dGUgPSBfLnBsdWNrKF8uZmlsdGVyKHBhcmVudC5yb3V0ZS50cmFuc2xhdGlvbnMsICdsYW5nQ29kZScsICRzY29wZS5uZXdDb250ZW50VHJhbnNsYXRpb24ubGFuZ0NvZGUpLCAndXJsJyk7XG4gICAgICAgICAgICBpZiAoIXJvdXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIFJlZGlyZWN0IHVzZXIgdG8gcHJldmlvdXMgc3RhdGUgb3IgY29udGVudCBsaXN0XG4gICAgICAgICAgICAgICAgVXRpbHMucmVkaXJlY3RCYWNrKCdjb250ZW50Lmxpc3QnKTtcbiAgICAgICAgICAgICAgICAvLyBcIkJlZm9yZSBhZGRpbmcgdHJhbnNsYXRpb25zIHRvIHRoaXMgY29udGVudCwgeW91IG5lZWQgdG8gdHJhbnNsYXRlIHRoZSBjYXRlZ29yaWVzIGluIHdoaWNoIGl0IGlzIGxvY2F0ZWQhXCJcbiAgICAgICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZEluZm8oJ05PX1BBUkVOVF9UUkFOU0xBVElPTl9FUlJPUicsIHsgY29udGVudFR5cGU6ICR0cmFuc2xhdGUuaW5zdGFudChjb250ZW50LnR5cGUudG9VcHBlckNhc2UoKSkudG9Mb3dlckNhc2UoKSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyZW50IHVybCBpcyB0cmFuc2xhdGVkLCBzaG93IGZvcm1cbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBjb250ZW50cyBQT1NUIGFjdGlvblxuICAgICRzY29wZS5hZGRuZXdDb250ZW50VHJhbnNsYXRpb24gPSBmdW5jdGlvbiBhZGROZXdDb250ZW50KG5ld0NvbnRlbnRUcmFuc2xhdGlvbikge1xuICAgICAgICBDb250ZW50UmVwb3NpdG9yeS5uZXdDb250ZW50VHJhbnNsYXRpb24oVXRpbHMuJHN0YXRlUGFyYW1zLmNvbnRlbnRJZCwgbmV3Q29udGVudFRyYW5zbGF0aW9uKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBSZWRpcmVjdCB1c2VyIHRvIHByZXZpb3VzIHN0YXRlIG9yIGNvbnRlbnQgbGlzdFxuICAgICAgICAgICAgVXRpbHMucmVkaXJlY3RCYWNrKCdjb250ZW50Lmxpc3QnKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbkNvbnRlbnRBZGRUcmFuc2xhdGlvbkN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJyR0cmFuc2xhdGUnLCAnVXRpbHMnLCAnY29udGVudCcsICdDb250ZW50UmVwb3NpdG9yeSddO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50QWRkVHJhbnNsYXRpb25DdHJsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBDb250ZW50Q2F0ZWdvcnlUcmVlQ3RybCgkc2NvcGUsIGNhdGVnb3JpZXMsIG9wZW5DYXRlZ29yaWVzLCBsaXN0UGFyZW50LCBVdGlscykge1xuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHJldHVybnMgcm9vdCBpZCBmcm9tIHByb3ZpZGVkIHBhdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIHRvIHNlYXJjaCBvdmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7aW50fSByb290IGlkXG4gICAgICogQHRocm93cyBFcnJvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJvb3RJZEZyb21QYXRoKHBhdGgpIHtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGhbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vZGUgcGF0aCBpcyB0b28gc2hvcnQhJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiByZXR1cm5zIHNwZWNpZmllZCBub2RlIGZvcm0gcHJvdmlkZWQgY29sbGVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbGxlY3Rpb24gdGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyXG4gICAgICogQHBhcmFtIGlkICBub2RlIGlkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5vZGVCeUlkKGNvbGxlY3Rpb24sIGlkKSB7XG4gICAgICAgIHJldHVybiBfLmZpbmQoY29sbGVjdGlvbiwgZnVuY3Rpb24oY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeS5pZCA9PT0gaWQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZXJlIGFyZSBvcGVuIGNhdGVnb3JpZXMgaW4gdGhlIFV0aWxzLlN0b3JhZ2VcbiAgICBpZiAodHlwZW9mIG9wZW5DYXRlZ29yaWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkc2NvcGUub3BlbkNhdGVnb3JpZXMgPSBvcGVuQ2F0ZWdvcmllcztcbiAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUub3BlbkNhdGVnb3JpZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvLyBpZiBjYXRlZ29yaWVzIHRyZWUgZXhpc3RzXG4gICAgaWYgKHR5cGVvZiBjYXRlZ29yaWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgfVxuXG4gICAgLy8gaWYgcGFyZW50IGNhdGVnb3J5IGV4aXN0c1xuICAgIGlmICh0eXBlb2YgbGlzdFBhcmVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgJHNjb3BlLmFjdGl2ZU5vZGUgPSBsaXN0UGFyZW50LmlkO1xuXG4gICAgICAgIC8vIG1lcmdlIG9wZW4gY2F0ZWdvcmllcyB3aXRoIGFjdGl2ZSBjYXRlZ29yeSBwYXRoXG4gICAgICAgICRzY29wZS5vcGVuQ2F0ZWdvcmllcyA9IF8udW5pb24oJHNjb3BlLm9wZW5DYXRlZ29yaWVzLCBsaXN0UGFyZW50LnBhdGgpO1xuICAgICAgICAkc2NvcGUucm9vdCA9IGdldE5vZGVCeUlkKCRzY29wZS5jYXRlZ29yaWVzLCBnZXRSb290SWRGcm9tUGF0aChsaXN0UGFyZW50LnBhdGgpKTtcbiAgICAgICAgLy8gc2F2ZSBvcGVuIGNhdGVnb3JpZXMgaW4gdGhlIHN0b3JlXG4gICAgICAgIFV0aWxzLlN0b3JhZ2Uuc2V0U3RvcmFnZUl0ZW0oe29wZW5DYXRlZ29yaWVzOiAkc2NvcGUub3BlbkNhdGVnb3JpZXN9KTtcbiAgICB9XG5cbiAgICAvLyByZW1vdmVzIGxpc3RQYXJlbnQgaWQgZnJvbSBVdGlscy5TdG9yYWdlXG4gICAgJHNjb3BlLnVuY2F0ZWdvcml6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgVXRpbHMuU3RvcmFnZS5yZW1vdmVTdG9yYWdlSXRlbSgnY29udGVudExpc3RQYXJlbnQnKTtcbiAgICB9O1xuXG4gICAgLy8gdG9nZ2xlcyBOb2RlIGluIGNhdGVnb3JpZXMgdHJlZSBhbmQgbWFuYWdlIFV0aWxzLlN0b3JhZ2Ugb3BlbiBjYXRlZ29yaWVzIG9iamVjdFxuICAgICRzY29wZS50b2dnbGVOb2RlID0gZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgc2NvcGUudG9nZ2xlKCk7XG4gICAgICAgIHZhciBub2RlSWQgPSBfLnBhcnNlSW50KHNjb3BlLiRlbGVtZW50WzBdLmlkLCAxMCk7XG4gICAgICAgIC8vIGlmIG5vZGUgaXMgb3BlblxuICAgICAgICBpZiAoIXNjb3BlLmNvbGxhcHNlZCkge1xuICAgICAgICAgICAgLy8gYWRkIHRvIHNjb3BlXG4gICAgICAgICAgICAkc2NvcGUub3BlbkNhdGVnb3JpZXMucHVzaChub2RlSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gc2NvcGVcbiAgICAgICAgICAgICRzY29wZS5vcGVuQ2F0ZWdvcmllcyA9IF8ud2l0aG91dCgkc2NvcGUub3BlbkNhdGVnb3JpZXMsIG5vZGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBpbiB0aGUgc3RvcmVcbiAgICAgICAgVXRpbHMuU3RvcmFnZS5zZXRTdG9yYWdlSXRlbSh7b3BlbkNhdGVnb3JpZXM6ICRzY29wZS5vcGVuQ2F0ZWdvcmllc30pO1xuICAgIH07XG5cbn1cbkNvbnRlbnRDYXRlZ29yeVRyZWVDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdjYXRlZ29yaWVzJywgJ29wZW5DYXRlZ29yaWVzJywgJ2xpc3RQYXJlbnQnLCAnVXRpbHMnXTtcbm1vZHVsZS5leHBvcnRzID0gQ29udGVudENhdGVnb3J5VHJlZUN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnREYXNoYm9hcmRDdHJsKCRzY29wZSkge1xuXG59XG5Db250ZW50RGFzaGJvYXJkQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnXTtcbm1vZHVsZS5leHBvcnRzID0gQ29udGVudERhc2hib2FyZEN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnREZXRhaWxzQ3RybCgkc2NvcGUsIGNvbnRlbnQsIGxhbmdDb2RlLCBDb250ZW50UmVwb3NpdG9yeSwgVXRpbHMpIHtcblxuICAgICRzY29wZS5Db25maWcgPSBVdGlscy5Db25maWc7XG5cbiAgICAvLyBUT0RPOiBnZXQgcmVnaXN0ZXJlZCB0YWJzXG4gICAgJHNjb3BlLnRhYnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnQ09OVEVOVCcsXG4gICAgICAgICAgICBhY3Rpb246ICdkZXRhaWxzJyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUgLy8gZGVmYXVsdCBhY3RpdmUgdGFiIGluIHNldHRpbmdzIGVkaXQgbW9kZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ0hJU1RPUllfT0ZfQ0hBTkdFUycsXG4gICAgICAgICAgICBhY3Rpb246ICdoaXN0b3J5J1xuICAgICAgICB9XG4gICAgXTtcblxuICAgIC8vIGlmIGxhbmcgY29kZSBleGlzdHNcbiAgICBpZiAodHlwZW9mIGxhbmdDb2RlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkc2NvcGUubGFuZ0NvZGUgPSBsYW5nQ29kZTtcbiAgICB9XG5cbiAgICAvLyBpZiBjb250ZW50IGV4aXN0c1xuICAgIGlmICh0eXBlb2YgY29udGVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgJHNjb3BlLmNvbnRlbnQgPSBDb250ZW50UmVwb3NpdG9yeS5jbGVhbihjb250ZW50KTtcbiAgICAgICAgLy8gaWYgY29udGVudCBwYXJlbnQgZXhpc3RzXG4gICAgICAgIGlmIChjb250ZW50LnBhdGgubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gdGhlIGxhc3QgYnV0IG9uZSBpZCBudW1iZXIgZnJvbSBwYXRoXG4gICAgICAgICAgICB2YXIgcGFyZW50SWQgPSBfLnRha2VSaWdodChjb250ZW50LnBhdGgsIDIpWzBdO1xuICAgICAgICAgICAgQ29udGVudFJlcG9zaXRvcnkub25lKHBhcmVudElkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRlbnRQYXJlbnQgPSBDb250ZW50UmVwb3NpdG9yeS5jbGVhbihyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zYXZlQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBDb250ZW50UmVwb3NpdG9yeVxuICAgICAgICAgICAgLnVwZGF0ZUNvbnRlbnQoJHNjb3BlLmNvbnRlbnQuaWQsICRzY29wZS5jb250ZW50KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuTm90aWZpY2F0aW9ucy5hZGRTdWNjZXNzKCdUSEVfQ0hBTkdFU19IQVZFX0JFRU5fU0FWRUQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbn1cbkNvbnRlbnREZXRhaWxzQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnY29udGVudCcsICdsYW5nQ29kZScsICdDb250ZW50UmVwb3NpdG9yeScsICdVdGlscyddO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50RGV0YWlsc0N0cmw7XG4iLCIvKipcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBHWkVSTyBDTVMgcGFja2FnZS5cbiAqXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRVxuICogZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKlxuICogQ2xhc3MgQ29udGVudERldGFpbHNFZGl0Q3RybFxuICpcbiAqIEBwYWNrYWdlICAgIEFkbWluXG4gKiBAYXV0aG9yICAgICBNYXRldXN6IFVyYmFub3dpY3ogPHVyYmFub3dpY3ptYXRldXN6ODlAZ21haWwuY29tPlxuICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDE1LCBNYXRldXN6IFVyYmFub3dpY3pcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnREZXRhaWxzRWRpdEN0cmwoJHNjb3BlLCBVdGlscywgY29udGVudCwgbGFuZ0NvZGUsIENvbnRlbnRSZXBvc2l0b3J5KSB7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBzZXR0aW5ncyBnZXR0ZXJcbiAgICAgKi9cbiAgICAkc2NvcGUuY2tPcHRpb25zID0gVXRpbHMuY2tPcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRyYW5zbGF0aW9uIHdpdGggc3BlY2lmaWVkIGxhbmcgcHJvcGVydHkgZnJvbSB0cmFuc2xhdGlvbnMgYXJyYXlcbiAgICAgKiBhbmQgZmV0Y2ggbGFuZyBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9ucyBUcmFuc2xhdGlvbnMgYXJyYXlcbiAgICAgKiBAcGFyYW0gbGFuZ0NvZGUgbGFuZ3VhZ2UgY29kZVxuICAgICAqIEByZXR1cm5zIE9iamVjdCB8IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb25CeUxhbmcodHJhbnNsYXRpb25zLCBsYW5nQ29kZSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbnMuc2hpZnQoKTtcblxuICAgICAgICBpZighdHJhbnNsYXRpb24pe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uLmxhbmdDb2RlID09PSBsYW5nQ29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRyYW5zbGF0aW9uQnlMYW5nKHRyYW5zbGF0aW9ucywgbGFuZ0NvZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3VycmVudGx5IGFjdGl2ZSB0cmFuc2xhdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqL1xuICAgICRzY29wZS5hY3RpdmVUcmFuc2xhdGlvbiA9IGdldFRyYW5zbGF0aW9uQnlMYW5nKChjb250ZW50LnRyYW5zbGF0aW9ucy5zbGljZSgwKSksIGxhbmdDb2RlKTtcblxuICAgIC8qKlxuICAgICAqIHNhdmUgY3VycmVudCBhY3RpdmUgdHJhbnNsYXRpb24gYXMgbmV3IGFjdGl2ZSB0cmFuc2xhdGlvblxuICAgICAqIGFuZCBnbyBiYWNrIHRvIGRldGFpbHMgc2hvdyBzdGF0ZVxuICAgICAqL1xuICAgICRzY29wZS5zYXZlVHJhbnNsYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgQ29udGVudFJlcG9zaXRvcnkubmV3Q29udGVudFRyYW5zbGF0aW9uKGNvbnRlbnQuaWQsICRzY29wZS5hY3RpdmVUcmFuc2xhdGlvbikudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbygnY29udGVudC5zaG93LmRldGFpbHMnLCB7XG4gICAgICAgICAgICAgICAgY29udGVudElkOiBjb250ZW50LmlkLFxuICAgICAgICAgICAgICAgIGxhbmdDb2RlOiBsYW5nQ29kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoJ1RIRV9DSEFOR0VTX0hBVkVfQkVFTl9TQVZFRCcpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG59XG5Db250ZW50RGV0YWlsc0VkaXRDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdVdGlscycsICdjb250ZW50JywgJ2xhbmdDb2RlJywgJ0NvbnRlbnRSZXBvc2l0b3J5J107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnREZXRhaWxzRWRpdEN0cmw7XG4iLCIvKipcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBHWkVSTyBDTVMgcGFja2FnZS5cbiAqXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRVxuICogZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKlxuICogQ2xhc3MgQ29udGVudEhpc3RvcnlDdHJsXG4gKlxuICogQHBhY2thZ2UgICAgQWRtaW5cbiAqIEBhdXRob3IgICAgIE1hdGV1c3ogVXJiYW5vd2ljeiA8dXJiYW5vd2ljem1hdGV1c3o4OUBnbWFpbC5jb20+XG4gKiBAY29weXJpZ2h0ICBDb3B5cmlnaHQgKGMpIDIwMTUsIE1hdGV1c3ogVXJiYW5vd2ljelxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gQ29udGVudEhpc3RvcnlDdHJsKCRzY29wZSwgVXRpbHMsIGNvbnRlbnQsIGxhbmdDb2RlLCBDb250ZW50UmVwb3NpdG9yeSwgTmdUYWJsZVBhcmFtcykgeyAvL2pzaGludCBpZ25vcmU6bGluZVxuICAgICRzY29wZS50YWJsZVBhcmFtcyA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgY291bnQ6IDI1LCAvLyBjb3VudCBwZXIgcGFnZVxuICAgICAgICBzb3J0aW5nOiB7XG4gICAgICAgICAgICAnY3JlYXRlZEF0JzogJ2Rlc2MnIC8vIGluaXRpYWwgc29ydGluZ1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICB0b3RhbDogMCwgLy8gbGVuZ3RoIG9mIGRhdGFcbiAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIC8vIHByZXBhcmUgb3B0aW9ucyB0byBiZSBzZW50IHRvIGFwaVxuICAgICAgICAgICAgdmFyIHF1ZXJ5T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBsYW5nQ29kZTogbGFuZ0NvZGVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHBhcmFtcy5jb3VudCgpIC0gbnVtYmVyIG9mIGl0ZW1zIHBlciBwYWdlIGRlY2xhcmVkIGluIHZpZXdcbiAgICAgICAgICAgIGlmICh0eXBlb2YgVXRpbHMuJHN0YXRlUGFyYW1zLnBlclBhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmNvdW50KFV0aWxzLiRzdGF0ZVBhcmFtcy5wZXJQYWdlKTtcbiAgICAgICAgICAgICAgICBxdWVyeU9wdGlvbnMucGVyUGFnZSA9IHBhcmFtcy5jb3VudCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwYXJhbXMucGFnZSgpIC0gY3VycmVudCBwYWdlXG4gICAgICAgICAgICBpZiAodHlwZW9mIFV0aWxzLiRzdGF0ZVBhcmFtcy5wYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wYWdlKFV0aWxzLiRzdGF0ZVBhcmFtcy5wYWdlKTtcbiAgICAgICAgICAgICAgICBxdWVyeU9wdGlvbnMucGFnZSA9IHBhcmFtcy5wYWdlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRhYmxlUGFyYW1zLm9yZGVyQnkoKSAtIGFuIGFycmF5IG9mIHN0cmluZyBpbmRpY2F0aW5nIGJvdGggdGhlIHNvcnRpbmcgY29sdW1uIGFuZCBkaXJlY3Rpb24gKGUuZy4gW1wiK25hbWVcIiwgXCItZW1haWxcIl0pXG4gICAgICAgICAgICBpZiAocGFyYW1zLnNvcnRpbmcoKSkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgaW50ZXJlc3RlZCBpbiBmaXJzdCBzb3J0IGNvbHVtbiBmb3Igbm93XG4gICAgICAgICAgICAgICAgdmFyIG9yZGVyQnkgPSBwYXJhbXMub3JkZXJCeSgpWzBdO1xuICAgICAgICAgICAgICAgIHF1ZXJ5T3B0aW9ucy5zb3J0ID0gb3JkZXJCeVswXSA9PT0gJysnID8gb3JkZXJCeS5zdWJzdHJpbmcoMSkgOiBvcmRlckJ5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBnZXQgbGlzdCBieSBkZWZhdWx0XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IENvbnRlbnRSZXBvc2l0b3J5LnRyYW5zbGF0aW9ucyhjb250ZW50LmlkLCBxdWVyeU9wdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyBDb250ZW50cyBpcyBhIFJFU1QgQW5ndWxhckpTIHNlcnZpY2UgdGhhdCB0YWxrcyB0byBhcGkgYW5kIHJldHVybiBwcm9taXNlXG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMudG90YWwocmVzcG9uc2UubWV0YS50b3RhbCk7XG4gICAgICAgICAgICAgICAgJGRlZmVyLnJlc29sdmUoQ29udGVudFJlcG9zaXRvcnkuY2xlYW4ocmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWV0YSA9IHJlc3BvbnNlLm1ldGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5Db250ZW50SGlzdG9yeUN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ1V0aWxzJywgJ2NvbnRlbnQnLCAnbGFuZ0NvZGUnLCAnQ29udGVudFJlcG9zaXRvcnknLCAnbmdUYWJsZVBhcmFtcyddO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50SGlzdG9yeUN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnRMaXN0Q3RybCgkc2NvcGUsIFV0aWxzLCBsaXN0UGFyZW50LCBDb250ZW50UmVwb3NpdG9yeSwgTmdUYWJsZVBhcmFtcykge1xuICAgIC8vIGlmIHBhcmVudCBjYXRlZ29yeSBleGlzdHNcbiAgICBpZiAodHlwZW9mIGxpc3RQYXJlbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICRzY29wZS5saXN0UGFyZW50ID0gbGlzdFBhcmVudDsgLy8gc2VsZWN0ZWQgY2F0ZWdvcnlcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBjb250ZW50IGFkZCBidXR0b24gbGlua3NcbiAgICAkc2NvcGUuY29udGVudEFkZEJ1dHRvbkxpbmtzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnQUREX0NPTlRFTlQnLFxuICAgICAgICAgICAgaHJlZjogJ2NvbnRlbnQuYWRkKHsgdHlwZTogXCJjb250ZW50XCIgfSknLFxuICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWZpbGUtdGV4dC1vJ1xuXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdBRERfQ0FURUdPUlknLFxuICAgICAgICAgICAgaHJlZjogJ2NvbnRlbnQuYWRkKHsgdHlwZTogXCJjYXRlZ29yeVwiIH0pJyxcbiAgICAgICAgICAgIGljb246ICdmYSBmYS1mb2xkZXItbydcbiAgICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBUT0RPOiBjb250ZW50IGxpc3QgYWN0aW9uc1xuICAgICRzY29wZS5jb250ZW50TGlzdEFjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdWSUVXJyxcbiAgICAgICAgICAgIHVybDogJ3B1YmxpY1VybCcsIC8vIHRoaXMgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGNvbnRlbnQgcHVibGljIHVybFxuICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXNlYXJjaCdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogJ0VESVQnLFxuICAgICAgICAgICAgaHJlZjogJ2NvbnRlbnQuc2hvdyh7IGNvbnRlbnRJZDogcmVjb3JkX2lkLCBsYW5nQ29kZTogbGFuZ19jb2RlIH0pJyxcbiAgICAgICAgICAgIGljb246ICdmYSBmYS1wZW5jaWwnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdNT1ZFX1RPX1RSQVNIJyxcbiAgICAgICAgICAgIGNsaWNrOiAnZGVsZXRlJywgLy8gdGhpcyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggZGVsZXRlIGFjdGlvblxuICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXRpbWVzJ1xuICAgICAgICB9XG4gICAgXTtcblxuICAgIC8vIEJpbmQgaG90a2V5c1xuICAgIFV0aWxzLmhvdGtleXMuYWRkKHtcbiAgICAgICAgY29tYm86ICdjdHJsK2FsdCtuJyxcbiAgICAgICAgZGVzY3JpcHRpb246IFV0aWxzLiRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdBRERfQ09OVEVOVCcpLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbygnY29udGVudC5hZGQnLCB7dHlwZTogJ2NvbnRlbnQnfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIFV0aWxzLmhvdGtleXMuYWRkKHtcbiAgICAgICAgY29tYm86ICdjdHJsK2FsdCttJyxcbiAgICAgICAgZGVzY3JpcHRpb246IFV0aWxzLiRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdBRERfQ0FURUdPUlknKSxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28oJ2NvbnRlbnQuYWRkJywge3R5cGU6ICdjYXRlZ29yeSd9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gIG5nVGFibGUgY29uZmlndXJhdGlvblxuICAgICRzY29wZS50YWJsZVBhcmFtcyA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgY291bnQ6IDI1LCAvLyBjb3VudCBwZXIgcGFnZVxuICAgICAgICBzb3J0aW5nOiB7XG4gICAgICAgICAgICAndHJhbnNsYXRpb25zLnRpdGxlJzogJ2FzYycgLy8gaW5pdGlhbCBzb3J0aW5nXG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIHRvdGFsOiAwLCAvLyBsZW5ndGggb2YgZGF0YVxuICAgICAgICBnZXREYXRhOiBmdW5jdGlvbigkZGVmZXIsIHBhcmFtcykge1xuICAgICAgICAgICAgJHNjb3BlLnJlcXVlc3RQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHByZXBhcmUgb3B0aW9ucyB0byBiZSBzZW50IHRvIGFwaVxuICAgICAgICAgICAgdmFyIHF1ZXJ5T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBsYW5nOiAkc2NvcGUudHJhbnNMYW5nLmNvZGUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRlbnQnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBwYXJhbXMuY291bnQoKSAtIG51bWJlciBvZiBpdGVtcyBwZXIgcGFnZSBkZWNsYXJlZCBpbiB2aWV3XG4gICAgICAgICAgICBpZiAodHlwZW9mIFV0aWxzLiRzdGF0ZVBhcmFtcy5wZXJQYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5jb3VudChVdGlscy4kc3RhdGVQYXJhbXMucGVyUGFnZSk7XG4gICAgICAgICAgICAgICAgcXVlcnlPcHRpb25zLnBlclBhZ2UgPSBwYXJhbXMuY291bnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcGFyYW1zLnBhZ2UoKSAtIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBVdGlscy4kc3RhdGVQYXJhbXMucGFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucGFnZShVdGlscy4kc3RhdGVQYXJhbXMucGFnZSk7XG4gICAgICAgICAgICAgICAgcXVlcnlPcHRpb25zLnBhZ2UgPSBwYXJhbXMucGFnZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0YWJsZVBhcmFtcy5vcmRlckJ5KCkgLSBhbiBhcnJheSBvZiBzdHJpbmcgaW5kaWNhdGluZyBib3RoIHRoZSBzb3J0aW5nIGNvbHVtbiBhbmQgZGlyZWN0aW9uIChlLmcuIFtcIituYW1lXCIsIFwiLWVtYWlsXCJdKVxuICAgICAgICAgICAgaWYgKHBhcmFtcy5zb3J0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGludGVyZXN0ZWQgaW4gZmlyc3Qgc29ydCBjb2x1bW4gZm9yIG5vd1xuICAgICAgICAgICAgICAgIHZhciBvcmRlckJ5ID0gcGFyYW1zLm9yZGVyQnkoKVswXTtcbiAgICAgICAgICAgICAgICBxdWVyeU9wdGlvbnMuc29ydCA9IG9yZGVyQnlbMF0gPT09ICcrJyA/IG9yZGVyQnkuc3Vic3RyaW5nKDEpIDogb3JkZXJCeTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXRpbHMuJHN0YXRlUGFyYW1zIC0gZmlsdGVycyB3aXRob3V0IGNvbnRlbnRJZFxuICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBfLm9taXQoVXRpbHMuJHN0YXRlUGFyYW1zLCAnY29udGVudElkJyk7XG4gICAgICAgICAgICBxdWVyeU9wdGlvbnMgPSBfLm1lcmdlKHF1ZXJ5T3B0aW9ucywgZmlsdGVycyk7XG4gICAgICAgICAgICAkc2NvcGUuYWN0aXZlRmlsdGVyID0gZmlsdGVycztcblxuICAgICAgICAgICAgLy8gbGlzdCBwcm9taXNlXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHt9O1xuXG4gICAgICAgICAgICAvLyBpZiBwYXJlbnQgY2F0ZWdvcnkgaXMgbm90IHNlbGVjdGVkXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxpc3RQYXJlbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHVuY2F0ZWdvcml6ZWRcbiAgICAgICAgICAgICAgICBxdWVyeU9wdGlvbnMubGV2ZWwgPSAwO1xuICAgICAgICAgICAgICAgIHByb21pc2UgPSBDb250ZW50UmVwb3NpdG9yeS5saXN0KHF1ZXJ5T3B0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGdldCBjaGlsZHJlbidzXG4gICAgICAgICAgICAgICAgcHJvbWlzZSA9IENvbnRlbnRSZXBvc2l0b3J5LmNoaWxkcmVuKGxpc3RQYXJlbnQuaWQsIHF1ZXJ5T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENvbnRlbnRzIGlzIGEgUkVTVCBBbmd1bGFySlMgc2VydmljZSB0aGF0IHRhbGtzIHRvIGFwaSBhbmQgcmV0dXJuIHByb21pc2VcbiAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5yZXF1ZXN0UGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBhcmFtcy50b3RhbChyZXNwb25zZS5tZXRhLnRvdGFsKTtcbiAgICAgICAgICAgICAgICAkZGVmZXIucmVzb2x2ZShDb250ZW50UmVwb3NpdG9yeS5jbGVhbihyZXNwb25zZSkpO1xuICAgICAgICAgICAgICAgICRzY29wZS5tZXRhID0gcmVzcG9uc2UubWV0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5Db250ZW50TGlzdEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ1V0aWxzJywgJ2xpc3RQYXJlbnQnLCAnQ29udGVudFJlcG9zaXRvcnknLCAnbmdUYWJsZVBhcmFtcyddO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50TGlzdEN0cmw7XG4iLCIvKipcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBHWkVSTyBDTVMgcGFja2FnZS5cbiAqXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRVxuICogZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKlxuICogQ2xhc3MgVXNlckNvbnRyb2xsZXJcbiAqXG4gKiBAcGFja2FnZSAgICBBZG1pblxuICogQGF1dGhvciAgICAgTWF0ZXVzeiBVcmJhbm93aWN6IDx1cmJhbm93aWN6bWF0ZXVzejg5QGdtYWlsLmNvbT5cbiAqIEBjb3B5cmlnaHQgIENvcHlyaWdodCAoYykgMjAxNSwgTWF0ZXVzeiBVcmJhbm93aWN6XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBDb250ZW50VHJhc2hjYW5DdHJsKCRzY29wZSwgQ29udGVudFJlcG9zaXRvcnksIE5nVGFibGVQYXJhbXMsIFV0aWxzKSB7XG4gICAgJHNjb3BlLnRhYmxlUGFyYW1zID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICBjb3VudDogMjUsIC8vIGNvdW50IHBlciBwYWdlXG4gICAgICAgIHNvcnRpbmc6IHtcbiAgICAgICAgICAgICdpZCc6ICdkZXNjJyAvLyBpbml0aWFsIHNvcnRpbmdcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgdG90YWw6IDAsIC8vIGxlbmd0aCBvZiBkYXRhXG4gICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCRkZWZlciwgcGFyYW1zKSB7XG4gICAgICAgICAgICAkc2NvcGUucmVxdWVzdFBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgLy8gcHJlcGFyZSBvcHRpb25zIHRvIGJlIHNlbnQgdG8gYXBpXG4gICAgICAgICAgICB2YXIgcXVlcnlPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGxhbmc6ICRzY29wZS50cmFuc0xhbmcuY29kZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gcGFyYW1zLmNvdW50KCkgLSBudW1iZXIgb2YgaXRlbXMgcGVyIHBhZ2UgZGVjbGFyZWQgaW4gdmlld1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBVdGlscy4kc3RhdGVQYXJhbXMucGVyUGFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuY291bnQoVXRpbHMuJHN0YXRlUGFyYW1zLnBlclBhZ2UpO1xuICAgICAgICAgICAgICAgIHF1ZXJ5T3B0aW9ucy5wZXJQYWdlID0gcGFyYW1zLmNvdW50KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHBhcmFtcy5wYWdlKCkgLSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIGlmICh0eXBlb2YgVXRpbHMuJHN0YXRlUGFyYW1zLnBhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnBhZ2UoVXRpbHMuJHN0YXRlUGFyYW1zLnBhZ2UpO1xuICAgICAgICAgICAgICAgIHF1ZXJ5T3B0aW9ucy5wYWdlID0gcGFyYW1zLnBhZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGFibGVQYXJhbXMub3JkZXJCeSgpIC0gYW4gYXJyYXkgb2Ygc3RyaW5nIGluZGljYXRpbmcgYm90aCB0aGUgc29ydGluZyBjb2x1bW4gYW5kIGRpcmVjdGlvbiAoZS5nLiBbXCIrbmFtZVwiLCBcIi1lbWFpbFwiXSlcbiAgICAgICAgICAgIGlmIChwYXJhbXMuc29ydGluZygpKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSBpbnRlcmVzdGVkIGluIGZpcnN0IHNvcnQgY29sdW1uIGZvciBub3dcbiAgICAgICAgICAgICAgICB2YXIgb3JkZXJCeSA9IHBhcmFtcy5vcmRlckJ5KClbMF07XG4gICAgICAgICAgICAgICAgcXVlcnlPcHRpb25zLnNvcnQgPSBvcmRlckJ5WzBdID09PSAnKycgPyBvcmRlckJ5LnN1YnN0cmluZygxKSA6IG9yZGVyQnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFV0aWxzLiRzdGF0ZVBhcmFtcyBmaWx0ZXJzXG4gICAgICAgICAgICBxdWVyeU9wdGlvbnMgPSBfLm1lcmdlKHF1ZXJ5T3B0aW9ucywgVXRpbHMuJHN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgICRzY29wZS5hY3RpdmVGaWx0ZXIgPSBVdGlscy4kc3RhdGVQYXJhbXM7XG5cbiAgICAgICAgICAgIC8vIGdldCBsaXN0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gQ29udGVudFJlcG9zaXRvcnkuZGVsZXRlZChxdWVyeU9wdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyBDb250ZW50cyBpcyBhIFJFU1QgQW5ndWxhckpTIHNlcnZpY2UgdGhhdCB0YWxrcyB0byBhcGkgYW5kIHJldHVybiBwcm9taXNlXG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVxdWVzdFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwYXJhbXMudG90YWwocmVzcG9uc2UubWV0YS50b3RhbCk7XG4gICAgICAgICAgICAgICAgJGRlZmVyLnJlc29sdmUoQ29udGVudFJlcG9zaXRvcnkuY2xlYW4ocmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWV0YSA9IHJlc3BvbnNlLm1ldGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5Db250ZW50VHJhc2hjYW5DdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdDb250ZW50UmVwb3NpdG9yeScsICduZ1RhYmxlUGFyYW1zJywgJ1V0aWxzJ107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRUcmFzaGNhbkN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnREZWxldGVDdHJsKCRzY29wZSwgVXRpbHMsICRtb2RhbCwgQ29udGVudFJlcG9zaXRvcnkpIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgdmlld1BhdGggPSAnZ3plcm8vYWRtaW4vdmlld3MvY29udGVudC9kaXJlY3RpdmVzLyc7XG4gICAgLy8gRGVsZXRlIG1vZGFsXG4gICAgdm0uZGVsZXRlTW9kYWwgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBpbml0aWF0ZXMgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgdHJhbnNsYXRhYmxlIHRpdGxlIG9mIG1vZGFsXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIHRyYW5zbGF0YWJsZSBtZXNzYWdlcyBvZiBtb2RhbFxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdE1vZGFsOiBmdW5jdGlvbih0aXRsZSwgbWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbCA9ICRtb2RhbCh7XG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnY29udGVudERlbGV0ZU1vZGFsLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ2NlbnRlcidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2hvd3MgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gY29udGVudElkIGNvbnRlbnQgaWQgdG8gYmUgcmVtb3ZlZCwgaXQgaXMgc2F2ZWQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqIEBwYXJhbSBjb250ZW50VHlwZSBjb250ZW50IHR5cGVcbiAgICAgICAgICogQHBhcmFtIGZvcmNlRGVsZXRlIHVzZSBmb3JjZURlbGV0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd01vZGFsOiBmdW5jdGlvbihjb250ZW50SWQsIGNvbnRlbnRUeXBlLCBmb3JjZURlbGV0ZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdm0uY29udGVudElkID0gY29udGVudElkO1xuICAgICAgICAgICAgdm0uY29udGVudFR5cGUgPSBjb250ZW50VHlwZTtcbiAgICAgICAgICAgIHZtLmZvcmNlRGVsZXRlID0gZm9yY2VEZWxldGU7XG4gICAgICAgICAgICBpZiAodm0uZm9yY2VEZWxldGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmluaXRNb2RhbCgnUExFQVNFX0NPTkZJUk0nLCAnREVMRVRFX0NPTlRFTlRfUVVFU1RJT04nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pbml0TW9kYWwoJ1BMRUFTRV9DT05GSVJNJywgJ01PVkVfQ09OVEVOVF9UT19UUkFTSF9RVUVTVElPTicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBCaW5kIGhvdGtleXNcbiAgICAgICAgICAgIFV0aWxzLmhvdGtleXMuYWRkKHtcbiAgICAgICAgICAgICAgICBjb21ibzogJ2VudGVyJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogVXRpbHMuJGZpbHRlcigndHJhbnNsYXRlJykoXG4gICAgICAgICAgICAgICAgICAgIHZtLmZvcmNlRGVsZXRlID8gJ0NPTkZJUk1fREVMRVRFJyA6ICdDT05GSVJNX01PVkVfVE9fVFJBU0gnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5kZWxldGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgVXRpbHMuaG90a2V5cy5kZWwoJ2VudGVyJyk7XG4gICAgICAgICAgICBzZWxmLm1vZGFsLmhpZGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHBlcmZvcm1zIHRoZSBSZXN0QW5ndWxhciBERUxFVEUgYWN0aW9uIGZvciBjb250ZW50IGlkIGluIHNjb3BlXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVDb250ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIENvbnRlbnRSZXBvc2l0b3J5LmRlbGV0ZUNvbnRlbnQodm0uY29udGVudElkLCB2bS5mb3JjZURlbGV0ZSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAodm0uY29udGVudFR5cGUgPT09ICdjYXRlZ29yeScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlZCBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICBVdGlscy5TdG9yYWdlLnJlbW92ZVN0b3JhZ2VJdGVtKCdjb250ZW50TGlzdFBhcmVudCcpO1xuICAgICAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28oJ2NvbnRlbnQubGlzdCcsIHtjb250ZW50SWQ6IG51bGx9LCB7cmVsb2FkOiB0cnVlLCBpbmhlcml0OiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoJ0NBVEVHT1JZX0hBU19CRUVOX0RFTEVURUQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmVkIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzLiRzdGF0ZS4kY3VycmVudC5uYW1lID09PSAnY29udGVudC5zaG93LmRldGFpbHMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28oJ2NvbnRlbnQudHJhc2hjYW4nLCB7Y29udGVudElkOiBudWxsfSwge3JlbG9hZDogdHJ1ZSwgaW5oZXJpdDogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbyhVdGlscy4kc3RhdGUuY3VycmVudCwge30sIHtyZWxvYWQ6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5mb3JjZURlbGV0ZSA/ICdDT05URU5UX0hBU19CRUVOX0RFTEVURUQnIDogJ0NPTlRFTlRfSEFTX0JFRU5fTU9WRURfVE9fVFJBU0gnXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59XG5Db250ZW50RGVsZXRlQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnVXRpbHMnLCAnJG1vZGFsJywgJ0NvbnRlbnRSZXBvc2l0b3J5J107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnREZWxldGVDdHJsO1xuIiwiLyoqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgR1pFUk8gQ01TIHBhY2thZ2UuXG4gKlxuICogRm9yIHRoZSBmdWxsIGNvcHlyaWdodCBhbmQgbGljZW5zZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpZXcgdGhlIExJQ0VOU0VcbiAqIGZpbGUgdGhhdCB3YXMgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHNvdXJjZSBjb2RlLlxuICpcbiAqIENsYXNzIENvbnRlbnRQdWJsaXNoZWRBdEVkaXRDdHJsXG4gKlxuICogQHBhY2thZ2UgICAgQWRtaW5cbiAqIEBhdXRob3IgICAgIE1hdGV1c3ogVXJiYW5vd2ljeiA8dXJiYW5vd2ljem1hdGV1c3o4OUBnbWFpbC5jb20+XG4gKiBAY29weXJpZ2h0ICBDb3B5cmlnaHQgKGMpIDIwMTUsIE1hdGV1c3ogVXJiYW5vd2ljelxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gQ29udGVudFB1Ymxpc2hlZEF0RWRpdEN0cmwoJHNjb3BlLCBVdGlscywgJG1vZGFsLCBDb250ZW50UmVwb3NpdG9yeSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIHZpZXdQYXRoID0gJ2d6ZXJvL2FkbWluL3ZpZXdzL2NvbnRlbnQvZGlyZWN0aXZlcy8nO1xuICAgIC8vIFJvdXRlIG1vZGFsXG4gICAgdm0uZWRpdE1vZGFsID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gaW5pdGlhdGVzIHRoZSBBbmd1bGFyU3RyYXAgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHRpdGxlIHRyYW5zbGF0YWJsZSB0aXRsZSBvZiBtb2RhbFxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdE1vZGFsOiBmdW5jdGlvbih0aXRsZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbCA9ICRtb2RhbCh7XG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2NvbnRlbnRFZGl0UHVibGlzaGVkQXRNb2RhbC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdjZW50ZXInXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHNob3dzIHRoZSBBbmd1bGFyU3RyYXAgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGNvbnRlbnRJZCBjb250ZW50IGlkIHRvIGJlIHVwZGF0ZWQsIGl0IGlzIHNhdmVkIGluIHRoZSBzY29wZVxuICAgICAgICAgKiBAcGFyYW0gY29udGVudFB1Ymxpc2hlZEF0IGNvbnRlbnQgcHVibGlzaGVkIGF0IGRhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNob3dNb2RhbDogZnVuY3Rpb24oY29udGVudElkLCBjb250ZW50UHVibGlzaGVkQXQpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZtLmNvbnRlbnRJZCA9IGNvbnRlbnRJZDtcbiAgICAgICAgICAgIHZtLmNvbnRlbnRQdWJsaXNoZWRBdCA9IGNvbnRlbnRQdWJsaXNoZWRBdDtcbiAgICAgICAgICAgIHNlbGYuaW5pdE1vZGFsKCdFRElUJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbC5oaWRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBwZXJmb3JtcyB0aGUgUmVzdEFuZ3VsYXIgY3VzdG9tUFVUIGZ1bmN0aW9uIGZvciBjb250ZW50IGluIHNjb3BlXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlQ29udGVudFB1Ymxpc2hlZEF0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBkYXRlVGltZSA9IG1vbWVudCgkc2NvcGUudm0uY29udGVudFB1Ymxpc2hlZEF0KS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlZEF0OiBkYXRlVGltZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgQ29udGVudFJlcG9zaXRvcnkudXBkYXRlQ29udGVudCh2bS5jb250ZW50SWQsIGNvbnRlbnQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28oVXRpbHMuJHN0YXRlLmN1cnJlbnQsIHt9LCB7cmVsb2FkOiB0cnVlfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgfTtcbn1cbkNvbnRlbnRQdWJsaXNoZWRBdEVkaXRDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdVdGlscycsICckbW9kYWwnLCAnQ29udGVudFJlcG9zaXRvcnknXTtcbm1vZHVsZS5leHBvcnRzID0gQ29udGVudFB1Ymxpc2hlZEF0RWRpdEN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnRSZXN0b3JlQ3RybCgkc2NvcGUsIFV0aWxzLCAkbW9kYWwsIENvbnRlbnRSZXBvc2l0b3J5KSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgdmlld1BhdGggPSAnZ3plcm8vYWRtaW4vdmlld3MvY29udGVudC9kaXJlY3RpdmVzLyc7XG4gICAgLy8gUmVzdG9yZSBtb2RhbFxuICAgIHZtLnJlc3RvcmVNb2RhbCA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIGluaXRpYXRlcyB0aGUgQW5ndWxhclN0cmFwIG1vZGFsXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB0aXRsZSB0cmFuc2xhdGFibGUgdGl0bGUgb2YgbW9kYWxcbiAgICAgICAgICogQHBhcmFtIG1lc3NhZ2UgdHJhbnNsYXRhYmxlIG1lc3NhZ2VzIG9mIG1vZGFsXG4gICAgICAgICAqL1xuICAgICAgICBpbml0TW9kYWw6IGZ1bmN0aW9uKHRpdGxlLCBtZXNzYWdlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZWxmLm1vZGFsID0gJG1vZGFsKHtcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdjb250ZW50UmVzdG9yZU1vZGFsLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ2NlbnRlcidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2hvd3MgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gY29udGVudElkIGNvbnRlbnQgaWQgdG8gYmUgcmVzdG9yZWQsIGl0IGlzIHNhdmVkIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd01vZGFsOiBmdW5jdGlvbihjb250ZW50SWQpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZtLmNvbnRlbnRJZCA9IGNvbnRlbnRJZDtcbiAgICAgICAgICAgIHNlbGYuaW5pdE1vZGFsKCdQTEVBU0VfQ09ORklSTScsICdSRVNUT1JFX0NPTlRFTlRfUVVFU1RJT04nKTtcblxuICAgICAgICAgICAgLy8gQmluZCBob3RrZXlzXG4gICAgICAgICAgICBVdGlscy5ob3RrZXlzLmFkZCh7XG4gICAgICAgICAgICAgICAgY29tYm86ICdlbnRlcicsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFV0aWxzLiRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdDT05GSVJNX0NPTlRFTlRfUkVTVE9SRScpLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXN0b3JlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gY2xvc2UgdGhlIG1vZGFsXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNlbGYubW9kYWwuaGlkZSgpO1xuICAgICAgICAgICAgVXRpbHMuaG90a2V5cy5kZWwoJ2VudGVyJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiByZXN0b3JlIHNvZnREZWxldGVkIGNvbnRlbnRcbiAgICAgICAgICogQHBhcmFtIGVkaXRBZnRlclJlc3RvcmUgaWYgdHJ1ZSByZWRpcmVjdCB0byBlZGl0IHN0YXRlIGFmdGVyIHJlc3RvcmVcbiAgICAgICAgICovXG4gICAgICAgIHJlc3RvcmVDb250ZW50OiBmdW5jdGlvbihlZGl0QWZ0ZXJSZXN0b3JlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBDb250ZW50UmVwb3NpdG9yeS5yZXN0b3JlQ29udGVudCh2bS5jb250ZW50SWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICBpZiAoZWRpdEFmdGVyUmVzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28oJ2NvbnRlbnQuZWRpdC5kZXRhaWxzJywge2NvbnRlbnRJZDogdm0uY29udGVudElkLCBsYW5nQ29kZTogJHNjb3BlLmN1cnJlbnRMYW5nLmNvZGV9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28oVXRpbHMuJHN0YXRlLmN1cnJlbnQsIHt9LCB7cmVsb2FkOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFV0aWxzLk5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcygnQ09OVEVOVF9IQVNfQkVFTl9SRVNUT1JFRCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuQ29udGVudFJlc3RvcmVDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdVdGlscycsICckbW9kYWwnLCAnQ29udGVudFJlcG9zaXRvcnknLCAnTm90aWZpY2F0aW9ucyddO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50UmVzdG9yZUN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnRSb3V0ZUN0cmwoJHNjb3BlLCBVdGlscywgJG1vZGFsLCBDb250ZW50UmVwb3NpdG9yeSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIHZpZXdQYXRoID0gJ2d6ZXJvL2FkbWluL3ZpZXdzL2NvbnRlbnQvZGlyZWN0aXZlcy8nO1xuICAgIC8vIFJvdXRlIG1vZGFsXG4gICAgdm0uZWRpdFJvdXRlTW9kYWwgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBpbml0aWF0ZXMgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgdHJhbnNsYXRhYmxlIHRpdGxlIG9mIG1vZGFsXG4gICAgICAgICAqL1xuICAgICAgICBpbml0TW9kYWw6IGZ1bmN0aW9uKHRpdGxlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZWxmLm1vZGFsID0gJG1vZGFsKHtcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnY29udGVudEVkaXRSb3V0ZU1vZGFsLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ2NlbnRlcidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2hvd3MgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gY29udGVudElkIGNvbnRlbnQgaWQgdG8gYmUgcmVtb3ZlZCwgaXQgaXMgc2F2ZWQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqIEBwYXJhbSBjb250ZW50Um91dGUgY29udGVudCByb3V0ZVxuICAgICAgICAgKiBAcGFyYW0gbGFuZ0NvZGUgcm91dGUgdHJhbnNsYXRpb24gbGFuZ3VhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNob3dNb2RhbDogZnVuY3Rpb24oY29udGVudElkLCBjb250ZW50Um91dGUsIGxhbmdDb2RlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2bS5jb250ZW50SWQgPSBjb250ZW50SWQ7XG4gICAgICAgICAgICB2bS5jb250ZW50Um91dGUgPSBjb250ZW50Um91dGUuc3Vic3RyKGNvbnRlbnRSb3V0ZS5sYXN0SW5kZXhPZignLycpICsgMSk7IC8vIGxhc3QgdXJsIHNlZ21lbnRcbiAgICAgICAgICAgIHZtLm9sZFJvdXRlID0gdm0uY29udGVudFJvdXRlO1xuICAgICAgICAgICAgdm0ubGFuZ0NvZGUgPSBsYW5nQ29kZTtcbiAgICAgICAgICAgIHNlbGYuaW5pdE1vZGFsKCdFRElUJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbC5oaWRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBwZXJmb3JtcyB0aGUgUmVzdEFuZ3VsYXIgREVMRVRFIGFjdGlvbiBmb3IgY29udGVudCBpZCBpbiBzY29wZVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgc2F2ZUNvbnRlbnRSb3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbmV3Um91dGUgPSB7XG4gICAgICAgICAgICAgICAgbGFuZ0NvZGU6IHZtLmxhbmdDb2RlLFxuICAgICAgICAgICAgICAgIHVybDogdm0uY29udGVudFJvdXRlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHJvdXRlIGhhcyBiZWVuIGNoYW5nZWRcbiAgICAgICAgICAgIGlmICh2bS5jb250ZW50Um91dGUgIT09IHZtLm9sZFJvdXRlKSB7XG4gICAgICAgICAgICAgICAgQ29udGVudFJlcG9zaXRvcnkubmV3Q29udGVudFJvdXRlKHZtLmNvbnRlbnRJZCwgbmV3Um91dGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbyhVdGlscy4kc3RhdGUuY3VycmVudCwge30sIHtyZWxvYWQ6IHRydWV9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuQ29udGVudFJvdXRlQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnVXRpbHMnLCAnJG1vZGFsJywgJ0NvbnRlbnRSZXBvc2l0b3J5J107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRSb3V0ZUN0cmw7XG4iLCIvKipcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBHWkVSTyBDTVMgcGFja2FnZS5cbiAqXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRVxuICogZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKlxuICogQ2xhc3MgQ29udGVudFRvZ2dsZVByb3BlcnR5Q3RybFxuICpcbiAqIEBwYWNrYWdlICAgIEFkbWluXG4gKiBAYXV0aG9yICAgICBNYXRldXN6IFVyYmFub3dpY3ogPHVyYmFub3dpY3ptYXRldXN6ODlAZ21haWwuY29tPlxuICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDE1LCBNYXRldXN6IFVyYmFub3dpY3pcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnRUb2dnbGVQcm9wZXJ0eUN0cmwoVXRpbHMsIENvbnRlbnRSZXBvc2l0b3J5KSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIHZtLnRvZ2dsZVByb3BlcnR5ID0ge1xuXG4gICAgICAgIHRvZ2dsZVByb3BlcnR5OiBmdW5jdGlvbihjb250ZW50SWQsIHByb3BlcnR5TmFtZSwgY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSAhY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSB7fTtcbiAgICAgICAgICAgIGNvbnRlbnRbcHJvcGVydHlOYW1lXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgQ29udGVudFJlcG9zaXRvcnkudXBkYXRlQ29udGVudChjb250ZW50SWQsIGNvbnRlbnQpLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG59XG5Db250ZW50VG9nZ2xlUHJvcGVydHlDdHJsLiRpbmplY3QgPSBbJ1V0aWxzJywgJ0NvbnRlbnRSZXBvc2l0b3J5J107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRUb2dnbGVQcm9wZXJ0eUN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnRSb3V0ZUN0cmwoJHNjb3BlLCBVdGlscywgJG1vZGFsLCBDb250ZW50UmVwb3NpdG9yeSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIHZpZXdQYXRoID0gJ2d6ZXJvL2FkbWluL3ZpZXdzL2NvbnRlbnQvZGlyZWN0aXZlcy8nO1xuICAgIC8vIFJvdXRlIG1vZGFsXG4gICAgdm0uZWRpdE1vZGFsID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gaW5pdGlhdGVzIHRoZSBBbmd1bGFyU3RyYXAgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHRpdGxlIHRyYW5zbGF0YWJsZSB0aXRsZSBvZiBtb2RhbFxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdE1vZGFsOiBmdW5jdGlvbih0aXRsZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbCA9ICRtb2RhbCh7XG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2NvbnRlbnRFZGl0V2VpZ2h0TW9kYWwudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgcGxhY2VtZW50OiAnY2VudGVyJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBzaG93cyB0aGUgQW5ndWxhclN0cmFwIG1vZGFsXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBjb250ZW50SWQgY29udGVudCBpZCB0byBiZSB1cGRhdGVkLCBpdCBpcyBzYXZlZCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICogQHBhcmFtIGNvbnRlbnRXZWlnaHQgY29udGVudCB3ZWlnaHRcbiAgICAgICAgICovXG4gICAgICAgIHNob3dNb2RhbDogZnVuY3Rpb24oY29udGVudElkLCBjb250ZW50V2VpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2bS5jb250ZW50SWQgPSBjb250ZW50SWQ7XG4gICAgICAgICAgICB2bS5jb250ZW50V2VpZ2h0ID0gY29udGVudFdlaWdodDtcbiAgICAgICAgICAgIHNlbGYuaW5pdE1vZGFsKCdFRElUJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbC5oaWRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBwZXJmb3JtcyB0aGUgUmVzdEFuZ3VsYXIgY3VzdG9tUFVUIGZ1bmN0aW9uIGZvciBjb250ZW50IGluIHNjb3BlXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlQ29udGVudFdlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHtcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6ICRzY29wZS52bS5jb250ZW50V2VpZ2h0XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBDb250ZW50UmVwb3NpdG9yeS51cGRhdGVDb250ZW50KHZtLmNvbnRlbnRJZCwgY29udGVudCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbyhVdGlscy4kc3RhdGUuY3VycmVudCwge30sIHtyZWxvYWQ6IHRydWV9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICB9O1xufVxuQ29udGVudFJvdXRlQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnVXRpbHMnLCAnJG1vZGFsJywgJ0NvbnRlbnRSZXBvc2l0b3J5J107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRSb3V0ZUN0cmw7XG4iLCIvKipcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBHWkVSTyBDTVMgcGFja2FnZS5cbiAqXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRVxuICogZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKlxuICogQ2xhc3MgU2V0VHJhbnNsYXRpb25Bc0FjdGl2ZVxuICpcbiAqIEBwYWNrYWdlICAgIEFkbWluXG4gKiBAYXV0aG9yICAgICBNYXRldXN6IFVyYmFub3dpY3ogPHVyYmFub3dpY3ptYXRldXN6ODlAZ21haWwuY29tPlxuICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDE1LCBNYXRldXN6IFVyYmFub3dpY3pcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFNldFRyYW5zbGF0aW9uQXNBY3RpdmVDdHJsKCRzY29wZSwgVXRpbHMsICRtb2RhbCwgQ29udGVudFJlcG9zaXRvcnkpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZhciB2aWV3UGF0aCA9ICdnemVyby9hZG1pbi92aWV3cy9jb250ZW50L2RpcmVjdGl2ZXMvJztcbiAgICAvLyBTZXQgYXMgYWN0aXZlIG1vZGFsXG4gICAgdm0uc2V0QXNBY3RpdmVNb2RhbCA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJuIHRyYW5zbGF0aW9uIHdpdGggc3BlY2lmaWVkIGlkIHByb3BlcnR5IGZyb20gdHJhbnNsYXRpb25zIGFycmF5XG4gICAgICAgICAqIGFuZCBmZXRjaCBsYW5nIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbnMgVHJhbnNsYXRpb25zIGFycmF5XG4gICAgICAgICAqIEBwYXJhbSBpZCB0cmFuc2xhdGlvbiBpZFxuICAgICAgICAgKiBAcmV0dXJucyBPYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGdldFRyYW5zbGF0aW9uQnlJZDogZnVuY3Rpb24odHJhbnNsYXRpb25zLCBpZCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb25zLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAocGFyc2VJbnQodHJhbnNsYXRpb24uaWQpID09PSBwYXJzZUludChpZCkpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5sYW5nQ29kZSA9IHRyYW5zbGF0aW9uLmxhbmc7IC8vIENvdXNlIHdlIGNoYW5nZSBuYW1lIG9mIHRoaXMgcHJvcGVydHkgaW4gQ29udGVudFRyYW5zbGF0aW9uVHJhbnNmb3JtZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldFRyYW5zbGF0aW9uQnlJZCh0cmFuc2xhdGlvbnMsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gaW5pdGlhdGVzIHRoZSBBbmd1bGFyU3RyYXAgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHRpdGxlIHRyYW5zbGF0YWJsZSB0aXRsZSBvZiBtb2RhbFxuICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZSB0cmFuc2xhdGFibGUgbWVzc2FnZXMgb2YgbW9kYWxcbiAgICAgICAgICovXG4gICAgICAgIGluaXRNb2RhbDogZnVuY3Rpb24odGl0bGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNlbGYubW9kYWwgPSAkbW9kYWwoe1xuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ3NldFRyYW5zbGF0aW9uQXNBY3RpdmVNb2RhbC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdjZW50ZXInXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2hvd3MgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZCBpZCBvZiBzZWxlY3RlZCB0cmFuc2xhdGlvblxuICAgICAgICAgKiBAcGFyYW0gY29udGVudElkIGN1cnJlbnQgYWN0aXZlIGNvbnRlbnQgaWRcbiAgICAgICAgICovXG4gICAgICAgIHNob3dNb2RhbDogZnVuY3Rpb24odHJhbnNsYXRpb25JZCwgY29udGVudElkKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2bS5jb250ZW50SWQgPSBjb250ZW50SWQ7XG4gICAgICAgICAgICB2bS50cmFuc2xhdGlvbnMgPSAkc2NvcGUudGFibGVQYXJhbXMuZGF0YS5zbGljZSgwKTtcbiAgICAgICAgICAgIHZtLnRyYW5zbGF0aW9uSWQgPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgICAgdm0uc2VsZWN0ZWRUcmFuc2xhdGlvbiA9IHNlbGYuZ2V0VHJhbnNsYXRpb25CeUlkKHZtLnRyYW5zbGF0aW9ucywgdm0udHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgICBzZWxmLmluaXRNb2RhbCgnUExFQVNFX0NPTkZJUk0nLCAnU0VUX1RSQU5TTEFUSU9OX0FTX0FDVElWRV9RVUVTVElPTicpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbC5oaWRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHBlcmZvcm1zIHRoZSBSZXN0QW5ndWxhciBhY3Rpb24gYW5kIHNldCBzZWxlY3RlZCB0cmFuc2xhdGlvblxuICAgICAgICAgKiBhcyBhIG5ldyBhY3RpdmUgdHJhbnNsYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHNldEFzQWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIENvbnRlbnRSZXBvc2l0b3J5Lm5ld0NvbnRlbnRUcmFuc2xhdGlvbih2bS5jb250ZW50SWQsIHZtLnNlbGVjdGVkVHJhbnNsYXRpb24pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuTm90aWZpY2F0aW9ucy5hZGRTdWNjZXNzKCdUSEVfQ0hBTkdFU19IQVZFX0JFRU5fU0FWRUQnKTtcbiAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5TZXRUcmFuc2xhdGlvbkFzQWN0aXZlQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnVXRpbHMnLCAnJG1vZGFsJywgJ0NvbnRlbnRSZXBvc2l0b3J5J107XG5tb2R1bGUuZXhwb3J0cyA9IFNldFRyYW5zbGF0aW9uQXNBY3RpdmVDdHJsO1xuIiwiLyoqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgR1pFUk8gQ01TIHBhY2thZ2UuXG4gKlxuICogRm9yIHRoZSBmdWxsIGNvcHlyaWdodCBhbmQgbGljZW5zZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpZXcgdGhlIExJQ0VOU0VcbiAqIGZpbGUgdGhhdCB3YXMgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHNvdXJjZSBjb2RlLlxuICpcbiAqIENsYXNzIERlbGV0ZVRyYW5zbGF0aW9uQ3RybFxuICpcbiAqIEBwYWNrYWdlICAgIEFkbWluXG4gKiBAYXV0aG9yICAgICBNYXRldXN6IFVyYmFub3dpY3ogPHVyYmFub3dpY3ptYXRldXN6ODlAZ21haWwuY29tPlxuICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDE1LCBNYXRldXN6IFVyYmFub3dpY3pcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIERlbGV0ZVRyYW5zbGF0aW9uQ3RybCgkc2NvcGUsIFV0aWxzLCAkbW9kYWwsIENvbnRlbnRSZXBvc2l0b3J5KSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgdmlld1BhdGggPSAnZ3plcm8vYWRtaW4vdmlld3MvY29udGVudC9kaXJlY3RpdmVzLyc7XG4gICAgLy8gRGVsZXRlIG1vZGFsXG4gICAgdm0uZGVsZXRlTW9kYWwgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBpbml0aWF0ZXMgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgdHJhbnNsYXRhYmxlIHRpdGxlIG9mIG1vZGFsXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIHRyYW5zbGF0YWJsZSBtZXNzYWdlcyBvZiBtb2RhbFxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdE1vZGFsOiBmdW5jdGlvbih0aXRsZSwgbWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbCA9ICRtb2RhbCh7XG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAndHJhbnNsYXRpb25EZWxldGVNb2RhbC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdjZW50ZXInXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2hvd3MgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gY29udGVudElkIGNvbnRlbnQgaWRcbiAgICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWQgdHJhbnNsYXRpb24gaWRcbiAgICAgICAgICovXG4gICAgICAgIHNob3dNb2RhbDogZnVuY3Rpb24oY29udGVudElkLCB0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2bS5jb250ZW50SWQgPSBjb250ZW50SWQ7XG4gICAgICAgICAgICB2bS50cmFuc2xhdGlvbklkID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIHNlbGYuaW5pdE1vZGFsKCdQTEVBU0VfQ09ORklSTScsICdERUxFVEVfVFJBTlNMQVRJT05fUVVFU1RJT04nKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gY2xvc2UgdGhlIG1vZGFsXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNlbGYubW9kYWwuaGlkZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBwZXJmb3JtcyB0aGUgUmVzdEFuZ3VsYXIgREVMRVRFIGFjdGlvbiBmb3IgdHJhbnNsYXRpb24gaWQgaW4gc2NvcGVcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICBDb250ZW50UmVwb3NpdG9yeS5kZWxldGVUcmFuc2xhdGlvbih2bS5jb250ZW50SWQsIHZtLnRyYW5zbGF0aW9uSWQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuTm90aWZpY2F0aW9ucy5hZGRTdWNjZXNzKCdDT05URU5UX0hBU19CRUVOX0RFTEVURUQnKTtcbiAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5EZWxldGVUcmFuc2xhdGlvbkN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ1V0aWxzJywgJyRtb2RhbCcsICdDb250ZW50UmVwb3NpdG9yeSddO1xubW9kdWxlLmV4cG9ydHMgPSBEZWxldGVUcmFuc2xhdGlvbkN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnRBY3Rpb25zRHJvcGRvd24oJGRyb3Bkb3duKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHtjb250ZW50QWN0aW9uc0Ryb3Bkb3duOiAnPScsIHJlY29yZDogJz0nLCBsYW5nOiAnPSd9LFxuICAgICAgICBjb250cm9sbGVyOiAnQ29udGVudERlbGV0ZUN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgQ29udGVudERlbGV0ZUN0cmwpIHtcbiAgICAgICAgICAgIHZhciBkcm9wZG93biA9ICRkcm9wZG93bihlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdnemVyby9hZG1pbi92aWV3cy9jb250ZW50L2RpcmVjdGl2ZXMvY29udGVudEFjdGlvbnNEcm9wZG93bi50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnYW0tZmxpcC14JyxcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20tcmlnaHQnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGJldHRlciBwYXJhbXMgcmVwbGFjZW1lbnQgYW5kIGZ1bmN0aW9ucyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgIF8ubWFwVmFsdWVzKHNjb3BlLmNvbnRlbnRBY3Rpb25zRHJvcGRvd24sIGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuLmhyZWYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuLmhyZWYuaW5kZXhPZigncmVjb3JkX2lkJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5ocmVmID0gbi5ocmVmLnJlcGxhY2UoJ3JlY29yZF9pZCcsIHNjb3BlLnJlY29yZC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMYW5nIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuLmhyZWYuaW5kZXhPZignbGFuZ19jb2RlJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5ocmVmID0gbi5ocmVmLnJlcGxhY2UoJ2xhbmdfY29kZScsICdcIicgKyBzY29wZS5sYW5nLmNvZGUgKyAnXCInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLiRzY29wZS5jb250ZW50ID0gc2NvcGUuY29udGVudEFjdGlvbnNEcm9wZG93bjtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi4kc2NvcGUucmVjb3JkID0gc2NvcGUucmVjb3JkOyAvLyBQYXNzIHJlY29yZCB0byB0aGUgdmlld1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duLiRzY29wZS5sYW5nID0gc2NvcGUubGFuZzsgLy8gUGFzcyBsYW5nIHRvIHRoZSB2aWV3XG4gICAgICAgICAgICAgICAgZHJvcGRvd24uJHNjb3BlLmRlbGV0ZU1vZGFsID0gQ29udGVudERlbGV0ZUN0cmwuZGVsZXRlTW9kYWw7IC8vIFBhc3MgZGVsZXRlIGFjdGlvbiB0byB0aGUgdmlld1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5Db250ZW50QWN0aW9uc0Ryb3Bkb3duLiRpbmplY3QgPSBbXTtcbm1vZHVsZS5leHBvcnRzID0gQ29udGVudEFjdGlvbnNEcm9wZG93bjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gQ29udGVudERlbGV0ZUJ1dHRvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzY29wZTogdHJ1ZSxcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0NvbnRlbnREZWxldGVDdHJsJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLC8vIGJlY2F1c2UgdGhlIHNjb3BlIGlzIGlzb2xhdGVkXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgQ29udGVudERlbGV0ZUN0cmwpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhIGRlbGV0ZSBtb2RhbCBmcm9tIGEgY29udHJvbGxlclxuICAgICAgICAgICAgICAgIENvbnRlbnREZWxldGVDdHJsLmRlbGV0ZU1vZGFsLnNob3dNb2RhbChhdHRycy5pZCwgYXR0cnMudHlwZSwgYXR0cnMuZm9yY2UgPT09ICd0cnVlJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbkNvbnRlbnREZWxldGVCdXR0b24uJGluamVjdCA9IFtdO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50RGVsZXRlQnV0dG9uO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBDb250ZW50RWRpdFJvdXRlQnV0dG9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBjb250cm9sbGVyOiAnQ29udGVudFJvdXRlQ3RybCcsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSwvLyBiZWNhdXNlIHRoZSBzY29wZSBpcyBpc29sYXRlZFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIENvbnRlbnRSb3V0ZUN0cmwpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhIGRlbGV0ZSBtb2RhbCBmcm9tIGEgY29udHJvbGxlclxuICAgICAgICAgICAgICAgIENvbnRlbnRSb3V0ZUN0cmwuZWRpdFJvdXRlTW9kYWwuc2hvd01vZGFsKGF0dHJzLmlkLCBhdHRycy5yb3V0ZSwgYXR0cnMubGFuZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbkNvbnRlbnRFZGl0Um91dGVCdXR0b24uJGluamVjdCA9IFtdO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50RWRpdFJvdXRlQnV0dG9uO1xuIiwiLyoqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgR1pFUk8gQ01TIHBhY2thZ2UuXG4gKlxuICogRm9yIHRoZSBmdWxsIGNvcHlyaWdodCBhbmQgbGljZW5zZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpZXcgdGhlIExJQ0VOU0VcbiAqIGZpbGUgdGhhdCB3YXMgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHNvdXJjZSBjb2RlLlxuICpcbiAqIENsYXNzIENvbnRlbnRQdWJsaXNoZWRBdEVkaXRCdXR0b25cbiAqXG4gKiBAcGFja2FnZSAgICBBZG1pblxuICogQGF1dGhvciAgICAgTWF0ZXVzeiBVcmJhbm93aWN6IDx1cmJhbm93aWN6bWF0ZXVzejg5QGdtYWlsLmNvbT5cbiAqIEBjb3B5cmlnaHQgIENvcHlyaWdodCAoYykgMjAxNSwgTWF0ZXVzeiBVcmJhbm93aWN6XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBDb250ZW50UHVibGlzaGVkQXRFZGl0QnV0dG9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBjb250cm9sbGVyOiAnQ29udGVudFB1Ymxpc2hlZEF0RWRpdEN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgQ29udGVudFB1Ymxpc2hlZEF0RWRpdEN0cmwpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgQ29udGVudFB1Ymxpc2hlZEF0RWRpdEN0cmwuZWRpdE1vZGFsLnNob3dNb2RhbChcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMuY29udGVudElkLFxuICAgICAgICAgICAgICAgICAgICBhdHRycy5jb250ZW50UHVibGlzaGVkQXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5Db250ZW50UHVibGlzaGVkQXRFZGl0QnV0dG9uLiRpbmplY3QgPSBbXTtcbm1vZHVsZS5leHBvcnRzID0gQ29udGVudFB1Ymxpc2hlZEF0RWRpdEJ1dHRvbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gQ29udGVudFJlc3RvcmVCdXR0b24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb250ZW50UmVzdG9yZUN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsLy8gYmVjYXVzZSB0aGUgc2NvcGUgaXMgaXNvbGF0ZWRcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBDb250ZW50UmVzdG9yZUN0cmwpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhIGRlbGV0ZSBtb2RhbCBmcm9tIGEgY29udHJvbGxlclxuICAgICAgICAgICAgICAgIENvbnRlbnRSZXN0b3JlQ3RybC5yZXN0b3JlTW9kYWwuc2hvd01vZGFsKGF0dHJzLmlkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuQ29udGVudFJlc3RvcmVCdXR0b24uJGluamVjdCA9IFtdO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50UmVzdG9yZUJ1dHRvbjtcbiIsIi8qKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIEdaRVJPIENNUyBwYWNrYWdlLlxuICpcbiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFXG4gKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS5cbiAqXG4gKiBDbGFzcyBDb250ZW50VG9nZ2xlUHJvcGVydHlCdXR0b25cbiAqXG4gKiBAcGFja2FnZSAgICBBZG1pblxuICogQGF1dGhvciAgICAgTWF0ZXVzeiBVcmJhbm93aWN6IDx1cmJhbm93aWN6bWF0ZXVzejg5QGdtYWlsLmNvbT5cbiAqIEBjb3B5cmlnaHQgIENvcHlyaWdodCAoYykgMjAxNSwgTWF0ZXVzeiBVcmJhbm93aWN6XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBDb250ZW50VG9nZ2xlUHJvcGVydHlCdXR0b24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb250ZW50VG9nZ2xlUHJvcGVydHlDdHJsJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIENvbnRlbnRUb2dnbGVQcm9wZXJ0eUN0cmwpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgQ29udGVudFRvZ2dsZVByb3BlcnR5Q3RybC50b2dnbGVQcm9wZXJ0eS50b2dnbGVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMuY29udGVudElkLFxuICAgICAgICAgICAgICAgICAgICBhdHRycy5wcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyhhdHRycy52YWx1ZSkgIT09ICdmYWxzZSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5Db250ZW50VG9nZ2xlUHJvcGVydHlCdXR0b24uJGluamVjdCA9IFtdO1xubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50VG9nZ2xlUHJvcGVydHlCdXR0b247XG4iLCIvKipcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBHWkVSTyBDTVMgcGFja2FnZS5cbiAqXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRVxuICogZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKlxuICogQ2xhc3MgQ29udGVudFdlaWdodEVkaXRCdXR0b25cbiAqXG4gKiBAcGFja2FnZSAgICBBZG1pblxuICogQGF1dGhvciAgICAgTWF0ZXVzeiBVcmJhbm93aWN6IDx1cmJhbm93aWN6bWF0ZXVzejg5QGdtYWlsLmNvbT5cbiAqIEBjb3B5cmlnaHQgIENvcHlyaWdodCAoYykgMjAxNSwgTWF0ZXVzeiBVcmJhbm93aWN6XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBDb250ZW50V2VpZ2h0RWRpdEJ1dHRvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzY29wZTogdHJ1ZSxcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0NvbnRlbnRXZWlnaHRFZGl0Q3RybCcsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBDb250ZW50V2VpZ2h0RWRpdEN0cmwpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgQ29udGVudFdlaWdodEVkaXRDdHJsLmVkaXRNb2RhbC5zaG93TW9kYWwoXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzLmNvbnRlbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoYXR0cnMuY29udGVudFdlaWdodClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5Db250ZW50V2VpZ2h0RWRpdEJ1dHRvbi4kaW5qZWN0ID0gW107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRXZWlnaHRFZGl0QnV0dG9uO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBTZXRUcmFuc2xhdGlvbkFzQWN0aXZlQnV0dG9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBjb250cm9sbGVyOiAnU2V0VHJhbnNsYXRpb25Bc0FjdGl2ZUN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgU2V0VHJhbnNsYXRpb25Bc0FjdGl2ZUN0cmwpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgU2V0VHJhbnNsYXRpb25Bc0FjdGl2ZUN0cmwuc2V0QXNBY3RpdmVNb2RhbC5zaG93TW9kYWwoYXR0cnMuaWQsIGF0dHJzLmNvbnRlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5TZXRUcmFuc2xhdGlvbkFzQWN0aXZlQnV0dG9uLiRpbmplY3QgPSBbXTtcbm1vZHVsZS5leHBvcnRzID0gU2V0VHJhbnNsYXRpb25Bc0FjdGl2ZUJ1dHRvbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gVHJhbnNsYXRpb25EZWxldGVCdXR0b24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUcmFuc2xhdGlvbkRlbGV0ZUN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgVHJhbnNsYXRpb25EZWxldGVDdHJsKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uRGVsZXRlQ3RybC5kZWxldGVNb2RhbC5zaG93TW9kYWwoYXR0cnMuY29udGVudCwgYXR0cnMudHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cblRyYW5zbGF0aW9uRGVsZXRlQnV0dG9uLiRpbmplY3QgPSBbXTtcbm1vZHVsZS5leHBvcnRzID0gVHJhbnNsYXRpb25EZWxldGVCdXR0b247XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdhZG1pbi5jb250ZW50JywgWyduZ1RhYmxlJywgJ3VpLnRyZWUnXSlcbiAgICAuY29uZmlnKFtcbiAgICAgICAgJyRzdGF0ZVByb3ZpZGVyJyxcbiAgICAgICAgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHZhciB2aWV3UGF0aCA9ICdnemVyby9hZG1pbi92aWV3cy9jb250ZW50Lyc7XG4gICAgICAgICAgICAvLyBOb3cgc2V0IHVwIHRoZSBzdGF0ZXNcbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdjb250ZW50Jywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvY29udGVudCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb250ZW50RGFzaGJvYXJkQ3RybCcsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdpbmRleC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50UmVwb3NpdG9yeScsIGZ1bmN0aW9uKENvbnRlbnRSZXBvc2l0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCB0cmVlIG9mIGFsbCBjYXRlZ29yaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb250ZW50UmVwb3NpdG9yeS50cmVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBDT05URU5UIExJU1RcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ2NvbnRlbnQubGlzdCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2xpc3Qve2NvbnRlbnRJZH0/aXNBY3RpdmUmcGFnZSZwZXJQYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFBhcmVudDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICckc3RhdGVQYXJhbXMnLCAnVXRpbHMnLCAnQ29udGVudFJlcG9zaXRvcnknLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFV0aWxzLCBDb250ZW50UmVwb3NpdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBzdGF0ZSBwYXJhbSBoYXMgY2F0ZWdvcnkgaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5jb250ZW50SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLlN0b3JhZ2Uuc2V0U3RvcmFnZUl0ZW0oe2NvbnRlbnRMaXN0UGFyZW50OiAkc3RhdGVQYXJhbXMuY29udGVudElkfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29udGVudFJlcG9zaXRvcnkub25lKCRzdGF0ZVBhcmFtcy5jb250ZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgc3RvcmFnZSBoYXMgY2F0ZWdvcnkgaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChVdGlscy5TdG9yYWdlLmdldFN0b3JhZ2VJdGVtKCdjb250ZW50TGlzdFBhcmVudCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlUGFyYW1zLmNvbnRlbnRJZCA9IFV0aWxzLlN0b3JhZ2UuZ2V0U3RvcmFnZUl0ZW0oJ2NvbnRlbnRMaXN0UGFyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnRlbnRSZXBvc2l0b3J5Lm9uZShVdGlscy5TdG9yYWdlLmdldFN0b3JhZ2VJdGVtKCdjb250ZW50TGlzdFBhcmVudCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuQ2F0ZWdvcmllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCBvcGVuIGNhdGVnb3JpZXMgZnJvbSBTdG9yYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1V0aWxzJywgZnVuY3Rpb24oVXRpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFV0aWxzLlN0b3JhZ2UuZ2V0U3RvcmFnZUl0ZW0oJ29wZW5DYXRlZ29yaWVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2xpc3QuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbnRlbnRMaXN0Q3RybCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAncXVpY2tTaWRlYmFyTGVmdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnY2F0ZWdvcmllcy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29udGVudENhdGVnb3J5VHJlZUN0cmwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC8vIENPTlRFTlQgU0hPV1xuICAgICAgICAgICAgICAgIC5zdGF0ZSgnY29udGVudC5zaG93Jywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcve2NvbnRlbnRJZH0vc2hvdy97bGFuZ0NvZGV9JyxcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZGlyZWN0IHRvIGFjdGl2ZSB0YWIgb24gbGFuZ3VhZ2UgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICAnJHN0YXRlJywgZnVuY3Rpb24oJHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uc3RhcnRzV2l0aCgkc3RhdGUuY3VycmVudC5uYW1lLCAnY29udGVudC5zaG93JykgPyAkc3RhdGUuY3VycmVudC5uYW1lIDogJy5kZXRhaWxzJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ0NvZGU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc3RhdGVQYXJhbXMubGFuZ0NvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHN0YXRlUGFyYW1zJywgJ0NvbnRlbnRSZXBvc2l0b3J5JywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBDb250ZW50UmVwb3NpdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29udGVudFJlcG9zaXRvcnkub25lKCRzdGF0ZVBhcmFtcy5jb250ZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdzaG93Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb250ZW50RGV0YWlsc0N0cmwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xhbmdTd2l0Y2hlckBjb250ZW50LnNob3cnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2RldGFpbHMvbGFuZ1N3aXRjaGVyLmh0bWwnXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudFNldHRpbmdzQGNvbnRlbnQuc2hvdyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnZGV0YWlscy9zZXR0aW5ncy5odG1sJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnY29udGVudC5zaG93LmRldGFpbHMnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9kZXRhaWxzJyxcbiAgICAgICAgICAgICAgICAgICAgZGVlcFN0YXRlUmVkaXJlY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHN0aWNreTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50VGFiJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdkZXRhaWxzL3RhYnMvZGV0YWlscy5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ2NvbnRlbnQuc2hvdy5oaXN0b3J5Jywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvaGlzdG9yeT9pc0FjdGl2ZSZ0eXBlJnBhZ2UmcGVyUGFnZScsXG4gICAgICAgICAgICAgICAgICAgIGRlZXBTdGF0ZVJlZGlyZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzdGlja3k6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudFRhYic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnZGV0YWlscy90YWJzL2hpc3RvcnkuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbnRlbnRIaXN0b3J5Q3RybCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gQ09OVEVOVCBFRElUXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdjb250ZW50LmVkaXQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy97Y29udGVudElkfS9lZGl0L3tsYW5nQ29kZX0nLFxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogJy5pbmRleCcsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmdDb2RlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRzdGF0ZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRlUGFyYW1zLmxhbmdDb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRzdGF0ZVBhcmFtcycsICdDb250ZW50UmVwb3NpdG9yeScsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgQ29udGVudFJlcG9zaXRvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnRlbnRSZXBvc2l0b3J5Lm9uZSgkc3RhdGVQYXJhbXMuY29udGVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dNYXNrOiB0cnVlIC8vIGVudGVyIGVkaXQgbW9kZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ3Nob3cuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbnRlbnREZXRhaWxzQ3RybCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGFuZ1N3aXRjaGVyQGNvbnRlbnQuZWRpdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnZGV0YWlscy9sYW5nU3dpdGNoZXIuaHRtbCdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50U2V0dGluZ3NAY29udGVudC5lZGl0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdkZXRhaWxzL3NldHRpbmdzLmh0bWwnXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdjb250ZW50LmVkaXQuaW5kZXgnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJycsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudFRhYic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnZGV0YWlscy90YWJzL2RldGFpbHMuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudFNldHRpbmdzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdkZXRhaWxzL3NldHRpbmdzRWRpdC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ2NvbnRlbnQuZWRpdC5kZXRhaWxzJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvZGV0YWlscycsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudFRhYic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29udGVudERldGFpbHNFZGl0Q3RybCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2RldGFpbHMvdGFicy9kZXRhaWxzRWRpdC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ2NvbnRlbnQuZWRpdC5oaXN0b3J5Jywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvaGlzdG9yeScsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudFRhYic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnZGV0YWlscy90YWJzL2RldGFpbHNFZGl0Lmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC8vIENPTlRFTlQgVFJBU0hDQU5cbiAgICAgICAgICAgICAgICAuc3RhdGUoJ2NvbnRlbnQudHJhc2hjYW4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy90cmFzaGNhbj9pc0FjdGl2ZSZ0eXBlJnBhZ2UmcGVyUGFnZScsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RQYXJlbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkNhdGVnb3JpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgb3BlbiBjYXRlZ29yaWVzIGZyb20gU3RvcmFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTdG9yYWdlJywgZnVuY3Rpb24oU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RvcmFnZS5nZXRTdG9yYWdlSXRlbSgnb3BlbkNhdGVnb3JpZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAndHJhc2hjYW4uaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbnRlbnRUcmFzaGNhbkN0cmwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3F1aWNrU2lkZWJhckxlZnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2NhdGVnb3JpZXMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbnRlbnRDYXRlZ29yeVRyZWVDdHJsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBDT05URU5UIEFERFxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnY29udGVudC5hZGQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hZGQve3R5cGV9JyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFBhcmVudDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVdGlscycsICdDb250ZW50UmVwb3NpdG9yeScsIGZ1bmN0aW9uKFV0aWxzLCBDb250ZW50UmVwb3NpdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBzdG9yYWdlIGhhcyBjYXRlZ29yeSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbHMuU3RvcmFnZS5nZXRTdG9yYWdlSXRlbSgnY29udGVudExpc3RQYXJlbnQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnRlbnRSZXBvc2l0b3J5Lm9uZShVdGlscy5TdG9yYWdlLmdldFN0b3JhZ2VJdGVtKCdjb250ZW50TGlzdFBhcmVudCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdhZGQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbnRlbnRBZGRDdHJsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBDT05URU5UIEFERCBUUkFOU0xBVElPTlxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnY29udGVudC5hZGRUcmFuc2xhdGlvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3tjb250ZW50SWR9L2FkZC10cmFuc2xhdGlvbi97bGFuZ0NvZGV9JyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICckc3RhdGVQYXJhbXMnLCAnQ29udGVudFJlcG9zaXRvcnknLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIENvbnRlbnRSZXBvc2l0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb250ZW50UmVwb3NpdG9yeS5vbmUoJHN0YXRlUGFyYW1zLmNvbnRlbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ2FkZFRyYW5zbGF0aW9uLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb250ZW50QWRkVHJhbnNsYXRpb25DdHJsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICBdKVxuICAgIC5jb250cm9sbGVyKCdDb250ZW50QWRkQ3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvQ29udGVudEFkZEN0cmwnKSlcbiAgICAuY29udHJvbGxlcignQ29udGVudERlbGV0ZUN0cmwnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2RpcmVjdGl2ZXMvQ29udGVudERlbGV0ZUN0cmwnKSlcbiAgICAuY29udHJvbGxlcignQ29udGVudFJlc3RvcmVDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9kaXJlY3RpdmVzL0NvbnRlbnRSZXN0b3JlQ3RybCcpKVxuICAgIC5jb250cm9sbGVyKCdDb250ZW50Q2F0ZWdvcnlUcmVlQ3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvQ29udGVudENhdGVnb3J5VHJlZUN0cmwnKSlcbiAgICAuY29udHJvbGxlcignQ29udGVudERhc2hib2FyZEN0cmwnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL0NvbnRlbnREYXNoYm9hcmRDdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ0NvbnRlbnREZXRhaWxzQ3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvQ29udGVudERldGFpbHNDdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ0NvbnRlbnREZXRhaWxzRWRpdEN0cmwnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL0NvbnRlbnREZXRhaWxzRWRpdEN0cmwnKSlcbiAgICAuY29udHJvbGxlcignQ29udGVudEhpc3RvcnlDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9Db250ZW50SGlzdG9yeUN0cmwnKSlcbiAgICAuY29udHJvbGxlcignQ29udGVudExpc3RDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9Db250ZW50TGlzdEN0cmwnKSlcbiAgICAuY29udHJvbGxlcignQ29udGVudFRyYXNoY2FuQ3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvQ29udGVudFRyYXNoY2FuQ3RybCcpKVxuICAgIC5jb250cm9sbGVyKCdDb250ZW50QWRkVHJhbnNsYXRpb25DdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9Db250ZW50QWRkVHJhbnNsYXRpb25DdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ0NvbnRlbnRSb3V0ZUN0cmwnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2RpcmVjdGl2ZXMvQ29udGVudFJvdXRlQ3RybCcpKVxuICAgIC5jb250cm9sbGVyKCdTZXRUcmFuc2xhdGlvbkFzQWN0aXZlQ3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvZGlyZWN0aXZlcy9TZXRUcmFuc2xhdGlvbkFzQWN0aXZlQ3RybCcpKVxuICAgIC5jb250cm9sbGVyKCdUcmFuc2xhdGlvbkRlbGV0ZUN0cmwnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2RpcmVjdGl2ZXMvVHJhbnNsYXRpb25EZWxldGVDdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ0NvbnRlbnRUb2dnbGVQcm9wZXJ0eUN0cmwnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2RpcmVjdGl2ZXMvQ29udGVudFRvZ2dsZVByb3BlcnR5Q3RybCcpKVxuICAgIC5jb250cm9sbGVyKCdDb250ZW50V2VpZ2h0RWRpdEN0cmwnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2RpcmVjdGl2ZXMvQ29udGVudFdlaWdodEVkaXRDdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ0NvbnRlbnRQdWJsaXNoZWRBdEVkaXRDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9kaXJlY3RpdmVzL0NvbnRlbnRQdWJsaXNoZWRBdEVkaXRDdHJsJykpXG4gICAgLmZhY3RvcnkoJ0NvbnRlbnRSZXBvc2l0b3J5JywgcmVxdWlyZSgnLi9zZXJ2aWNlcy9Db250ZW50UmVwb3NpdG9yeS5qcycpKVxuICAgIC5kaXJlY3RpdmUoJ2NvbnRlbnREZWxldGVCdXR0b24nLCByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvQ29udGVudERlbGV0ZUJ1dHRvbi5qcycpKVxuICAgIC5kaXJlY3RpdmUoJ2NvbnRlbnRSZXN0b3JlQnV0dG9uJywgcmVxdWlyZSgnLi9kaXJlY3RpdmVzL0NvbnRlbnRSZXN0b3JlQnV0dG9uLmpzJykpXG4gICAgLmRpcmVjdGl2ZSgnY29udGVudEVkaXRSb3V0ZUJ1dHRvbicsIHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9Db250ZW50RWRpdFJvdXRlQnV0dG9uLmpzJykpXG4gICAgLmRpcmVjdGl2ZSgnc2V0VHJhbnNsYXRpb25Bc0FjdGl2ZUJ1dHRvbicsIHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9TZXRUcmFuc2xhdGlvbkFzQWN0aXZlQnV0dG9uLmpzJykpXG4gICAgLmRpcmVjdGl2ZSgndHJhbnNsYXRpb25EZWxldGVCdXR0b24nLCByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvVHJhbnNsYXRpb25EZWxldGVCdXR0b24uanMnKSlcbiAgICAuZGlyZWN0aXZlKCdjb250ZW50VG9nZ2xlUHJvcGVydHlCdXR0b24nLCByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvQ29udGVudFRvZ2dsZVByb3BlcnR5QnV0dG9uLmpzJykpXG4gICAgLmRpcmVjdGl2ZSgnY29udGVudFB1Ymxpc2hlZEF0RWRpdEJ1dHRvbicsIHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9Db250ZW50UHVibGlzaGVkQXRFZGl0QnV0dG9uLmpzJykpXG4gICAgLmRpcmVjdGl2ZSgnY29udGVudEFjdGlvbnNEcm9wZG93bicsIFsnJGRyb3Bkb3duJywgcmVxdWlyZSgnLi9kaXJlY3RpdmVzL0NvbnRlbnRBY3Rpb25zRHJvcGRvd24uanMnKV0pXG4gICAgLmRpcmVjdGl2ZSgnY29udGVudFdlaWdodEVkaXRCdXR0b24nLCBbJyRkcm9wZG93bicsIHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9Db250ZW50V2VpZ2h0RWRpdEJ1dHRvbi5qcycpXSlcbiAgICAucnVuKFtcbiAgICAgICAgJ05hdkJhcicsXG4gICAgICAgIGZ1bmN0aW9uKE5hdkJhcikge1xuICAgICAgICAgICAgTmF2QmFyLmFkZChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ09OVEVOVCcsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2NvbnRlbnQubGlzdCcsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1maWxlLXRleHQtbydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy9OYXZCYXIuYWRkTGFzdENoaWxkKFxuICAgICAgICAgICAgLy8gICAgJ0NPTlRFTlQnLFxuICAgICAgICAgICAgLy8gICAge1xuICAgICAgICAgICAgLy8gICAgICAgIHRpdGxlOiAnQUxMX0NPTlRFTlRTJyxcbiAgICAgICAgICAgIC8vICAgICAgICBhY3Rpb246ICdjb250ZW50Lmxpc3QnLFxuICAgICAgICAgICAgLy8gICAgICAgIGljb246ICdmYSBmYS10aCdcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vKTtcbiAgICAgICAgICAgIC8vTmF2QmFyLmFkZExhc3RDaGlsZChcbiAgICAgICAgICAgIC8vICAgICdDT05URU5UJyxcbiAgICAgICAgICAgIC8vICAgIHtcbiAgICAgICAgICAgIC8vICAgICAgICB0aXRsZTogJ0FERF9DT05URU5UJyxcbiAgICAgICAgICAgIC8vICAgICAgICBhY3Rpb246ICdjb250ZW50LmFkZCh7IHR5cGU6IFwiY29udGVudFwiIH0pJyxcbiAgICAgICAgICAgIC8vICAgICAgICBpY29uOiAnZmEgZmEtZmlsZS10ZXh0LW8nXG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvLyk7XG4gICAgICAgICAgICAvL05hdkJhci5hZGRMYXN0Q2hpbGQoXG4gICAgICAgICAgICAvLyAgICAnQ09OVEVOVCcsXG4gICAgICAgICAgICAvLyAgICB7XG4gICAgICAgICAgICAvLyAgICAgICAgdGl0bGU6ICdBRERfQ0FURUdPUlknLFxuICAgICAgICAgICAgLy8gICAgICAgIGFjdGlvbjogJ2NvbnRlbnQuYWRkKHsgdHlwZTogXCJjYXRlZ29yeVwiIH0pJyxcbiAgICAgICAgICAgIC8vICAgICAgICBpY29uOiAnZmEgZmEtZmlsZS10ZXh0J1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy8pO1xuICAgICAgICB9XG4gICAgXSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENvbnRlbnRSZXBvc2l0b3J5KFJlc3Rhbmd1bGFyKSB7XG4gICAgdmFyIGFwaSA9ICdhZG1pbi9jb250ZW50cyc7XG4gICAgdmFyIGNvbnRlbnRzID0gUmVzdGFuZ3VsYXIuYWxsKGFwaSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb25lOiBmdW5jdGlvbihpZCwgcGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdGFuZ3VsYXIub25lKGFwaSwgaWQpLmdldChwYXJhbXMpO1xuICAgICAgICB9LFxuICAgICAgICB0cmVlOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5vbmUoYXBpKS5nZXRMaXN0KCd0cmVlJywgcGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdDogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudHMuZ2V0TGlzdChwYXJhbXMpO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVkOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5vbmUoYXBpKS5nZXRMaXN0KCdkZWxldGVkJywgcGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGZ1bmN0aW9uKGlkLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5vbmUoYXBpLCBpZCkuZ2V0TGlzdCgnY2hpbGRyZW4nLCBwYXJhbXMpO1xuICAgICAgICB9LFxuICAgICAgICBuZXdDb250ZW50OiBmdW5jdGlvbihuZXdDb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudHMucG9zdChuZXdDb250ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlQ29udGVudDogZnVuY3Rpb24oaWQsIGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5vbmUoYXBpLCBpZCkuY3VzdG9tUFVUKGNvbnRlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBuZXdDb250ZW50VHJhbnNsYXRpb246IGZ1bmN0aW9uKGlkLCBuZXdUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGksIGlkKS5hbGwoJ3RyYW5zbGF0aW9ucycpLnBvc3QobmV3VHJhbnNsYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBuZXdDb250ZW50Um91dGU6IGZ1bmN0aW9uKGlkLCBuZXdSb3V0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGksIGlkKS5hbGwoJ3JvdXRlJykucG9zdChuZXdSb3V0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zbGF0aW9uczogZnVuY3Rpb24oaWQsIHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGksIGlkKS5hbGwoJ3RyYW5zbGF0aW9ucycpLmdldExpc3QocGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlVHJhbnNsYXRpb246IGZ1bmN0aW9uKGNvbnRlbnRJZCwgdHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGksIGNvbnRlbnRJZCkub25lKCd0cmFuc2xhdGlvbnMnLCB0cmFuc2xhdGlvbklkKS5yZW1vdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlQ29udGVudDogZnVuY3Rpb24oaWQsIGZvcmNlRGVsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdGFuZ3VsYXIub25lKGFwaSwgaWQpLm9uZShmb3JjZURlbGV0ZSkucmVtb3ZlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3RvcmVDb250ZW50OiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGkgKyAnL3Jlc3RvcmUnLCBpZCkucHV0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFuOiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdGFuZ3VsYXIuc3RyaXBSZXN0YW5ndWxhcihlbGVtKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbkNvbnRlbnRSZXBvc2l0b3J5LiRpbmplY3QgPSBbJ1Jlc3Rhbmd1bGFyJ107XG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRSZXBvc2l0b3J5O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBDb3JlQ3RybCgkc2NvcGUsIFV0aWxzLCBUcmFuc2xhdGlvbnMsIE5hdkJhciwgVG9wTmF2QmFyKSB7XG4gICAgLy8gZ2V0IHRyYW5zbGF0aW9ucyBsYW5ndWFnZXNcbiAgICBUcmFuc2xhdGlvbnMuZ2V0VHJhbnNsYXRpb25zKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAkc2NvcGUubGFuZ3MgPSByZXNwb25zZS5sYW5ncztcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRMYW5nID0gJHNjb3BlLnRyYW5zTGFuZyA9IHJlc3BvbnNlLmN1cnJlbnRMYW5nO1xuICAgICAgICAvLyBzZXQgQ0tFZGl0b3IgbGFuZ3VhZ2VcbiAgICAgICAgVXRpbHMuY2tPcHRpb25zLnNldEVkaXRvck9wdGlvbih7bGFuZ3VhZ2U6ICRzY29wZS5jdXJyZW50TGFuZy5jb2RlfSk7XG4gICAgfSk7XG5cbiAgICAvLyBhZG1pbiBwYW5lbCBsYW5ndWFnZVxuICAgICRzY29wZS5zZWxlY3RBZG1pbkxhbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgVHJhbnNsYXRpb25zLnNlbGVjdEFkbWluTGFuZygkc2NvcGUuY3VycmVudExhbmcpO1xuICAgICAgICAvLyBzZXQgQ0tFZGl0b3IgbGFuZ3VhZ2VcbiAgICAgICAgVXRpbHMuY2tPcHRpb25zLnNldEVkaXRvck9wdGlvbih7bGFuZ3VhZ2U6ICRzY29wZS5jdXJyZW50TGFuZy5jb2RlfSk7XG4gICAgfTtcblxuICAgIC8vIHRyYW5zbGF0aW9ucyBsYW5ndWFnZVxuICAgICRzY29wZS5zZWxlY3RMYW5ndWFnZSA9IGZ1bmN0aW9uKGxhbmcpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zTGFuZyA9IGxhbmc7XG4gICAgfTtcblxuICAgIC8vIHJlZnJlc2ggY3VycmVudCBzdGF0ZVxuICAgICRzY29wZS5yZWZyZXNoQ3VycmVudFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFV0aWxzLiRzdGF0ZS5nbyhVdGlscy4kc3RhdGUuY3VycmVudCwge30sIHtyZWxvYWQ6IHRydWV9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLm5hdkJhciA9IE5hdkJhci5nZXRJdGVtcygpO1xuICAgICRzY29wZS50b3BOYXZCYXIgPSBUb3BOYXZCYXIuZ2V0SXRlbXMoKTtcbiAgICAvLyBpZiBjb250ZW50IHR5cGVzIGFyZSBzZXRcbiAgICBpZiAodHlwZW9mICBVdGlscy5Db25maWcuY29udGVudFR5cGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkc2NvcGUuY29udGVudFR5cGVzID0gVXRpbHMuQ29uZmlnLmNvbnRlbnRUeXBlcztcbiAgICB9XG4gICAgLy8gaWYgYmxvY2sgdHlwZXMgYXJlIHNldFxuICAgIGlmICh0eXBlb2YgIFV0aWxzLkNvbmZpZy5ibG9ja1R5cGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkc2NvcGUuYmxvY2tUeXBlcyA9IFV0aWxzLkNvbmZpZy5ibG9ja1R5cGVzO1xuICAgIH1cbiAgICAvLyBpZiBibG9jayByZWdpb25zIGFyZSBzZXRcbiAgICBpZiAodHlwZW9mICBVdGlscy5Db25maWcuYmxvY2tSZWdpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBhZGQgZGlzYWJsZWQgcmVnaW9uIGFuZCBwYXNzIHRvIHZpZXdcbiAgICAgICAgJHNjb3BlLmJsb2NrUmVnaW9ucyA9IF8udW5pb24oW251bGxdLCBVdGlscy5Db25maWcuYmxvY2tSZWdpb25zKTtcbiAgICB9XG4gICAgLy8gT2ZmIGNhbnZhcyBzaWRlYmFyXG4gICAgJHNjb3BlLnNob3dTaWRlYmFyID0gZmFsc2U7XG4gICAgLy8gY29udGVudCB0cmFuc2xhdGlvbnMgbGFuZ3VhZ2Ugc3dpdGNoZXJcbiAgICAkc2NvcGUuc2hvd1RyYW5zTGFuZ1N3aXRjaGVyID0gZmFsc2U7XG4gICAgLy8gYWRtaW4gbGFuZ3VhZ2Ugc3dpdGNoZXJcbiAgICAkc2NvcGUuc2hvd0FkbWluTGFuZ1N3aXRjaGVyID0gdHJ1ZTtcbiAgICAvLyBwYXNzIHN0YXRlIHRvIHZpZXdcbiAgICAkc2NvcGUuJHN0YXRlID0gVXRpbHMuJHN0YXRlO1xuXG4gICAgLy8gY2hlY2sgZm9yIGVkaXQgc3RhdGVcbiAgICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9TdGF0ZS5kYXRhICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKHRvU3RhdGUubmFtZSAhPT0gJ2NvbnRlbnQuZWRpdC5pbmRleCcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdFN0YXRlTmFtZSA9IHRvU3RhdGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5zaG93TWFzayA9IHRvU3RhdGUuZGF0YS5zaG93TWFzaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS5lZGl0U3RhdGVOYW1lID0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5zaG93TWFzayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBpZiB0aGVyZSBpcyBsYW5nQ29kZSBwYXJhbSB2YWxpZGF0ZSBpdFxuICAgICRzY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gc2V0IGNvbnRlbnQgdHJhbnNsYXRpb25zIGxhbmd1YWdlIHN3aXRjaGVyXG4gICAgICAgICRzY29wZS5zaG93VHJhbnNMYW5nU3dpdGNoZXIgPSBVdGlscy4kc3RhdGUuaW5jbHVkZXMoJ2NvbnRlbnQubGlzdCcpIHx8IFV0aWxzLiRzdGF0ZS5pbmNsdWRlcygnY29udGVudC50cmFzaGNhbicpIHx8IFV0aWxzLiRzdGF0ZS5pbmNsdWRlcygnYmxvY2tzLmxpc3QnKTtcbiAgICAgICAgLy8gZGlzYWJsZSBhZG1pbiBsYW5ndWFnZSBzd2l0Y2hlclxuICAgICAgICAkc2NvcGUuc2hvd0FkbWluTGFuZ1N3aXRjaGVyID0gVXRpbHMuJHN0YXRlLmluY2x1ZGVzKCdjb250ZW50LmFkZCcpIHx8IFV0aWxzLiRzdGF0ZS5pbmNsdWRlcygnY29udGVudC5lZGl0JykgfHwgVXRpbHMuJHN0YXRlLmluY2x1ZGVzKCdjb250ZW50LmFkZFRyYW5zbGF0aW9uJyk7XG4gICAgICAgIGlmIChVdGlscy4kc3RhdGVQYXJhbXMuaGFzT3duUHJvcGVydHkoJ2xhbmdDb2RlJykpIHtcbiAgICAgICAgICAgIFRyYW5zbGF0aW9ucy5jaGVja0lmTGFuZ3VhZ2VJc0F2YWlsYWJsZShVdGlscy4kc3RhdGVQYXJhbXMubGFuZ0NvZGUpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbkNvcmVDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdVdGlscycsICdUcmFuc2xhdGlvbnMnLCAnTmF2QmFyJywgJ1RvcE5hdkJhciddO1xubW9kdWxlLmV4cG9ydHMgPSBDb3JlQ3RybDtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gU3RhdGVzRHJvcGRvd24oJGRyb3Bkb3duKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHtzdGF0ZXNEcm9wZG93bjogJz0nfSxcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICB2YXIgZHJvcGRvd24gPSAkZHJvcGRvd24oZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZ3plcm8vYWRtaW4vdmlld3MvY29yZS9kaXJlY3RpdmVzL3N0YXRlc0Ryb3Bkb3duLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBhbmltYXRpb246ICdhbS1mbGlwLXgnLFxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ2JvdHRvbS1yaWdodCdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duLiRzY29wZS5jb250ZW50ID0gc2NvcGUuc3RhdGVzRHJvcGRvd247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cblN0YXRlc0Ryb3Bkb3duLiRpbmplY3QgPSBbXTtcbm1vZHVsZS5leHBvcnRzID0gU3RhdGVzRHJvcGRvd247XG4iLCJhbmd1bGFyLm1vZHVsZSgnQ29yZUZpbHRlcnMnLCBbXSlcbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgcmV0dXJucyB0cmFuc2xhdGFibGUgc3RyaW5nIGJhc2VkIG9uIHByb3ZpZGVkIGxhbmd1YWdlIGNvZGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsYW5nQ29kZSAgbGFuZ3VhZ2UgY29kZVxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRhYmxlIHN0cmluZ1xuICAgICAqL1xuICAgIC5maWx0ZXIoJ2xhbmdOYW1lJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGxhbmdDb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0xBTkdfTkFNRV8nICsgYW5ndWxhci51cHBlcmNhc2UobGFuZ0NvZGUpO1xuICAgICAgICB9O1xuICAgIH0pXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHJldHVybnMgdGhlIHRyYW5zbGF0aW9uIGluIHByb3ZpZGVkIGxhbmd1YWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25zIHRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3ZlclxuICAgICAqIEBwYXJhbSBsYW5nQ29kZSAgbGFuZ3VhZ2UgY29kZVxuICAgICAqIEBwYXJhbSBmaWVsZCAgZmllbGQgbmFtZVxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdHJhbnNsYXRpb24gZmllbGRcbiAgICAgKi9cbiAgICAuZmlsdGVyKCdnZXRUcmFuc2xhdGlvbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0cmFuc2xhdGlvbnMsIGxhbmdDb2RlLCBmaWVsZCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUcmFuc2xhdGlvbiA9IF8uZmlsdGVyKHRyYW5zbGF0aW9ucywgZnVuY3Rpb24odHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb24ubGFuZ0NvZGUgPT09IGxhbmdDb2RlO1xuICAgICAgICAgICAgfSkuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChfLmhhcyhjdXJyZW50VHJhbnNsYXRpb24sIGZpZWxkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50VHJhbnNsYXRpb25bZmllbGRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KVxuICAgIC8qKlxuICAgICAqIEZpbHRlciByZXR1cm5zIHRoZSBvcHRpb24gdmFsdWUgaW4gcHJvdmlkZWQgbGFuZ3VhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgdGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyXG4gICAgICogQHBhcmFtIGxhbmdDb2RlICBsYW5ndWFnZSBjb2RlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB2YWx1ZSBmaWVsZFxuICAgICAqL1xuICAgIC5maWx0ZXIoJ2dldE9wdGlvblZhbHVlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlcywgbGFuZ0NvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfLmZpbHRlcih2YWx1ZXMsIGZ1bmN0aW9uKHZhbHVlLCBjb2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvZGUgPT09IGxhbmdDb2RlO1xuICAgICAgICAgICAgfSkuc2hpZnQoKTtcbiAgICAgICAgfTtcbiAgICB9KVxuICAgIC8qKlxuICAgICAqIEZpbHRlciBjaGVja3MgaWYgc3BlY2lmaWVkIG5vZGUgZXhpc3RzIGluIHByb3ZpZGVkIHBhdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIHRoZSBub2RlIHBhdGggdG8gaXRlcmF0ZSBvdmVyXG4gICAgICogQHBhcmFtIGlkICBub2RlIGlkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbH0gdHJ1ZSBvciBmYWxzZVxuICAgICAqL1xuICAgIC5maWx0ZXIoJ25vZGVJblBhdGgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCwgaWQpIHtcbiAgICAgICAgICAgIC8vIGlmIHBhdGggZXhpc3RzIGFuZCBub3QgZW1wdHlcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguaW5kZXhPZihpZCkgPiAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZpbHRlciBsZXRzIHlvdSBtYXJrIEhUTUwgYXMg4oCcc2FmZeKAnSBmb3IgYW5ndWxhciB0byB1c2UgYW5kIHNob3cgb24gYSBwYWdlLlxuICAgICAqIE90aGVyd2lzZSwgYW5ndWxhciB3b3VsZCBqdXN0IHNob3cgdGhlIEhUTUwgYXMgcGxhaW4gdGV4dC5cbiAgICAgKi9cbiAgICAuZmlsdGVyKCd0cnVzdEFzSHRtbCcsIGZ1bmN0aW9uKCRzY2UpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbDtcbiAgICB9KVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgSVNPIDg2MDEgZGF0ZSB0byBzcGVjaWZpZWQgZm9ybWF0XG4gICAgICogQHBhcmFtIGZvcm1hdCBzdHJpbmcgZXhwZWN0ZWQgZGF0ZSBmb3JtYXRcbiAgICAgKi9cbiAgICAuZmlsdGVyKCdmb3JtYXREYXRlJywgZnVuY3Rpb24oJGZpbHRlcikge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihkYXRlU1RSLCBmb3JtYXQpIHtcbiAgICAgICAgICAgIHZhciBkID0gRGF0ZS5wYXJzZShkYXRlU1RSKTtcbiAgICAgICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gJ3l5eXktTU0tZGQgaGg6bW06c3MnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKShkLCBmb3JtYXQpO1xuICAgICAgICB9O1xuICAgIH0pXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgaHRtbCB0YWdzLCBhbmQgdHJpbSBzdHJpbmcgdG8gZ2l2ZW4gbGVuZ3RoIHdpdGhvdXQgYnJlYWtpbmcgd29yZHNcbiAgICAgKiBAcGFyYW0gbGVuIGV4cGVjdGVkIGxlbmd0aFxuICAgICAqL1xuICAgIC5maWx0ZXIoJ3N0cmlwVGFnc0FuZFRyaW0nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oc3RyLCBsZW4pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLzxcXC8/W14+XSsoPnwkKS9nLCAnJykuc3Vic3RyKDAsIGxlbik7XG4gICAgICAgICAgICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCBNYXRoLm1pbihzdHIubGVuZ3RoLCBzdHIubGFzdEluZGV4T2YoJyAnKSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuL2ZpbHRlcnMvQ29yZUZpbHRlcnMuanMnKTtcblxuYW5ndWxhci5tb2R1bGUoJ2FkbWluLmNvcmUnLCBbJ0NvcmVGaWx0ZXJzJ10pXG4gICAgLmNvbnRyb2xsZXIoJ0NvcmVDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9Db3JlQ3RybC5qcycpKVxuICAgIC5mYWN0b3J5KCdMYW5nUmVwb3NpdG9yeScsIHJlcXVpcmUoJy4vc2VydmljZXMvTGFuZ1JlcG9zaXRvcnkuanMnKSlcbiAgICAuZmFjdG9yeSgnTmF2QmFyJywgcmVxdWlyZSgnLi9zZXJ2aWNlcy9OYXZCYXIuanMnKSlcbiAgICAuZmFjdG9yeSgnVG9wTmF2QmFyJywgcmVxdWlyZSgnLi9zZXJ2aWNlcy9Ub3BOYXZCYXIuanMnKSlcbiAgICAuZmFjdG9yeSgnTm90aWZpY2F0aW9ucycsIHJlcXVpcmUoJy4uL2xpYi9Ob3RpZmljYXRpb25zLmpzJykpXG4gICAgLmZhY3RvcnkoJ2NrT3B0aW9ucycsIHJlcXVpcmUoJy4uL2xpYi9ja09wdGlvbnMuanMnKSlcbiAgICAuZmFjdG9yeSgnVHJhbnNsYXRpb25zJywgcmVxdWlyZSgnLi9zZXJ2aWNlcy9UcmFuc2xhdGlvbnMuanMnKSlcbiAgICAuZmFjdG9yeSgnU3RvcmFnZScsIHJlcXVpcmUoJy4uL2xpYi9TdG9yYWdlLmpzJykpXG4gICAgLmZhY3RvcnkoJ1V0aWxzJywgcmVxdWlyZSgnLi9zZXJ2aWNlcy9VdGlscy5qcycpKVxuICAgIC5kaXJlY3RpdmUoJ3N0YXRlc0Ryb3Bkb3duJywgWyckZHJvcGRvd24nLCByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvU3RhdGVzRHJvcGRvd24uanMnKV0pXG4gICAgLnJ1bihbXG4gICAgICAgICdUb3BOYXZCYXInLFxuICAgICAgICAnVXNlclJlcG9zaXRvcnknLFxuICAgICAgICAnVXRpbHMnLFxuICAgICAgICBmdW5jdGlvbihUb3BOYXZCYXIsIFVzZXJSZXBvc2l0b3J5LCBVdGlscykge1xuXG4gICAgICAgICAgICBVc2VyUmVwb3NpdG9yeS5vbmUoVXRpbHMuQ29uZmlnLmN1cnJlbnRVc2VySWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXNlciA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHVzZXIuZnVsbE5hbWUgPSB1c2VyLmZpcnN0TmFtZSArICcgJyArIHVzZXIubGFzdE5hbWU7XG5cbiAgICAgICAgICAgICAgICBUb3BOYXZCYXIuYWRkKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1BBR0VfUFJFVklFVycsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnLydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgVG9wTmF2QmFyLmFkZChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHVzZXIuZnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdjb250ZW50Lmxpc3QnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFRvcE5hdkJhci5hZGRMYXN0Q2hpbGQoXG4gICAgICAgICAgICAgICAgICAgIHVzZXIuZnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUFJPRklMRScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICd1c2VyLmVkaXQoe3VzZXJJZDogJyArIHVzZXIuaWQgKyAnfSknXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFRvcE5hdkJhci5hZGRMYXN0Q2hpbGQoXG4gICAgICAgICAgICAgICAgICAgIHVzZXIuZnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTE9HX09VVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2FkbWluL2xvZ291dCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgXSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIExhbmdSZXBvc2l0b3J5KFJlc3Rhbmd1bGFyKSB7XG4gICAgLyoqXG4gICAgICogQ3VzdG9tIG1ldGhvZHNcbiAgICAgKi9cbiAgICBSZXN0YW5ndWxhci5leHRlbmRNb2RlbCgnbGFuZ3MnLCBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICBtb2RlbC50ZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3Rlc3QnO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgfSk7XG5cbiAgICB2YXIgYXBpID0gUmVzdGFuZ3VsYXIuYWxsKCdhZG1pbi9sYW5ncycpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uZTogZnVuY3Rpb24oY29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXQoY29kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRMaXN0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFuOiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdGFuZ3VsYXIuc3RyaXBSZXN0YW5ndWxhcihlbGVtKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbkxhbmdSZXBvc2l0b3J5LiRpbmplY3QgPSBbJ1Jlc3Rhbmd1bGFyJ107XG5tb2R1bGUuZXhwb3J0cyA9IExhbmdSZXBvc2l0b3J5O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBOYXZCYXIoKSB7XG4gICAgLyoqIEB2YXIgTmF2aWdhdGlvbiAqL1xuICAgIHJldHVybiByZXF1aXJlKCcuLi8uLi9saWIvbmF2aWdhdGlvbi5qcycpKCk7XG59XG5cbm1vZHVsZS4kaW5qZWN0ID0gW107XG5tb2R1bGUuZXhwb3J0cyA9IE5hdkJhcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gVG9wTmF2QmFyKCkge1xuICAgIC8qKiBAdmFyIE5hdmlnYXRpb24gKi9cbiAgICByZXR1cm4gcmVxdWlyZSgnLi4vLi4vbGliL25hdmlnYXRpb24uanMnKSgpO1xufVxuXG5tb2R1bGUuJGluamVjdCA9IFtdO1xubW9kdWxlLmV4cG9ydHMgPSBUb3BOYXZCYXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFRyYW5zbGF0aW9ucygkcSwgJHRyYW5zbGF0ZSwgTGFuZ1JlcG9zaXRvcnksIFV0aWxzKSB7XG4gICAgLy9jcmVhdGUgZGVmZXJyZWQgcHJvbWlzZVxuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIGxhbmd1YWdlcyA9IHt9O1xuXG4gICAgLy9nZXQgbGFuZ3VhZ2VzXG4gICAgTGFuZ1JlcG9zaXRvcnkubGlzdCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgbGFuZ3VhZ2VzLmxhbmdzID0gcmVzcG9uc2U7XG4gICAgICAgIGxhbmd1YWdlcy5jdXJyZW50TGFuZyA9IGxhbmd1YWdlcy50cmFuc0xhbmcgPSByZXNwb25zZVswXTtcbiAgICAgICAgLy8gcmVzb2x2ZSB0aGUgcHJvbWlzZVxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGxhbmd1YWdlcyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gcmV0dXJucyB0aGUgb2JqZWN0IG9mIGxhbmd1YWdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VHJhbnNsYXRpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2V0cyB0aGUgbGFuZ3VhZ2Ugb2YgdGhlIHRyYW5zbGF0aW9uIGZvciB0aGUgYW5ndWxhci10cmFuc2xhdGUgbW9kdWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBsYW5nIG9iamVjdCB0aGF0IHdpbGwgYmUgdXNlZCB0byB0cmFuc2xhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdEFkbWluTGFuZzogZnVuY3Rpb24obGFuZykge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZS5mYWxsYmFja0xhbmd1YWdlKFsnZW5fVVMnXSk7XG4gICAgICAgICAgICAkdHJhbnNsYXRlLnVzZShsYW5nLmkxOG4pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVkaXJlY3QgaWYgdXNlciB0cnkgdG8gYWNjZXNzIG5vbiBleGlzdGluZyBsYW5ndWFnZVxuICAgICAgICAgKiBAcGFyYW0gbGFuZ0NvZGVcbiAgICAgICAgICovXG4gICAgICAgIGNoZWNrSWZMYW5ndWFnZUlzQXZhaWxhYmxlOiBmdW5jdGlvbihsYW5nQ29kZSkge1xuICAgICAgICAgICAgdmFyIGF2YWlsYWJsZSA9IFtdO1xuICAgICAgICAgICAgaWYgKGxhbmd1YWdlcyA9PT0ge30pIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobGFuZ3VhZ2VzLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZS5wdXNoKHYuY29kZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZS5pbmRleE9mKGxhbmdDb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgVXRpbHMuTm90aWZpY2F0aW9ucy5hZGRFcnJvcignTEFOR1VBR0VfTk9UX0ZPVU5EJyk7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbygnaG9tZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTGFuZ1JlcG9zaXRvcnkubGlzdCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKExhbmdSZXBvc2l0b3J5LmNsZWFuKHJlc3BvbnNlKSwgZnVuY3Rpb24odiwgaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlLnB1c2godi5jb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGUuaW5kZXhPZihsYW5nQ29kZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZEVycm9yKCdMQU5HVUFHRV9OT1RfRk9VTkQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbygnaG9tZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuVHJhbnNsYXRpb25zLiRpbmplY3QgPSBbJyRxJywgJyR0cmFuc2xhdGUnLCAnTGFuZ1JlcG9zaXRvcnknLCAnVXRpbHMnXTtcbm1vZHVsZS5leHBvcnRzID0gVHJhbnNsYXRpb25zO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFV0aWxzKE5vdGlmaWNhdGlvbnMsIFN0b3JhZ2UsICRzdGF0ZSwgJHByZXZpb3VzU3RhdGUsICRzdGF0ZVBhcmFtcywgY2tPcHRpb25zLCBob3RrZXlzLCAkZmlsdGVyKSB7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgTm90aWZpY2F0aW9uczogTm90aWZpY2F0aW9ucyxcbiAgICAgICAgU3RvcmFnZTogU3RvcmFnZSxcbiAgICAgICAgJHN0YXRlOiAkc3RhdGUsXG4gICAgICAgICRzdGF0ZVBhcmFtczogJHN0YXRlUGFyYW1zLFxuICAgICAgICAkcHJldmlvdXNTdGF0ZTogJHByZXZpb3VzU3RhdGUsXG4gICAgICAgIENvbmZpZzogQ29uZmlnLFxuICAgICAgICBja09wdGlvbnM6IGNrT3B0aW9ucyxcbiAgICAgICAgaG90a2V5czogaG90a2V5cyxcbiAgICAgICAgJGZpbHRlcjogJGZpbHRlcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZGlyZWN0IHVzZXIgdG8gcHJldmlvdXMgc3RhdGVcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRTdGF0ZU5hbWUgZGVmYXVsdCBzdGF0ZSBuYW1lXG4gICAgICAgICAqL1xuICAgICAgICByZWRpcmVjdEJhY2s6IGZ1bmN0aW9uKGRlZmF1bHRTdGF0ZU5hbWUpIHtcbiAgICAgICAgICAgIC8vIGdldHMgYSByZWZlcmVuY2UgdG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSAkcHJldmlvdXNTdGF0ZS5nZXQoKTtcbiAgICAgICAgICAgIC8vIHNldCBkZWZhdWx0IG5hbWUgZm9yIHRoZSByZWRpcmVjdCBpZiBpdCBpcyBpcyBub3Qgc3BlY2lmaWVkXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlZmF1bHRTdGF0ZU5hbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFN0YXRlTmFtZSA9ICdob21lJzsgLy8gUmVkaXJlY3QgdG8gaG9tZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByZXZpb3VzU3RhdGVcbiAgICAgICAgICAgIGlmIChwcmV2aW91c1N0YXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVkaXJlY3RlZCBiYWNrIHRvIHRoZSBzdGF0ZSB3ZSBjYW1lIGZyb21cbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28ocHJldmlvdXNTdGF0ZS5zdGF0ZS5uYW1lLCBwcmV2aW91c1N0YXRlLnBhcmFtcywge3JlbG9hZDogdHJ1ZX0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgZ28gdG8gZGVmYXVsdCBzdGF0ZVxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhkZWZhdWx0U3RhdGVOYW1lLCB7fSwge3JlbG9hZDogdHJ1ZX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufVxuXG5tb2R1bGUuJGluamVjdCA9IFtcbiAgICAnTm90aWZpY2F0aW9ucycsXG4gICAgJ1N0b3JhZ2UnLFxuICAgICckc3RhdGUnLFxuICAgICckcHJldmlvdXNTdGF0ZScsXG4gICAgJyRzdGF0ZVBhcmFtcycsXG4gICAgJ2NrT3B0aW9ucycsXG4gICAgJ2hvdGtleXMnLFxuICAgICckZmlsdGVyJ1xuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBVdGlscztcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gTm90aWZpY2F0aW9ucygkdHJhbnNsYXRlKSB7XG4gICAgLy8gTm90aWZpY2F0aW9ucyBzdGFja1xuICAgIHZhciBzdGFja0JvdHRvbVJpZ2h0ID0geydkaXIxJzogJ3VwJywgJ2RpcjInOiAnbGVmdCcsICdmaXJzdHBvczEnOiAyNSwgJ2ZpcnN0cG9zMic6IDI1fTtcbiAgICAvLyBOb3RpZmljYXRpb25zIG9wdGlvbnNcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgYWRkY2xhc3M6ICdzdGFjay1ib3R0b21yaWdodCcsXG4gICAgICAgIHN0YWNrOiBzdGFja0JvdHRvbVJpZ2h0LFxuICAgICAgICBzaGFkb3c6IGZhbHNlLFxuICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICBzdGlja2VyOiBmYWxzZVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB3aGljaCBzaG93cyBtZXNzYWdlcyBvZiBnaXZlbiB0eXBlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgZnVuY3Rpb24gdXNlZCB0byBzaG93IGVhY2ggbWVzc2FnZVxuICAgICAqIEBwYXJhbSBtZXNzYWdlcyBtZXNzYWdlcyB0byBzaG93XG4gICAgICovXG4gICAgdmFyIGFkZE1lc3NhZ2VzID0gZnVuY3Rpb24oY2FsbGJhY2ssIG1lc3NhZ2VzKSB7XG4gICAgICAgIF8uZm9yRWFjaChtZXNzYWdlcywgZnVuY3Rpb24obWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG1lc3NhZ2VzWzBdKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2hvd3MgbXVsdGlwbGUgQW5ndWxhclN0cmFwIGluZm8gdHlwZSBhbGVydHNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG1lc3NhZ2VzIHRyYW5zbGF0YWJsZSBtZXNzYWdlcyB0byBzaG93XG4gICAgICAgICAqL1xuICAgICAgICBhZGRJbmZvczogZnVuY3Rpb24obWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGFkZE1lc3NhZ2VzKHNlbGYuYWRkSW5mbywgbWVzc2FnZXMpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2hvd3MgbXVsdGlwbGUgQW5ndWxhclN0cmFwIGRhbmdlciB0eXBlIGFsZXJ0c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZXMgdHJhbnNsYXRhYmxlIG1lc3NhZ2VzIHRvIHNob3dcbiAgICAgICAgICovXG4gICAgICAgIGFkZEVycm9yczogZnVuY3Rpb24obWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGFkZE1lc3NhZ2VzKHNlbGYuYWRkRXJyb3IsIG1lc3NhZ2VzKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHNob3dzIG11bHRpcGxlIEFuZ3VsYXJTdHJhcCB3YXJuaW5nIHR5cGUgYWxlcnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlcyB0cmFuc2xhdGFibGUgbWVzc2FnZXMgdG8gc2hvd1xuICAgICAgICAgKi9cbiAgICAgICAgYWRkV2FybmluZ3M6IGZ1bmN0aW9uKG1lc3NhZ2VzKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBhZGRNZXNzYWdlcyhzZWxmLmFkZFdhcm5pbmcsIG1lc3NhZ2VzKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHNob3dzIG11bHRpcGxlIEFuZ3VsYXJTdHJhcCBzdWNjZXNzIHR5cGUgYWxlcnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlcyB0cmFuc2xhdGFibGUgbWVzc2FnZXMgdG8gc2hvd1xuICAgICAgICAgKi9cbiAgICAgICAgYWRkU3VjY2Vzc2VzOiBmdW5jdGlvbihtZXNzYWdlcykge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgYWRkTWVzc2FnZXMoc2VsZi5hZGRTdWNjZXNzLCBtZXNzYWdlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBzaG93cyB0aGUgQW5ndWxhclN0cmFwIGluZm8gdHlwZSBhbGVydFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZSB0cmFuc2xhdGFibGUgbWVzc2FnZSBzdHJpbmcgZWcuICdDT01NT05fRVJST1InXG4gICAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvblBhcmFtcyBkeW5hbWljIHBhcmFtcyBmb3IgdGhlIHRyYW5zbGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBhZGRJbmZvOiBmdW5jdGlvbihtZXNzYWdlLCB0cmFuc2xhdGlvblBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQTm90aWZ5KF8ubWVyZ2Uob3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHRleHQ6ICR0cmFuc2xhdGUuaW5zdGFudChtZXNzYWdlLCB0cmFuc2xhdGlvblBhcmFtcyksXG4gICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBzaG93cyB0aGUgQW5ndWxhclN0cmFwIGRhbmdlciB0eXBlIGFsZXJ0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIHRyYW5zbGF0YWJsZSBtZXNzYWdlIHN0cmluZyBlZy4gJ0NPTU1PTl9FUlJPUidcbiAgICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uUGFyYW1zIGR5bmFtaWMgcGFyYW1zIGZvciB0aGUgdHJhbnNsYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIGFkZEVycm9yOiBmdW5jdGlvbihtZXNzYWdlLCB0cmFuc2xhdGlvblBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQTm90aWZ5KF8ubWVyZ2Uob3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHRleHQ6ICR0cmFuc2xhdGUuaW5zdGFudChtZXNzYWdlLCB0cmFuc2xhdGlvblBhcmFtcyksXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtdGltZXMnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBzaG93cyB0aGUgQW5ndWxhclN0cmFwIHdhcm5pbmcgdHlwZSBhbGVydFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZSB0cmFuc2xhdGFibGUgbWVzc2FnZSBzdHJpbmcgZWcuICdDT01NT05fRVJST1InXG4gICAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvblBhcmFtcyBkeW5hbWljIHBhcmFtcyBmb3IgdGhlIHRyYW5zbGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBhZGRXYXJuaW5nOiBmdW5jdGlvbihtZXNzYWdlLCB0cmFuc2xhdGlvblBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQTm90aWZ5KF8ubWVyZ2Uob3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHRleHQ6ICR0cmFuc2xhdGUuaW5zdGFudChtZXNzYWdlLCB0cmFuc2xhdGlvblBhcmFtcyksXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBzaG93cyB0aGUgQW5ndWxhclN0cmFwIHN1Y2Nlc3MgdHlwZSBhbGVydFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZSB0cmFuc2xhdGFibGUgbWVzc2FnZSBzdHJpbmcgZWcuICdDT01NT05fRVJST1InXG4gICAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvblBhcmFtcyBkeW5hbWljIHBhcmFtcyBmb3IgdGhlIHRyYW5zbGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBhZGRTdWNjZXNzOiBmdW5jdGlvbihtZXNzYWdlLCB0cmFuc2xhdGlvblBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQTm90aWZ5KF8ubWVyZ2Uob3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHRleHQ6ICR0cmFuc2xhdGUuaW5zdGFudChtZXNzYWdlLCB0cmFuc2xhdGlvblBhcmFtcyksXG4gICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5tb2R1bGUuJGluamVjdCA9IFsnJHRyYW5zbGF0ZSddO1xubW9kdWxlLmV4cG9ydHMgPSBOb3RpZmljYXRpb25zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBTdG9yYWdlKCkge1xuICAgIHZhciBzdG9yYWdlSXRlbXMgPSB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gYWRkcyBzcGVjaWZpZWQgb2JqZWN0IHRvIHRoZSBzdG9yYWdlSXRlbXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U3RvcmFnZUl0ZW06IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgICAgc3RvcmFnZUl0ZW1zID0gICBfLm1lcmdlKHN0b3JhZ2VJdGVtcywgb2JqZWN0LCBmdW5jdGlvbihvYmplY3RWYWx1ZSwgc291cmNlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5pc0FycmF5KG9iamVjdFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIHNvdXJjZVZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gcmV0dXJucyB0aGUgc3BlY2lmaWVkIG9iamVjdCBmcm9tIHRoZSBzdG9yYWdlSXRlbXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGluZGV4XG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTdG9yYWdlSXRlbTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdG9yYWdlSXRlbXNbaW5kZXhdO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gcmVtb3ZlcyBzcGVjaWZpZWQgb2JqZWN0IGZyb20gdGhlIHN0b3JhZ2VJdGVtc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZVN0b3JhZ2VJdGVtOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgc3RvcmFnZUl0ZW1zID0gXy5vbWl0KHN0b3JhZ2VJdGVtcywgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuU3RvcmFnZS4kaW5qZWN0ID0gW107XG5tb2R1bGUuZXhwb3J0cyA9IFN0b3JhZ2U7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNrT3B0aW9ucygpIHtcbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIHRvb2xiYXJHcm91cHM6IFtcbiAgICAgICAgICAgIHtuYW1lOiAnY2xpcGJvYXJkJywgZ3JvdXBzOiBbJ2NsaXBib2FyZCcsICd1bmRvJ119LFxuICAgICAgICAgICAge25hbWU6ICdlZGl0aW5nJywgZ3JvdXBzOiBbJ2ZpbmQnLCAnc2VsZWN0aW9uJ119LFxuICAgICAgICAgICAge25hbWU6ICdsaW5rcyd9LFxuICAgICAgICAgICAge25hbWU6ICdpbnNlcnQnfSxcbiAgICAgICAgICAgIHtuYW1lOiAndG9vbHMnfSxcbiAgICAgICAgICAgIHtuYW1lOiAnZG9jdW1lbnQnLCBncm91cHM6IFsnbW9kZScsICdkb2N1bWVudCcsICdkb2N0b29scyddfSxcbiAgICAgICAgICAgIHtuYW1lOiAnb3RoZXJzJ30sXG4gICAgICAgICAgICAnLycsXG4gICAgICAgICAgICB7bmFtZTogJ2Jhc2ljc3R5bGVzJywgZ3JvdXBzOiBbJ2Jhc2ljc3R5bGVzJywgJ2NsZWFudXAnXX0sXG4gICAgICAgICAgICB7bmFtZTogJ3BhcmFncmFwaCcsIGdyb3VwczogWydsaXN0JywgJ2luZGVudCcsICdibG9ja3MnLCAnYmlkaSddfSxcbiAgICAgICAgICAgIHtuYW1lOiAnYWxpZ24nfSxcbiAgICAgICAgICAgIHtuYW1lOiAnc3R5bGVzJ31cbiAgICAgICAgXSxcbiAgICAgICAgaGVpZ2h0OiAnNTAwcHgnXG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBhZGRzIHNwZWNpZmllZCBvYmplY3QgdG8gdGhlIENLRWRpdG9yIG9wdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0RWRpdG9yT3B0aW9uOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgICAgIGRlZmF1bHRzID0gXy5tZXJnZShkZWZhdWx0cywgb2JqZWN0LCBmdW5jdGlvbihvYmplY3RWYWx1ZSwgc291cmNlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5pc0FycmF5KG9iamVjdFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiByZXR1cm5zIENLRWRpdG9yIG9wdGlvbnNcbiAgICAgICAgICogQHBhcmFtIGN1c3RvbSBjdXN0b20gb3B0aW9uIHRvIGluY2x1ZGUgaW4gcmV0dXJuIG9iamVjdCwgb25seSBmb3IgdGhpcyBpbnN0YW5jZSBvZiBlZGl0b3JcbiAgICAgICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldEVkaXRvck9wdGlvbnM6IGZ1bmN0aW9uKGN1c3RvbSkge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IF8uY2xvbmVEZWVwKGRlZmF1bHRzKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjdXN0b20sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG4gICAgfTtcbn1cblxubW9kdWxlLiRpbmplY3QgPSBbXTtcbm1vZHVsZS5leHBvcnRzID0gY2tPcHRpb25zO1xuIiwiZnVuY3Rpb24gTmF2aWdhdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNoZWNrcyBpZiAnaXRlbScgc3RydWN0dXJlIGlzIHZhbGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXRlbSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB2YXIgY2hlY2tTdHJ1Y3R1cmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmIChfLmhhcyhpdGVtLCAnZGl2aWRlcicpKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5kaXZpZGVyICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eTogJyArICdcXCdkaXZpZGVyXFwnJyArICcgbXVzdCBiZSBzZXQgdG8gXFwndHJ1ZVxcJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFfLmhhcyhpdGVtLCAndGl0bGUnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eTogJyArICd0aXRsZScgKyAnIGlzIG1pc3NpbmcnKTtcbiAgICAgICAgfSBlbHNlIGlmICghXy5oYXMoaXRlbSwgJ2FjdGlvbicpICYmICFfLmhhcyhpdGVtLCAnaHJlZicpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5OiAnICsgJ1xcJ2FjdGlvblxcJyBvciBcXCdocmVmXFwnJyArICcgYXJlIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiByZXR1cm5zIGNoaWxkcmVuIG9mIGVsZW1lbnQgc3BlY2lmaWVkIGJ5ICd0aXRsZSdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aXRsZSBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgdmFyIGdldENoaWxkcmVuID0gZnVuY3Rpb24odGl0bGUpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gW10sXG4gICAgICAgICAgICBmb3VuZEZsYWcgPSBmYWxzZTtcbiAgICAgICAgXy5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS50aXRsZSA9PT0gdGl0bGUpIHtcbiAgICAgICAgICAgICAgICBmb3VuZEZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChfLmhhcyh2YWx1ZSwgJ2NoaWxkcmVuJykgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZS5jaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSB2YWx1ZS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZvdW5kRmxhZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyZW50OiBcXCcnICsgdGl0bGUgKyAnXFwnIGhhdmUgbm8gY2hpbGRyZW4sIGJlY2F1c2UgZG9lcyBub3QgZXhpc3QnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBhZGRzIGVsZW1lbnQgYWNjb3JkaW5nIHRvICdwb3NpdGlvbicgYXJndW1lbnRcbiAgICAgKiBwb3NpdGlvbiA9ICdiZWZvcmUnIC0gZWxlbWVudCB3aWxsIGJlIGFkZGVkIGJlZm9yZSBlbGVtZW50IHNwZWNpZmllZCBieSAndGl0bGUnXG4gICAgICogcG9zaXRpb24gPSAnYWZ0ZXInIC0gZWxlbWVudCB3aWxsIGJlIGFkZGVkIGFmdGVyIGVsZW1lbnQgc3BlY2lmaWVkIGJ5ICd0aXRsZSdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aXRsZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0gaXRlbSBvYmplY3RcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gc3RyaW5nXG4gICAgICovXG4gICAgdmFyIGFkZEJlZm9yZUFmdGVyID0gZnVuY3Rpb24odGl0bGUsIGl0ZW0sIHBvc2l0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IFxcJ3Bvc2l0aW9uXFwnIGlzIHJlcXVpcmVkLCB2YWx1ZXM6IFxcJ2JlZm9yZVxcJyBvciBcXCdhZnRlclxcJycpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwb3NpdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgXFwncG9zaXRpb25cXCcgbXVzdCBiZSBvZiBzdHJpbmcgdHlwZSwgdmFsdWVzOiBcXCdiZWZvcmVcXCcgb3IgXFwnYWZ0ZXJcXCcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hlY2tTdHJ1Y3R1cmUoaXRlbSkpIHtcbiAgICAgICAgICAgIHZhciBmb3VuZEZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uZm9yRWFjaChpdGVtcywgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnRpdGxlID09PSB0aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5zcGxpY2UoaW5kZXgsIDAsIGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnYWZ0ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5zcGxpY2UoaW5kZXggKyAxLCAwLCBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZm91bmRGbGFnID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWxlbWVudDogXFwnJyArIHRpdGxlICsgJ1xcJyBkb2VzIG5vdCBleGlzdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBhZGRzIGNoaWxkIGxpbmsgYWNjb3JkaW5nIHRvICdwb3NpdGlvbicgYXJndW1lbnRcbiAgICAgKiBwb3NpdGlvbiA9IHRydWUgLSBjaGlsZCB3aWxsIGJlIGFkZGVkIGFzIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBwb3NpdGlvbiA9IGZhbHNlIC0gY2hpbGQgd2lsbCBiZSBhZGRlZCBhcyBsYXN0IGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJlbnQgc3RyaW5nXG4gICAgICogQHBhcmFtIGl0ZW0gb2JqZWN0XG4gICAgICogQHBhcmFtIHBvc2l0aW9uIGJvb2xlYW5cbiAgICAgKi9cbiAgICB2YXIgYWRkQ2hpbGQgPSBmdW5jdGlvbihwYXJlbnQsIGl0ZW0sIHBvc2l0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwb3NpdGlvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IFxcJ3Bvc2l0aW9uXFwnIG11c3QgYmUgb2YgYm9vbGVhbiB0eXBlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoZWNrU3RydWN0dXJlKGl0ZW0pKSB7XG4gICAgICAgICAgICB2YXIgZm91bmRGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICBfLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50aXRsZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghXy5oYXModmFsdWUsICdjaGlsZHJlbicpIHx8ICFBcnJheS5pc0FycmF5KHZhbHVlLmNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNoaWxkcmVuLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jaGlsZHJlbi5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kRmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmb3VuZEZsYWcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJlbnQ6IFxcJycgKyBwYXJlbnQgKyAnXFwnIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGFkZHMgY2hpbGQgbGluayBhY2NvcmRpbmcgdG8gJ3Bvc2l0aW9uJyBhcmd1bWVudFxuICAgICAqIHBvc2l0aW9uID0gJ2JlZm9yZScgLSBjaGlsZCB3aWxsIGJlIGFkZGVkIGJlZm9yZSBlbGVtZW50IHNwZWNpZmllZCBieSAndGl0bGUnXG4gICAgICogcG9zaXRpb24gPSAnYWZ0ZXInIC0gY2hpbGQgd2lsbCBiZSBhZGRlZCBhZnRlciBlbGVtZW50IHNwZWNpZmllZCBieSAndGl0bGUnXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyZW50IHN0cmluZ1xuICAgICAqIEBwYXJhbSB0aXRsZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0gaXRlbSBvYmplY3RcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gc3RyaW5nXG4gICAgICovXG4gICAgdmFyIGFkZEJlZm9yZUFmdGVyQ2hpbGQgPSBmdW5jdGlvbihwYXJlbnQsIHRpdGxlLCBpdGVtLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIHBvc2l0aW9uID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBcXCdwb3NpdGlvblxcJyBpcyByZXF1aXJlZCwgdmFsdWVzOiBcXCdiZWZvcmVcXCcgb3IgXFwnYWZ0ZXJcXCcnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcG9zaXRpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IFxcJ3Bvc2l0aW9uXFwnIG11c3QgYmUgb2Ygc3RyaW5nIHR5cGUsIHZhbHVlczogXFwnYmVmb3JlXFwnIG9yIFxcJ2FmdGVyXFwnJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoZWNrU3RydWN0dXJlKGl0ZW0pKSB7XG4gICAgICAgICAgICB2YXIgZm91bmRGbGFnID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBnZXRDaGlsZHJlbihwYXJlbnQpO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJlbnQ6IFxcJycgKyBwYXJlbnQgKyAnXFwnIGhhdmUgbm8gY2hpbGRyZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnRpdGxlID09PSB0aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnYWZ0ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaW5kZXggKyAxLCAwLCBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZm91bmRGbGFnID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hpbGQ6IFxcJycgKyB0aXRsZSArICdcXCcgZG9lcyBub3QgZXhpc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gYWRkcyBlbGVtZW50IHRvIHRoZSBlbmQgb2YgbWVudVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaXRlbSBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGFkZDogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgaWYgKGNoZWNrU3RydWN0dXJlKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIGFkZHMgZWxlbWVudCB0byB0aGUgbWVudSBhcyBmaXJzdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaXRlbSBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGFkZEZpcnN0OiBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tTdHJ1Y3R1cmUoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBpdGVtcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gYWRkcyBlbGVtZW50ICdpdGVtJyB0byB0aGUgbWVudSBiZWZvcmUgZWxlbWVudCBzcGVjaWZpZWQgYnkgJ3RpdGxlJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBpdGVtIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgYWRkQmVmb3JlOiBmdW5jdGlvbih0aXRsZSwgaXRlbSkge1xuICAgICAgICAgICAgYWRkQmVmb3JlQWZ0ZXIodGl0bGUsIGl0ZW0sICdiZWZvcmUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIGFkZHMgZWxlbWVudCAnaXRlbScgdG8gdGhlIG1lbnUgYWZ0ZXIgZWxlbWVudCBzcGVjaWZpZWQgYnkgJ3RpdGxlJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBuZXdJdGVtIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgYWRkQWZ0ZXI6IGZ1bmN0aW9uKHRpdGxlLCBuZXdJdGVtKSB7XG4gICAgICAgICAgICBhZGRCZWZvcmVBZnRlcih0aXRsZSwgbmV3SXRlbSwgJ2FmdGVyJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBhZGRzIGNoaWxkIGxpbmsgYXMgZmlyc3QgdG8gdGhlIGVsZW1lbnQgc3BlY2lmaWVkIGJ5ICdwYXJlbnQnIGFyZ3VtZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXJlbnQgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBpdGVtIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgYWRkRmlyc3RDaGlsZDogZnVuY3Rpb24ocGFyZW50LCBpdGVtKSB7XG4gICAgICAgICAgICBhZGRDaGlsZChwYXJlbnQsIGl0ZW0sIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gYWRkcyBjaGlsZCBsaW5rIGFzIGxhc3QgdG8gdGhlIGVsZW1lbnQgc3BlY2lmaWVkIGJ5ICdwYXJlbnQnIGFyZ3VtZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXJlbnQgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBpdGVtIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgYWRkTGFzdENoaWxkOiBmdW5jdGlvbihwYXJlbnQsIGl0ZW0pIHtcbiAgICAgICAgICAgIGFkZENoaWxkKHBhcmVudCwgaXRlbSwgZmFsc2UpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gYWRkcyBsaW5rIHRvIHRoZSBlbGVtZW50IHNwZWNpZmllZCBieSAncGFyZW50JyBiZWZvcmUgY2hpbGQgZWxlbWVudCBzcGVjaWZpZWQgYnkgJ3RpdGxlJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcGFyZW50IHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBpdGVtIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgYWRkQmVmb3JlQ2hpbGQ6IGZ1bmN0aW9uKHBhcmVudCwgdGl0bGUsIGl0ZW0pIHtcbiAgICAgICAgICAgIGFkZEJlZm9yZUFmdGVyQ2hpbGQocGFyZW50LCB0aXRsZSwgaXRlbSwgJ2JlZm9yZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gYWRkcyBsaW5rIHRvIHRoZSBlbGVtZW50IHNwZWNpZmllZCBieSAncGFyZW50JyBhZnRlciBjaGlsZCBlbGVtZW50IHNwZWNpZmllZCBieSAndGl0bGUnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXJlbnQgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSB0aXRsZSBzdHJpbmdcbiAgICAgICAgICogQHBhcmFtIGl0ZW0gb2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBhZGRBZnRlckNoaWxkOiBmdW5jdGlvbihwYXJlbnQsIHRpdGxlLCBpdGVtKSB7XG4gICAgICAgICAgICBhZGRCZWZvcmVBZnRlckNoaWxkKHBhcmVudCwgdGl0bGUsIGl0ZW0sICdhZnRlcicpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gcmV0dXJuIGl0ZW1zIGZyb20gbWVudVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRJdGVtczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBleHBvcnRzIGxpbmtzIHRvICdkcm9wZG93bicgbWVudVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnRUb0Ryb3Bkb3duTWVudTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSB7fTtcbiAgICAgICAgICAgIF8uZm9yRWFjaChpdGVtcywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfLmZvckluKHZhbHVlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICd0aXRsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0udGV4dCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IHt9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfVxuICAgIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IE5hdmlnYXRpb247XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFNldHRpbmdzQ3RybCgkc2NvcGUsIFV0aWxzLCBTZXR0aW5nc1JlcG9zaXRvcnksIGNhdGVnb3JpZXMsIHNldHRpbmdzKSB7XG5cbiAgICAvLyBmaWVsZHMgdGhhdCB3aWxsIHVzZSBudW1iZXIgdHlwZSBpbnB1dFxuICAgICRzY29wZS5udW1lcmljRmllbGRzID0gWydkZWZhdWx0UGFnZVNpemUnLCAnc2VvRGVzY0xlbmd0aCddO1xuXG4gICAgLy8gb3B0aW9uIGNhdGVnb3J5XG4gICAgaWYgKHR5cGVvZiBVdGlscy4kc3RhdGVQYXJhbXMua2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkc2NvcGUuY2F0ZWdvcnlLZXkgPSBVdGlscy4kc3RhdGVQYXJhbXMua2V5O1xuICAgIH1cblxuICAgIC8vIGxhbmcgY29kZSBleGlzdHNcbiAgICBpZiAodHlwZW9mIFV0aWxzLiRzdGF0ZVBhcmFtcy5sYW5nQ29kZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgJHNjb3BlLmxhbmdDb2RlID0gVXRpbHMuJHN0YXRlUGFyYW1zLmxhbmdDb2RlO1xuICAgIH1cblxuICAgIC8vIGNhdGVnb3JpZXMgZXhpc3RzXG4gICAgaWYgKHR5cGVvZiBjYXRlZ29yaWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IFNldHRpbmdzUmVwb3NpdG9yeS5jbGVhbihjYXRlZ29yaWVzKTsgLy8gb3B0aW9ucyBjYXRlZ29yaWVzXG4gICAgfVxuXG4gICAgLy8gc2V0dGluZ3MgZXhpc3RzXG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzID0gU2V0dGluZ3NSZXBvc2l0b3J5LmNsZWFuKHNldHRpbmdzKTsgLy8gY2F0ZWdvcnkgc2V0dGluZ3NcbiAgICB9XG5cbiAgICAvLyB3ZSBuZWVkIGludGVnZXIgdmFsdWVzIGZvciBudW1iZXIgdHlwZSBpbnB1dHNcbiAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLm51bWVyaWNGaWVsZHMsIGZ1bmN0aW9uKHByb3BlcnR5TmFtZSl7XG4gICAgICAgIGlmICgkc2NvcGUuc2V0dGluZ3MuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZXR0aW5nc1twcm9wZXJ0eU5hbWVdLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzW3Byb3BlcnR5TmFtZV1ba10gPSBwYXJzZUludCh2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBzYXZlIHNldHRpbmdzIGNhdGVnb3J5IG9wdGlvbnNcbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgLy8gcHJlcGFyZSBvcHRpb24gZGF0YVxuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2F2ZSBvcHRpb25cbiAgICAgICAgU2V0dGluZ3NSZXBvc2l0b3J5LnVwZGF0ZSgkc2NvcGUuY2F0ZWdvcnlLZXksIGRhdGEpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoJ1RIRV9DSEFOR0VTX0hBVkVfQkVFTl9TQVZFRCcpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5TZXR0aW5nc0N0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ1V0aWxzJywgJ1NldHRpbmdzUmVwb3NpdG9yeScsICdjYXRlZ29yaWVzJywgJ3NldHRpbmdzJ107XG5tb2R1bGUuZXhwb3J0cyA9IFNldHRpbmdzQ3RybDtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gU2V0dGluZ0NvcHlDdHJsKCRzY29wZSwgVXRpbHMsICRtb2RhbCwgU2V0dGluZ3NSZXBvc2l0b3J5KSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgdmlld1BhdGggPSAnZ3plcm8vYWRtaW4vdmlld3Mvc2V0dGluZ3MvZGlyZWN0aXZlcy8nO1xuICAgIC8vIENvcHkgbW9kYWxcbiAgICB2bS5jb3B5TW9kYWwgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBpbml0aWF0ZXMgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgdHJhbnNsYXRhYmxlIHRpdGxlIG9mIG1vZGFsXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIHRyYW5zbGF0YWJsZSBtZXNzYWdlcyBvZiBtb2RhbFxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdE1vZGFsOiBmdW5jdGlvbih0aXRsZSwgbWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbCA9ICRtb2RhbCh7XG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnc2V0dGluZ0NvcHlNb2RhbC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdjZW50ZXInXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gc2hvd3MgdGhlIEFuZ3VsYXJTdHJhcCBtb2RhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gYXR0cnMgYXR0cmlidXRlcyBmcm9tIGRpcmVjdGl2ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd01vZGFsOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdm0uYXR0cnMgPSBhdHRycztcbiAgICAgICAgICAgIHNlbGYuaW5pdE1vZGFsKCdQTEVBU0VfQ09ORklSTScsICdPUFRJT05TX0xBTkcuQ09QWV9PUFRJT05fUVVFU1RJT04nKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gY2xvc2UgdGhlIG1vZGFsXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNlbGYubW9kYWwuaGlkZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBhcHBseSBzZXR0aW5nIHZhbHVlIHRvIG90aGVyIGxhbmd1YWdlcyBhbmQgcGVyZm9ybXMgdGhlIFJlc3RBbmd1bGFyIFBVVCBhY3Rpb24gZm9yIG9wdGlvbiB2YWx1ZVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgc2F2ZVNldHRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAvLyBwcmVwYXJlIG9wdGlvbiBkYXRhXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHZtLmF0dHJzLm9wdGlvbktleSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYW5ndWxhci5mcm9tSnNvbih2bS5hdHRycy5vcHRpb25WYWx1ZSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHNldCBvcHRpb24gdmFsdWUgdG8gYWxsIG90aGVyIGxhbmd1YWdlc1xuICAgICAgICAgICAgXy5mb3JFYWNoKGRhdGEudmFsdWUsIGZ1bmN0aW9uKG4sIGtleSkge1xuICAgICAgICAgICAgICAgIGRhdGEudmFsdWVba2V5XSA9IHZtLmF0dHJzLm9wdGlvbk5ld1ZhbHVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHNhdmUgb3B0aW9uXG4gICAgICAgICAgICBTZXR0aW5nc1JlcG9zaXRvcnkudXBkYXRlKHZtLmF0dHJzLmNhdGVnb3J5S2V5LCBkYXRhKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFV0aWxzLk5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcygnT1BUSU9OU19MQU5HLkNPUFlfQ09ORklSTScpO1xuICAgICAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cblNldHRpbmdDb3B5Q3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnVXRpbHMnLCAnJG1vZGFsJywgJ1NldHRpbmdzUmVwb3NpdG9yeSddO1xubW9kdWxlLmV4cG9ydHMgPSBTZXR0aW5nQ29weUN0cmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFNldHRpbmdDb3B5QnV0dG9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiAnPScsXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nQ29weUN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgU2V0dGluZ0NvcHlDdHJsKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFNldHRpbmdDb3B5Q3RybC5jb3B5TW9kYWwuc2hvd01vZGFsKGF0dHJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuU2V0dGluZ0NvcHlCdXR0b24uJGluamVjdCA9IFtdO1xubW9kdWxlLmV4cG9ydHMgPSBTZXR0aW5nQ29weUJ1dHRvbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2FkbWluLnNldHRpbmdzJywgW10pXG4gICAgLmNvbmZpZyhbXG4gICAgICAgICckc3RhdGVQcm92aWRlcicsXG4gICAgICAgICckdXJsUm91dGVyUHJvdmlkZXInLFxuICAgICAgICAnUmVzdGFuZ3VsYXJQcm92aWRlcicsXG4gICAgICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsIFJlc3Rhbmd1bGFyUHJvdmlkZXIpIHtcblxuICAgICAgICAgICAgdmFyIHZpZXdQYXRoID0gJ2d6ZXJvL2FkbWluL3ZpZXdzL3NldHRpbmdzLyc7XG5cbiAgICAgICAgICAgIC8vIE5vdyBzZXQgdXAgdGhlIHN0YXRlc1xuICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ3NldHRpbmdzJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvc2V0dGluZ3Mve2tleX0nLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnaW5kZXguaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nc0N0cmwnLFxuICAgICAgICAgICAgICAgICAgICBkZWVwU3RhdGVSZWRpcmVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZXR0aW5nc1JlcG9zaXRvcnknLCBmdW5jdGlvbihTZXR0aW5nc1JlcG9zaXRvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHRyZWUgb2YgYWxsIGNhdGVnb3JpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNldHRpbmdzUmVwb3NpdG9yeS5saXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRzdGF0ZVBhcmFtcycsICdTZXR0aW5nc1JlcG9zaXRvcnknLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFNldHRpbmdzUmVwb3NpdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2V0dGluZ3NSZXBvc2l0b3J5Lm9uZSgkc3RhdGVQYXJhbXMua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC8vIFNFVFRJTkdTIFNIT1dcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ3NldHRpbmdzLnNob3cnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy97bGFuZ0NvZGV9JyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50VGFiJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdzaG93Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nc0N0cmwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIF0pXG4gICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvU2V0dGluZ3NDdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdDb3B5Q3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvZGlyZWN0aXZlcy9TZXR0aW5nQ29weUN0cmwnKSlcbiAgICAuZGlyZWN0aXZlKCdzZXR0aW5nQ29weUJ1dHRvbicsIHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9TZXR0aW5nQ29weUJ1dHRvbi5qcycpKVxuICAgIC5mYWN0b3J5KCdTZXR0aW5nc1JlcG9zaXRvcnknLCByZXF1aXJlKCcuL3NlcnZpY2VzL1NldHRpbmdzUmVwb3NpdG9yeS5qcycpKVxuICAgIC5ydW4oW1xuICAgICAgICAnTmF2QmFyJyxcbiAgICAgICAgZnVuY3Rpb24oTmF2QmFyKSB7XG4gICAgICAgICAgICBOYXZCYXIuYWRkKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1NFVFRJTkdTJywgYWN0aW9uOiAnc2V0dGluZ3MnLCBpY29uOiAnZmEgZmEtY29ncydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgXSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFNldHRpbmdzUmVwb3NpdG9yeShSZXN0YW5ndWxhcikge1xuICAgIHZhciBhcGkgPSAnYWRtaW4vb3B0aW9ucyc7XG4gICAgdmFyIG9wdGlvbiA9IFJlc3Rhbmd1bGFyLmFsbChhcGkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uZTogZnVuY3Rpb24oaWQsIHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLm9uZShhcGksIGlkKS5nZXQocGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdDogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLmdldExpc3QocGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYW46IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5zdHJpcFJlc3Rhbmd1bGFyKGVsZW0pO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGU6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdGFuZ3VsYXIub25lKGFwaSwgaWQpLnJlbW92ZSgpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKGNhdGVnb3J5S2V5LCBkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdGFuZ3VsYXIub25lKGFwaSwgY2F0ZWdvcnlLZXkpLmN1c3RvbVBVVChkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cblNldHRpbmdzUmVwb3NpdG9yeS4kaW5qZWN0ID0gWydSZXN0YW5ndWxhciddO1xubW9kdWxlLmV4cG9ydHMgPSBTZXR0aW5nc1JlcG9zaXRvcnk7XG4iLCIvKipcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBHWkVSTyBDTVMgcGFja2FnZS5cbiAqXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRVxuICogZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKlxuICogQ2xhc3MgVXNlckNvbnRyb2xsZXJcbiAqXG4gKiBAcGFja2FnZSAgICBBZG1pblxuICogQGF1dGhvciAgICAgTWF0ZXVzeiBVcmJhbm93aWN6IDx1cmJhbm93aWN6bWF0ZXVzejg5QGdtYWlsLmNvbT5cbiAqIEBjb3B5cmlnaHQgIENvcHlyaWdodCAoYykgMjAxNSwgTWF0ZXVzeiBVcmJhbm93aWN6XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBVc2VyTGlzdEN0cmwoJHNjb3BlLCBVdGlscywgVXNlclJlcG9zaXRvcnksICRtb2RhbCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIHZpZXdQYXRoID0gJ2d6ZXJvL2FkbWluL3ZpZXdzL3VzZXIvZGlyZWN0aXZlcy8nO1xuICAgIC8vIERlbGV0ZSBtb2RhbFxuICAgIHZtLmRlbGV0ZU1vZGFsID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gaW5pdGlhdGVzIHRoZSBBbmd1bGFyU3RyYXAgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHRpdGxlIHRyYW5zbGF0YWJsZSB0aXRsZSBvZiBtb2RhbFxuICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZSB0cmFuc2xhdGFibGUgbWVzc2FnZXMgb2YgbW9kYWxcbiAgICAgICAgICovXG4gICAgICAgIGluaXRNb2RhbDogZnVuY3Rpb24odGl0bGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNlbGYubW9kYWwgPSAkbW9kYWwoe1xuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdQYXRoICsgJ3VzZXJEZWxldGVNb2RhbC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdjZW50ZXInXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQmluZCBob3RrZXlzXG4gICAgICAgICAgICBVdGlscy5ob3RrZXlzLmFkZCh7XG4gICAgICAgICAgICAgICAgY29tYm86ICdlbnRlcicsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdDT05GSVJNX0RFTEVURScsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGVsZXRlVXNlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBzaG93cyB0aGUgQW5ndWxhclN0cmFwIG1vZGFsXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB1c2VySWQgdXNlciBpZCB0byBiZSByZW1vdmVkLCBpdCBpcyBzYXZlZCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHNob3dNb2RhbDogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2bS51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgICAgICBzZWxmLmluaXRNb2RhbCgnUExFQVNFX0NPTkZJUk0nLCAnREVMRVRFX1VTRVJfUVVFU1RJT04nKTtcbiAgICAgICAgICAgIFV0aWxzLmhvdGtleXMuZGVsKCdlbnRlcicpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5tb2RhbC5oaWRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHBlcmZvcm1zIHRoZSBSZXN0QW5ndWxhciBERUxFVEUgYWN0aW9uIGZvciB1c2VyIGlkIGluIHNjb3BlXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVVc2VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIFVzZXJSZXBvc2l0b3J5LmRlbGV0ZSh2bS51c2VySWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICBVdGlscy4kc3RhdGUuZ28oVXRpbHMuJHN0YXRlLmN1cnJlbnQsIHt9LCB7cmVsb2FkOiB0cnVlfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcbn1cblxuVXNlckxpc3RDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdVdGlscycsICdVc2VyUmVwb3NpdG9yeScsICckbW9kYWwnXTtcbm1vZHVsZS5leHBvcnRzID0gVXNlckxpc3RDdHJsO1xuIiwiLyoqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgR1pFUk8gQ01TIHBhY2thZ2UuXG4gKlxuICogRm9yIHRoZSBmdWxsIGNvcHlyaWdodCBhbmQgbGljZW5zZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpZXcgdGhlIExJQ0VOU0VcbiAqIGZpbGUgdGhhdCB3YXMgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHNvdXJjZSBjb2RlLlxuICpcbiAqIENsYXNzIFVzZXJDb250cm9sbGVyXG4gKlxuICogQHBhY2thZ2UgICAgQWRtaW5cbiAqIEBhdXRob3IgICAgIE1hdGV1c3ogVXJiYW5vd2ljeiA8dXJiYW5vd2ljem1hdGV1c3o4OUBnbWFpbC5jb20+XG4gKiBAY29weXJpZ2h0ICBDb3B5cmlnaHQgKGMpIDIwMTUsIE1hdGV1c3ogVXJiYW5vd2ljelxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gVXNlckRldGFpbHNDdHJsKCRzY29wZSwgVXRpbHMsIFVzZXJSZXBvc2l0b3J5KSB7XG4gICAgLy8gZ2V0IHNpbmdsZSB1c2VyXG4gICAgVXNlclJlcG9zaXRvcnkub25lKFV0aWxzLiRzdGF0ZVBhcmFtcy51c2VySWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgJHNjb3BlLnVzZXIgPSBVc2VyUmVwb3NpdG9yeS5jbGVhbihyZXNwb25zZSk7XG4gICAgfSk7XG59XG5Vc2VyRGV0YWlsc0N0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ1V0aWxzJywgJ1VzZXJSZXBvc2l0b3J5J107XG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJEZXRhaWxzQ3RybDtcbiIsIi8qKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIEdaRVJPIENNUyBwYWNrYWdlLlxuICpcbiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFXG4gKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS5cbiAqXG4gKiBDbGFzcyBVc2VyQ29udHJvbGxlclxuICpcbiAqIEBwYWNrYWdlICAgIEFkbWluXG4gKiBAYXV0aG9yICAgICBNYXRldXN6IFVyYmFub3dpY3ogPHVyYmFub3dpY3ptYXRldXN6ODlAZ21haWwuY29tPlxuICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDE1LCBNYXRldXN6IFVyYmFub3dpY3pcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFVzZXJEZXRhaWxzQ3RybCgkc2NvcGUsIFVzZXJSZXBvc2l0b3J5LCBVdGlscykge1xuICAgIC8vIGdldCBzaW5nbGUgdXNlclxuICAgIFVzZXJSZXBvc2l0b3J5Lm9uZShVdGlscy4kc3RhdGVQYXJhbXMudXNlcklkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICRzY29wZS51c2VyID0gVXNlclJlcG9zaXRvcnkuY2xlYW4ocmVzcG9uc2UpO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLnNhdmVVc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFVzZXJSZXBvc2l0b3J5LnVwZGF0ZSgkc2NvcGUudXNlci5pZCwgJHNjb3BlLnVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIFV0aWxzLiRzdGF0ZS5nbygndXNlci5saXN0Jyk7XG4gICAgICAgICAgICBVdGlscy5Ob3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoJ1RIRV9DSEFOR0VTX0hBVkVfQkVFTl9TQVZFRCcpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG59XG5Vc2VyRGV0YWlsc0N0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ1VzZXJSZXBvc2l0b3J5JywgJ1V0aWxzJ107XG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJEZXRhaWxzQ3RybDtcbiIsIi8qKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIEdaRVJPIENNUyBwYWNrYWdlLlxuICpcbiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFXG4gKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS5cbiAqXG4gKiBDbGFzcyBVc2VyQ29udHJvbGxlclxuICpcbiAqIEBwYWNrYWdlICAgIEFkbWluXG4gKiBAYXV0aG9yICAgICBNYXRldXN6IFVyYmFub3dpY3ogPHVyYmFub3dpY3ptYXRldXN6ODlAZ21haWwuY29tPlxuICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDE1LCBNYXRldXN6IFVyYmFub3dpY3pcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFVzZXJMaXN0Q3RybCgkc2NvcGUsIFV0aWxzLCAkcm9vdFNjb3BlLCBVc2VyUmVwb3NpdG9yeSwgTmdUYWJsZVBhcmFtcykge1xuICAgICRzY29wZS50YWJsZVBhcmFtcyA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgY291bnQ6IDI1LCAvLyBjb3VudCBwZXIgcGFnZVxuICAgICAgICBzb3J0aW5nOiB7XG4gICAgICAgICAgICAnaWQnOiAnZGVzYycgLy8gaW5pdGlhbCBzb3J0aW5nXG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIHRvdGFsOiAwLCAvLyBsZW5ndGggb2YgZGF0YVxuICAgICAgICBnZXREYXRhOiBmdW5jdGlvbigkZGVmZXIsIHBhcmFtcykge1xuICAgICAgICAgICAgJHNjb3BlLnJlcXVlc3RQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHByZXBhcmUgb3B0aW9ucyB0byBiZSBzZW50IHRvIGFwaVxuICAgICAgICAgICAgdmFyIHF1ZXJ5T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndXNlcidcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHBhcmFtcy5jb3VudCgpIC0gbnVtYmVyIG9mIGl0ZW1zIHBlciBwYWdlIGRlY2xhcmVkIGluIHZpZXdcbiAgICAgICAgICAgIGlmICh0eXBlb2YgVXRpbHMuJHN0YXRlUGFyYW1zLnBlclBhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmNvdW50KFV0aWxzLiRzdGF0ZVBhcmFtcy5wZXJQYWdlKTtcbiAgICAgICAgICAgICAgICBxdWVyeU9wdGlvbnMucGVyUGFnZSA9IHBhcmFtcy5jb3VudCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwYXJhbXMucGFnZSgpIC0gY3VycmVudCBwYWdlXG4gICAgICAgICAgICBpZiAodHlwZW9mIFV0aWxzLiRzdGF0ZVBhcmFtcy5wYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wYWdlKFV0aWxzLiRzdGF0ZVBhcmFtcy5wYWdlKTtcbiAgICAgICAgICAgICAgICBxdWVyeU9wdGlvbnMucGFnZSA9IHBhcmFtcy5wYWdlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRhYmxlUGFyYW1zLm9yZGVyQnkoKSAtIGFuIGFycmF5IG9mIHN0cmluZyBpbmRpY2F0aW5nIGJvdGggdGhlIHNvcnRpbmcgY29sdW1uIGFuZCBkaXJlY3Rpb24gKGUuZy4gW1wiK25hbWVcIiwgXCItZW1haWxcIl0pXG4gICAgICAgICAgICBpZiAocGFyYW1zLnNvcnRpbmcoKSkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgaW50ZXJlc3RlZCBpbiBmaXJzdCBzb3J0IGNvbHVtbiBmb3Igbm93XG4gICAgICAgICAgICAgICAgdmFyIG9yZGVyQnkgPSBwYXJhbXMub3JkZXJCeSgpWzBdO1xuICAgICAgICAgICAgICAgIHF1ZXJ5T3B0aW9ucy5zb3J0ID0gb3JkZXJCeVswXSA9PT0gJysnID8gb3JkZXJCeS5zdWJzdHJpbmcoMSkgOiBvcmRlckJ5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBnZXQgbGlzdCBieSBkZWZhdWx0XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IFVzZXJSZXBvc2l0b3J5Lmxpc3QocXVlcnlPcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gQ29udGVudHMgaXMgYSBSRVNUIEFuZ3VsYXJKUyBzZXJ2aWNlIHRoYXQgdGFsa3MgdG8gYXBpIGFuZCByZXR1cm4gcHJvbWlzZVxuICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcXVlc3RQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnRvdGFsKHJlc3BvbnNlLm1ldGEudG90YWwpO1xuICAgICAgICAgICAgICAgICRkZWZlci5yZXNvbHZlKFVzZXJSZXBvc2l0b3J5LmNsZWFuKHJlc3BvbnNlKSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1ldGEgPSByZXNwb25zZS5tZXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuVXNlckxpc3RDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdVdGlscycsICckcm9vdFNjb3BlJywgJ1VzZXJSZXBvc2l0b3J5JywgJ25nVGFibGVQYXJhbXMnXTtcbm1vZHVsZS5leHBvcnRzID0gVXNlckxpc3RDdHJsO1xuIiwiLyoqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgR1pFUk8gQ01TIHBhY2thZ2UuXG4gKlxuICogRm9yIHRoZSBmdWxsIGNvcHlyaWdodCBhbmQgbGljZW5zZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpZXcgdGhlIExJQ0VOU0VcbiAqIGZpbGUgdGhhdCB3YXMgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHNvdXJjZSBjb2RlLlxuICpcbiAqIENsYXNzIFVzZXJDb250cm9sbGVyXG4gKlxuICogQHBhY2thZ2UgICAgQWRtaW5cbiAqIEBhdXRob3IgICAgIE1hdGV1c3ogVXJiYW5vd2ljeiA8dXJiYW5vd2ljem1hdGV1c3o4OUBnbWFpbC5jb20+XG4gKiBAY29weXJpZ2h0ICBDb3B5cmlnaHQgKGMpIDIwMTUsIE1hdGV1c3ogVXJiYW5vd2ljelxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gVXNlckRlbGV0ZUJ1dHRvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzY29wZTogdHJ1ZSxcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1VzZXJEZWxldGVDdHJsJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLC8vIGJlY2F1c2UgdGhlIHNjb3BlIGlzIGlzb2xhdGVkXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgVXNlckRlbGV0ZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhIGRlbGV0ZSBtb2RhbCBmcm9tIGEgY29udHJvbGxlclxuICAgICAgICAgICAgICAgIFVzZXJEZWxldGVDb250cm9sbGVyLmRlbGV0ZU1vZGFsLnNob3dNb2RhbChhdHRycy51c2VySWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5Vc2VyRGVsZXRlQnV0dG9uLiRpbmplY3QgPSBbXTtcbm1vZHVsZS5leHBvcnRzID0gVXNlckRlbGV0ZUJ1dHRvbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2FkbWluLnVzZXInLCBbJ25nVGFibGUnXSlcbiAgICAuY29uZmlnKFtcbiAgICAgICAgJyRzdGF0ZVByb3ZpZGVyJyxcbiAgICAgICAgJyR1cmxSb3V0ZXJQcm92aWRlcicsXG4gICAgICAgICdSZXN0YW5ndWxhclByb3ZpZGVyJyxcbiAgICAgICAgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgUmVzdGFuZ3VsYXJQcm92aWRlcikge1xuXG4gICAgICAgICAgICB2YXIgdmlld1BhdGggPSAnZ3plcm8vYWRtaW4vdmlld3MvdXNlci8nO1xuXG4gICAgICAgICAgICAvLyBOb3cgc2V0IHVwIHRoZSBzdGF0ZXNcbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAgICAgLnN0YXRlKCd1c2VyJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvdXNlcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdpbmRleC5odG1sJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN0YXRlKCd1c2VyLnNob3cnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy97dXNlcklkfS9zaG93JyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdzaG93Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyRGV0YWlsc0N0cmwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KS5zdGF0ZSgndXNlci5lZGl0Jywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcve3VzZXJJZH0vZWRpdCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogdmlld1BhdGggKyAnZWRpdC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVXNlckVkaXRDdHJsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ3VzZXIubGlzdCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2xpc3Qve3VzZXJJZH0/cGFnZSZwZXJQYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2aWV3UGF0aCArICdsaXN0Lmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgXSlcbiAgICAuY29udHJvbGxlcignVXNlckxpc3RDdHJsJywgcmVxdWlyZSgnLi9jb250cm9sbGVycy9Vc2VyTGlzdEN0cmwnKSlcbiAgICAuY29udHJvbGxlcignVXNlckRlbGV0ZUN0cmwnLCByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL1VzZXJEZWxldGVDdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ1VzZXJFZGl0Q3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvVXNlckVkaXRDdHJsJykpXG4gICAgLmNvbnRyb2xsZXIoJ1VzZXJEZXRhaWxzQ3RybCcsIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvVXNlckRldGFpbHNDdHJsJykpXG4gICAgLmZhY3RvcnkoJ1VzZXJSZXBvc2l0b3J5JywgcmVxdWlyZSgnLi9zZXJ2aWNlcy9Vc2VyUmVwb3NpdG9yeS5qcycpKVxuICAgIC5kaXJlY3RpdmUoJ3VzZXJEZWxldGVCdXR0b24nLCByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvVXNlckRlbGV0ZUJ1dHRvbi5qcycpKVxuICAgIC5ydW4oW1xuICAgICAgICAnTmF2QmFyJyxcbiAgICAgICAgZnVuY3Rpb24oTmF2QmFyKSB7XG4gICAgICAgICAgICBOYXZCYXIuYWRkKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1VTRVJTJywgYWN0aW9uOiAndXNlci5saXN0JywgaWNvbjogJ2ZhIGZhLXVzZXInXG4gICAgICAgICAgICAgICAgLy9jaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIC8vICAgIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgdGl0bGU6ICdVU0VSX0xJU1QnLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBhY3Rpb246ICd1c2VyLmxpc3QnLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBpY29uOiAnZmEgZmEtdGgnXG4gICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgIC8vXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICBdKTtcbiIsIi8qKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIEdaRVJPIENNUyBwYWNrYWdlLlxuICpcbiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFXG4gKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS5cbiAqXG4gKiBDbGFzcyBVc2VyQ29udHJvbGxlclxuICpcbiAqIEBwYWNrYWdlICAgIEFkbWluXG4gKiBAYXV0aG9yICAgICBNYXRldXN6IFVyYmFub3dpY3ogPHVyYmFub3dpY3ptYXRldXN6ODlAZ21haWwuY29tPlxuICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDE1LCBNYXRldXN6IFVyYmFub3dpY3pcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFVzZXJSZXBvc2l0b3J5KFJlc3Rhbmd1bGFyKSB7XG4gICAgdmFyIGFwaSA9ICdhZG1pbi91c2Vycyc7XG4gICAgdmFyIHVzZXJzID0gUmVzdGFuZ3VsYXIuYWxsKGFwaSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb25lOiBmdW5jdGlvbihpZCwgcGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdGFuZ3VsYXIub25lKGFwaSwgaWQpLmdldChwYXJhbXMpO1xuICAgICAgICB9LFxuICAgICAgICB0cmVlOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5vbmUoYXBpKS5nZXRMaXN0KCd0cmVlJywgcGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdDogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlcnMuZ2V0TGlzdChwYXJhbXMpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhbjogZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyLnN0cmlwUmVzdGFuZ3VsYXIoZWxlbSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5vbmUoYXBpLCBpZCkucmVtb3ZlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oaWQsIHVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5vbmUoYXBpLCBpZCkuY3VzdG9tUFVUKHVzZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuVXNlclJlcG9zaXRvcnkuJGluamVjdCA9IFsnUmVzdGFuZ3VsYXInXTtcbm1vZHVsZS5leHBvcnRzID0gVXNlclJlcG9zaXRvcnk7XG4iXX0=\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar kMaxLength = 0x3fffffff\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  this.length = 0\n  this.parent = undefined\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && object.buffer instanceof ArrayBuffer) {\n    return fromTypedArray(that, object)\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n    that._isBuffer = true\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  var i = 0\n  var len = Math.min(x, y)\n  while (i < len) {\n    if (a[i] !== b[i]) break\n\n    ++i\n  }\n\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = String(string)\n\n  if (string.length === 0) return 0\n\n  switch (encoding || 'utf8') {\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      return string.length\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return string.length * 2\n    case 'hex':\n      return string.length >>> 1\n    case 'utf8':\n    case 'utf-8':\n      return utf8ToBytes(string).length\n    case 'base64':\n      return base64ToBytes(string).length\n    default:\n      return string.length\n  }\n}\nBuffer.byteLength = byteLength\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\n// toString(encoding, start=0, end=buffer.length)\nBuffer.prototype.toString = function toString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function get (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function set (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), targetStart)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function toArrayBuffer () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function _augment (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array set method before overwriting\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.indexOf = BP.indexOf\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z\\-]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n  var i = 0\n\n  for (; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (leadSurrogate) {\n        // 2 leads in a row\n        if (codePoint < 0xDC00) {\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          leadSurrogate = codePoint\n          continue\n        } else {\n          // valid surrogate pair\n          codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000\n          leadSurrogate = null\n        }\n      } else {\n        // no lead yet\n\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else {\n          // valid lead\n          leadSurrogate = codePoint\n          continue\n        }\n      }\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n      leadSurrogate = null\n    }\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x200000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n","var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nrequire('./core/module.js');\nrequire('./content/module.js');\nrequire('./blocks/module.js');\nrequire('./user/module.js');\nrequire('./settings/module.js');\n\nvar dependencies = [\n    'restangular',\n    'ui.router',\n    'ui.router.default',\n    'ct.ui.router.extras',\n    'ngAnimate',\n    'mgcrea.ngStrap',\n    'pascalprecht.translate',\n    'ckeditor',\n    'angular-loading-bar',\n    'ng.httpLoader',\n    'cfp.hotkeys',\n    'admin.core',\n    'admin.content',\n    'admin.blocks',\n    'admin.user',\n    'admin.settings'\n];\ndependencies.push.apply(dependencies, modules); // Other modules are loaded by twig\n\nangular.module('admin', dependencies).config([\n    '$stateProvider',\n    '$urlRouterProvider',\n    'RestangularProvider',\n    '$translateProvider',\n    '$translatePartialLoaderProvider',\n    'httpMethodInterceptorProvider',\n    function($stateProvider, $urlRouterProvider, RestangularProvider, $translateProvider, $translatePartialLoaderProvider, httpMethodInterceptorProvider) {\n        var viewPath = 'gzero/admin/views/';\n\n        // For any unmatched url, redirect to /state1\n        $urlRouterProvider.otherwise('/');\n        // Whitelist the domains that the loader wil show for\n        httpMethodInterceptorProvider.whitelistDomain(Config.domain);\n        // Now set up the states\n        $stateProvider\n            .state('home', {\n                url: '/',\n                templateUrl: viewPath + 'home.html'\n            });\n\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: 'gzero/{part}/lang/{lang}.json'\n        });\n        $translatePartialLoaderProvider.addPart('admin');\n\n        // $translateProvider.preferredLanguage('pl_PL');\n        $translateProvider.preferredLanguage('en_US');\n\n        // User more secure variant sanitize strategy for escaping;\n        $translateProvider.useSanitizeValueStrategy('escape');\n\n        RestangularProvider.setBaseUrl(Config.apiUrl + '/v1');\n\n        RestangularProvider.setDefaultHttpFields({\n            cache: false,\n            withCredentials: true\n        });\n\n        // Set X-Requested-With header\n        RestangularProvider.setDefaultHeaders({\n            'X-Requested-With': 'XMLHttpRequest'\n        });\n\n        // Rename Restangular route field to use a $ prefix for easy distinction between data and metadata\n        RestangularProvider.setRestangularFields({route: '$route'});\n        // Add a response interceptor\n        RestangularProvider.addResponseInterceptor(function(data, operation) {\n            var extractedData;\n            // .. to look for getList operations\n\n            if (operation === 'getList') {\n                // .. and handle the data and meta data\n                if (typeof data.data !== 'undefined') {\n                    extractedData = data.data;\n                    extractedData.meta = data.meta;\n                    extractedData.params = data.params;\n                } else { // only one item in collection\n                    extractedData = [data];\n                }\n            } else {\n                extractedData = data;\n            }\n\n            return extractedData;\n        });\n    }\n]).run([\n    'NavBar',\n    '$rootScope',\n    'Restangular',\n    'Utils',\n    function(NavBar, $rootScope, Restangular, Utils) {\n        NavBar.addFirst({title: 'DASHBOARD', action: 'home', icon: 'fa fa-home'});\n        $rootScope.baseUrl = Utils.Config.url;\n\n        Restangular.setErrorInterceptor(function(response, deferred, responseHandler) {\n            if (response.status === 404) {\n                Utils.Notifications.addError('COMMON_ERROR');\n                return false; // error handled\n            } else if (response.status === 500) {\n                Utils.Notifications.addError(response.data.error.message);\n            }\n            Utils.Notifications.addErrors(response.data.messages);\n            return false; // error not handled\n        });\n    }\n]);\n","'use strict';\n\nfunction BlocksAddCtrl($scope, Utils, BlocksRepository, BlockService) {\n    $scope.ckOptions = Utils.ckOptions;\n    $scope.isEdited = false;\n    // default values\n    $scope.newBlock = {\n        isActive: true,\n        weight: 0,\n        translations: {\n            langCode: $scope.currentLang.code\n        }\n    };\n\n    // if block types are set\n    if (typeof $scope.blockTypes !== 'undefined') {\n        $scope.newBlock.type = $scope.blockTypes[0];\n    }\n\n    // if block regions are set\n    if (typeof $scope.blockRegions !== 'undefined') {\n        $scope.newBlock.region = $scope.blockRegions[0];\n    }\n\n    // block POST action\n    $scope.save = function(newBlock) {\n        newBlock = BlockService.prepareRequestData(newBlock);\n        BlocksRepository.create(newBlock).then(function(response) {\n            Utils.Notifications.addSuccess('BLOCK_CREATED');\n            Utils.$state.go('blocks.list', {}, {reload: true});\n        }, function(response) {\n            Utils.Notifications.addErrors(response.data.messages);\n        });\n    };\n}\n\nBlocksAddCtrl.$inject = ['$scope', 'Utils', 'BlocksRepository', 'BlockService'];\nmodule.exports = BlocksAddCtrl;\n","'use strict';\n\nfunction BlocksEditCtrl($scope, Utils, langCode, block, BlocksRepository, BlockService) {\n    $scope.ckOptions = Utils.ckOptions;\n    $scope.isEdited = true;\n    // if block types are set\n    if (typeof block !== 'undefined') {\n        $scope.newBlock = BlocksRepository.clean(block);\n        // set active translation\n        if (typeof $scope.newBlock.translations !== 'undefined') {\n            $scope.newBlock.translations = _.find($scope.newBlock.translations, {'langCode': langCode});\n        }\n    }\n\n    // check for translations update @TODO use translations history\n    $scope.$watchCollection('newBlock.translations', function(newValue, oldValue) {\n        if (newValue !== oldValue) {\n            $scope.isTranslationChanged = true;\n        }\n    });\n\n    // block PUT action\n    $scope.save = function(newBlock) {\n        newBlock = BlockService.prepareRequestData(newBlock);\n        // update block\n        BlocksRepository.update(Utils.$stateParams.blockId, newBlock).then(function(response) {\n            // add new translation @TODO use translations history\n            if ($scope.isTranslationChanged) {\n                BlocksRepository.createTranslation(Utils.$stateParams.blockId, newBlock.translations).then(function(response) {\n                    Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n                    Utils.$state.go('blocks.list', {}, {reload: true});\n                }, function(response) {\n                    Utils.Notifications.addErrors(response.data.messages);\n                });\n            } else {\n                Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n                Utils.$state.go('blocks.list', {}, {reload: true});\n            }\n\n        }, function(response) {\n            Utils.Notifications.addErrors(response.data.messages);\n        });\n    };\n}\n\nBlocksEditCtrl.$inject = ['$scope', 'Utils', 'langCode', 'block', 'BlocksRepository', 'BlockService'];\nmodule.exports = BlocksEditCtrl;\n","'use strict';\n\nfunction BlocksListCtrl($scope, Utils, NgTableParams, BlocksRepository) {\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'region': 'desc', // initial sorting\n            'weight': 'asc'\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            $scope.requestPending = true;\n            // prepare options to be sent to api\n            var queryOptions = {};\n\n            // lang sort options\n            if (typeof $scope.transLang !== 'undefined') {\n                queryOptions.lang = $scope.transLang.code;\n            }\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting() && typeof $scope.transLang !== 'undefined') {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // get list by default\n            var promise = BlocksRepository.list(queryOptions);\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                $scope.requestPending = false;\n                params.total(response.meta.total);\n                $defer.resolve(BlocksRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\n\nBlocksListCtrl.$inject = ['$scope', 'Utils', 'NgTableParams', 'BlocksRepository'];\nmodule.exports = BlocksListCtrl;\n","'use strict';\n\nangular.module('admin.blocks', [])\n    .config([\n        '$stateProvider',\n        '$urlRouterProvider',\n        'RestangularProvider',\n        function($stateProvider, $urlRouterProvider, RestangularProvider) {\n\n            var viewPath = 'gzero/admin/views/blocks/';\n\n            // Now set up the states\n            $stateProvider\n                .state('blocks', {\n                    url: '/blocks',\n                    templateUrl: viewPath + 'index.html',\n                    abstract: true\n                })\n                // BLOCK LIST\n                .state('blocks.list', {\n                    url: '/list?page&perPage',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'list.html',\n                            controller: 'BlocksListCtrl'\n                        }\n                    }\n\n                })\n                // BLOCK ADD\n                .state('blocks.add', {\n                    url: '/add',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'form.html',\n                            controller: 'BlocksAddCtrl'\n                        }\n                    }\n                })\n                // BLOCK EDIT\n                .state('blocks.edit', {\n                    url: '/{blockId}/edit/{langCode}',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'form.html',\n                            controller: 'BlocksEditCtrl'\n                        }\n                    },\n                    resolve: {\n                        langCode: [\n                            '$state', '$stateParams', function($state, $stateParams) {\n                                return $stateParams.langCode;\n                            }\n                        ],\n                        block: [\n                            '$stateParams', 'BlocksRepository', function($stateParams, BlocksRepository) {\n                                return BlocksRepository.one($stateParams.blockId);\n                            }\n                        ]\n                    }\n                });\n        }\n    ])\n    .controller('BlocksListCtrl', require('./controllers/BlocksListCtrl'))\n    .controller('BlocksAddCtrl', require('./controllers/BlocksAddCtrl'))\n    .controller('BlocksEditCtrl', require('./controllers/BlocksEditCtrl'))\n    .service('BlockService', require('./services/BlockService.js'))\n    .factory('BlocksRepository', require('./services/BlocksRepository.js'))\n    .run([\n        'NavBar',\n        function(NavBar) {\n            NavBar.add({\n                title: 'BLOCKS', action: 'blocks.list', icon: 'fa fa-th-large'\n            });\n        }\n    ]);\n","'use strict';\n\nfunction BlockService() {\n    return {\n        prepareRequestData: function(block) {\n            // handle block filter\n            if (block.filter !== null && typeof block.filter !== 'undefined') {\n                // set empty filter values if not exists\n                if (!('+' in block.filter)) {\n                    block.filter['+'] = [];\n                }\n                if (!('-' in block.filter)) {\n                    block.filter['-'] = [];\n                }\n                // handle empty block filter\n                if (block.filter['+'].length === 0 && block.filter['-'].length === 0) {\n                    block.filter = null;\n                }\n            }\n            return block;\n        }\n    };\n}\n\nBlockService.$inject = [];\nmodule.exports = BlockService;\n","'use strict';\n\nfunction BlocksRepository(Restangular) {\n    var api = 'admin/blocks';\n    var blocks = Restangular.all(api);\n    return {\n        one: function(id, params) {\n            return Restangular.one(api, id).get(params);\n        },\n        list: function(params) {\n            return blocks.getList(params);\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        },\n        create: function(newContent) {\n            return blocks.post(newContent);\n        },\n        delete: function(id) {\n            return Restangular.one(api, id).remove();\n        },\n        update: function(categoryKey, data) {\n            return Restangular.one(api, categoryKey).customPUT(data);\n        },\n        createTranslation: function(id, newTranslation) {\n            return Restangular.one(api, id).all('translations').post(newTranslation);\n        }\n    };\n}\n\nBlocksRepository.$inject = ['Restangular'];\nmodule.exports = BlocksRepository;\n","'use strict';\n\nfunction ContentAddCtrl($scope, Utils, listParent, ContentRepository) {\n    var parentId = null;\n    $scope.contentType = Utils.$stateParams.type;\n\n    $scope.ckOptions = Utils.ckOptions;\n\n    // if parent category exists\n    if (typeof listParent !== 'undefined') {\n        $scope.listParent = listParent; // selected category\n        parentId = listParent.id;\n    }\n    // default translations lang code\n    $scope.newContent = {\n        type: Utils.$stateParams.type,\n        isActive: true,\n        translations: {\n            langCode: $scope.transLang.code\n        }\n    };\n\n    // Angular strap dropdown for save button\n    $scope.contentSaveButtonLinks = [\n        {\n            text: 'SAVE_AND_CONTINUE_EDITING',\n            click: 'addNewContent(newContent, \"content.edit.details\")'\n        },\n        {\n            text: 'SAVE_AND_ADD_ANOTHER',\n            click: 'addNewContent(newContent, \"content.add\")'\n        }\n    ];\n\n    // contents POST action\n    $scope.addNewContent = function addNewContent(newContent, redirect) {\n        newContent.parentId = parentId; // set parent category as null\n        newContent.publishedAt = new Date().toISOString().slice(0, 19).replace('T', ' '); // set publish at date\n        // if parent category exists\n        if (typeof $scope.listParent !== 'undefined') {\n            // check for route translation in selected language\n            var route = _.pluck(_.filter($scope.listParent.route.translations, 'langCode', newContent.translations.langCode), 'url');\n            if (!route.length) {\n                newContent.parentId = null; // if not found set as uncategorized\n            }\n        }\n        ContentRepository.newContent(newContent).then(function(response) {\n            var message = Utils.$stateParams.type === 'category' ? 'CATEGORY_CREATED' : 'CONTENT_CREATED';\n            Utils.Notifications.addSuccess(message);\n            // when there is custom redirect\n            if (typeof redirect !== 'undefined') {\n                var params = (redirect === 'content.edit.details') ? {\n                    contentId: response.id,\n                    langCode: newContent.translations.langCode\n                } : {type: Utils.$stateParams.type};\n\n                Utils.$state.go(redirect, params, {reload: true});\n            } else {\n                if (Utils.$stateParams.type === 'category') {\n                    // when create a category then set it as a new listParent on content list\n                    Utils.$state.go('content.list', {contentId: response.id}, {reload: true});\n                } else {\n                    // otherwise go to list without new listParent\n                    Utils.$state.go('content.list', {}, {reload: true});\n                }\n            }\n        });\n    };\n}\nContentAddCtrl.$inject = ['$scope', 'Utils', 'listParent', 'ContentRepository'];\nmodule.exports = ContentAddCtrl;\n","'use strict';\n\nfunction ContentAddTranslationCtrl($scope, $translate, Utils, content, ContentRepository) {\n    $scope.ckOptions = Utils.ckOptions;\n    $scope.isLoaded = true; // form visibility\n\n    // default translations lang code\n    $scope.newContentTranslation = {\n        contentId: Utils.$stateParams.contentId,\n        langCode: Utils.$stateParams.langCode\n    };\n\n    // if parent category exists\n    if (content.parentId !== null) {\n        $scope.isLoaded = false; // hide form\n        // get parent category\n        ContentRepository.one(content.parentId).then(function(response) {\n            var parent = ContentRepository.clean(response);\n            // check for route translation in selected language\n            var route = _.pluck(_.filter(parent.route.translations, 'langCode', $scope.newContentTranslation.langCode), 'url');\n            if (!route.length) {\n                // Redirect user to previous state or content list\n                Utils.redirectBack('content.list');\n                // \"Before adding translations to this content, you need to translate the categories in which it is located!\"\n                Utils.Notifications.addInfo('NO_PARENT_TRANSLATION_ERROR', { contentType: $translate.instant(content.type.toUpperCase()).toLowerCase() });\n            } else {\n                // parent url is translated, show form\n                $scope.isLoaded = true;\n            }\n        });\n    }\n\n    // contents POST action\n    $scope.addnewContentTranslation = function addNewContent(newContentTranslation) {\n        ContentRepository.newContentTranslation(Utils.$stateParams.contentId, newContentTranslation).then(function(response) {\n            // Redirect user to previous state or content list\n            Utils.redirectBack('content.list');\n        });\n    };\n}\nContentAddTranslationCtrl.$inject = ['$scope', '$translate', 'Utils', 'content', 'ContentRepository'];\nmodule.exports = ContentAddTranslationCtrl;\n","'use strict';\n\nfunction ContentCategoryTreeCtrl($scope, categories, openCategories, listParent, Utils) {\n    /**\n     * Function returns root id from provided path\n     *\n     * @param path to search over\n     *\n     * @returns {int} root id\n     * @throws Error\n     */\n    function getRootIdFromPath(path) {\n        if (path.length > 0) {\n            return path[0];\n        } else {\n            throw new Error('Node path is too short!');\n        }\n    }\n\n    /**\n     * Function returns specified node form provided collection\n     *\n     * @param collection the collection to iterate over\n     * @param id  node id\n     *\n     * @returns {object} returns the found element, else undefined\n     */\n    function getNodeById(collection, id) {\n        return _.find(collection, function(category) {\n            return category.id === id;\n        });\n    }\n\n    // if there are open categories in the Utils.Storage\n    if (typeof openCategories !== 'undefined') {\n        $scope.openCategories = openCategories;\n    } else {\n        $scope.openCategories = [];\n    }\n\n    // if categories tree exists\n    if (typeof categories !== 'undefined') {\n        $scope.categories = categories;\n    }\n\n    // if parent category exists\n    if (typeof listParent !== 'undefined') {\n        $scope.activeNode = listParent.id;\n\n        // merge open categories with active category path\n        $scope.openCategories = _.union($scope.openCategories, listParent.path);\n        $scope.root = getNodeById($scope.categories, getRootIdFromPath(listParent.path));\n        // save open categories in the store\n        Utils.Storage.setStorageItem({openCategories: $scope.openCategories});\n    }\n\n    // removes listParent id from Utils.Storage\n    $scope.uncategorized = function() {\n        Utils.Storage.removeStorageItem('contentListParent');\n    };\n\n    // toggles Node in categories tree and manage Utils.Storage open categories object\n    $scope.toggleNode = function(scope) {\n        scope.toggle();\n        var nodeId = _.parseInt(scope.$element[0].id, 10);\n        // if node is open\n        if (!scope.collapsed) {\n            // add to scope\n            $scope.openCategories.push(nodeId);\n        } else {\n            // remove from scope\n            $scope.openCategories = _.without($scope.openCategories, nodeId);\n        }\n        // save in the store\n        Utils.Storage.setStorageItem({openCategories: $scope.openCategories});\n    };\n\n}\nContentCategoryTreeCtrl.$inject = ['$scope', 'categories', 'openCategories', 'listParent', 'Utils'];\nmodule.exports = ContentCategoryTreeCtrl;\n","'use strict';\n\nfunction ContentDashboardCtrl($scope) {\n\n}\nContentDashboardCtrl.$inject = ['$scope'];\nmodule.exports = ContentDashboardCtrl;\n","'use strict';\n\nfunction ContentDetailsCtrl($scope, content, langCode, ContentRepository, Utils) {\n\n    $scope.Config = Utils.Config;\n\n    // TODO: get registered tabs\n    $scope.tabs = [\n        {\n            title: 'CONTENT',\n            action: 'details',\n            default: true // default active tab in settings edit mode\n        },\n        {\n            title: 'HISTORY_OF_CHANGES',\n            action: 'history'\n        }\n    ];\n\n    // if lang code exists\n    if (typeof langCode !== 'undefined') {\n        $scope.langCode = langCode;\n    }\n\n    // if content exists\n    if (typeof content !== 'undefined') {\n        $scope.content = ContentRepository.clean(content);\n        // if content parent exists\n        if (content.path.length > 1) {\n            // the last but one id number from path\n            var parentId = _.takeRight(content.path, 2)[0];\n            ContentRepository.one(parentId).then(function(response) {\n                $scope.contentParent = ContentRepository.clean(response);\n            });\n        }\n    }\n\n    $scope.saveContent = function() {\n        ContentRepository\n            .updateContent($scope.content.id, $scope.content)\n            .then(function() {\n                Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n            });\n    };\n\n}\nContentDetailsCtrl.$inject = ['$scope', 'content', 'langCode', 'ContentRepository', 'Utils'];\nmodule.exports = ContentDetailsCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentDetailsEditCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentDetailsEditCtrl($scope, Utils, content, langCode, ContentRepository) { //jshint ignore:line\n\n    /**\n     * CKEditor settings getter\n     */\n    $scope.ckOptions = Utils.ckOptions;\n\n    /**\n     * Return translation with specified lang property from translations array\n     * and fetch lang property\n     *\n     * @param translations Translations array\n     * @param langCode language code\n     * @returns Object | false\n     */\n    function getTranslationByLang(translations, langCode) {\n        var translation = translations.shift();\n\n        if(!translation){\n            return false;\n        }\n\n        if (translation.langCode === langCode) {\n            return translation;\n        } else {\n            return getTranslationByLang(translations, langCode);\n        }\n    }\n\n    /**\n     * Currently active translation object\n     *\n     * @type Object\n     */\n    $scope.activeTranslation = getTranslationByLang((content.translations.slice(0)), langCode);\n\n    /**\n     * save current active translation as new active translation\n     * and go back to details show state\n     */\n    $scope.saveTranslation = function() {\n        ContentRepository.newContentTranslation(content.id, $scope.activeTranslation).then(function() {\n            Utils.$state.go('content.show.details', {\n                contentId: content.id,\n                langCode: langCode\n            });\n            Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n        });\n    };\n\n}\nContentDetailsEditCtrl.$inject = ['$scope', 'Utils', 'content', 'langCode', 'ContentRepository'];\nmodule.exports = ContentDetailsEditCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentHistoryCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentHistoryCtrl($scope, Utils, content, langCode, ContentRepository, NgTableParams) { //jshint ignore:line\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'createdAt': 'desc' // initial sorting\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            // prepare options to be sent to api\n            var queryOptions = {\n                langCode: langCode\n            };\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting()) {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // get list by default\n            var promise = ContentRepository.translations(content.id, queryOptions);\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                params.total(response.meta.total);\n                $defer.resolve(ContentRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\n\nContentHistoryCtrl.$inject = ['$scope', 'Utils', 'content', 'langCode', 'ContentRepository', 'ngTableParams'];\nmodule.exports = ContentHistoryCtrl;\n","'use strict';\n\nfunction ContentListCtrl($scope, Utils, listParent, ContentRepository, NgTableParams) {\n    // if parent category exists\n    if (typeof listParent !== 'undefined') {\n        $scope.listParent = listParent; // selected category\n    }\n\n    // TODO: content add button links\n    $scope.contentAddButtonLinks = [\n        {\n            text: 'ADD_CONTENT',\n            href: 'content.add({ type: \"content\" })',\n            icon: 'fa fa-file-text-o'\n\n        },\n        {\n            text: 'ADD_CATEGORY',\n            href: 'content.add({ type: \"category\" })',\n            icon: 'fa fa-folder-o'\n        }\n    ];\n\n    // TODO: content list actions\n    $scope.contentListActions = [\n        {\n            text: 'VIEW',\n            url: 'publicUrl', // this will be replaced with content public url\n            icon: 'fa fa-search'\n        },\n        {\n            text: 'EDIT',\n            href: 'content.show({ contentId: record_id, langCode: lang_code })',\n            icon: 'fa fa-pencil'\n        },\n        {\n            text: 'MOVE_TO_TRASH',\n            click: 'delete', // this will be replaced with delete action\n            icon: 'fa fa-times'\n        }\n    ];\n\n    // Bind hotkeys\n    Utils.hotkeys.add({\n        combo: 'ctrl+alt+n',\n        description: Utils.$filter('translate')('ADD_CONTENT'),\n        callback: function(){\n            Utils.$state.go('content.add', {type: 'content'});\n        }\n    });\n\n    Utils.hotkeys.add({\n        combo: 'ctrl+alt+m',\n        description: Utils.$filter('translate')('ADD_CATEGORY'),\n        callback: function(){\n            Utils.$state.go('content.add', {type: 'category'});\n        }\n    });\n\n    //  ngTable configuration\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'translations.title': 'asc' // initial sorting\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            $scope.requestPending = true;\n            // prepare options to be sent to api\n            var queryOptions = {\n                lang: $scope.transLang.code,\n                type: 'content'\n            };\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting()) {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // Utils.$stateParams - filters without contentId\n            var filters = _.omit(Utils.$stateParams, 'contentId');\n            queryOptions = _.merge(queryOptions, filters);\n            $scope.activeFilter = filters;\n\n            // list promise\n            var promise = {};\n\n            // if parent category is not selected\n            if (typeof listParent === 'undefined') {\n                // get uncategorized\n                queryOptions.level = 0;\n                promise = ContentRepository.list(queryOptions);\n            } else {\n                // get children's\n                promise = ContentRepository.children(listParent.id, queryOptions);\n            }\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                $scope.requestPending = false;\n                params.total(response.meta.total);\n                $defer.resolve(ContentRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\nContentListCtrl.$inject = ['$scope', 'Utils', 'listParent', 'ContentRepository', 'ngTableParams'];\nmodule.exports = ContentListCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentTrashcanCtrl($scope, ContentRepository, NgTableParams, Utils) {\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'id': 'desc' // initial sorting\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            $scope.requestPending = true;\n            // prepare options to be sent to api\n            var queryOptions = {\n                lang: $scope.transLang.code\n            };\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting()) {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // Utils.$stateParams filters\n            queryOptions = _.merge(queryOptions, Utils.$stateParams);\n            $scope.activeFilter = Utils.$stateParams;\n\n            // get list by default\n            var promise = ContentRepository.deleted(queryOptions);\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                $scope.requestPending = false;\n                params.total(response.meta.total);\n                $defer.resolve(ContentRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\n\nContentTrashcanCtrl.$inject = ['$scope', 'ContentRepository', 'ngTableParams', 'Utils'];\nmodule.exports = ContentTrashcanCtrl;\n","'use strict';\n\nfunction ContentDeleteCtrl($scope, Utils, $modal, ContentRepository) { // jshint ignore:line\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Delete modal\n    vm.deleteModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'contentDeleteModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be removed, it is saved in the scope\n         * @param contentType content type\n         * @param forceDelete use forceDelete\n         */\n        showModal: function(contentId, contentType, forceDelete) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.contentType = contentType;\n            vm.forceDelete = forceDelete;\n            if (vm.forceDelete === true) {\n                self.initModal('PLEASE_CONFIRM', 'DELETE_CONTENT_QUESTION');\n            } else {\n                self.initModal('PLEASE_CONFIRM', 'MOVE_CONTENT_TO_TRASH_QUESTION');\n            }\n\n            // Bind hotkeys\n            Utils.hotkeys.add({\n                combo: 'enter',\n                description: Utils.$filter('translate')(\n                    vm.forceDelete ? 'CONFIRM_DELETE' : 'CONFIRM_MOVE_TO_TRASH'\n                ),\n                callback: function(){\n                    self.deleteContent();\n                }\n            });\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            Utils.hotkeys.del('enter');\n            self.modal.hide();\n        },\n        /**\n         * Function performs the RestAngular DELETE action for content id in scope\n         *\n         */\n        deleteContent: function() {\n            var self = this;\n            ContentRepository.deleteContent(vm.contentId, vm.forceDelete).then(function() {\n                self.closeModal();\n                // refresh current state\n                if (vm.contentType === 'category') {\n                    // removed category\n                    Utils.Storage.removeStorageItem('contentListParent');\n                    Utils.$state.go('content.list', {contentId: null}, {reload: true, inherit: false});\n                    Utils.Notifications.addSuccess('CATEGORY_HAS_BEEN_DELETED');\n                } else {\n                    // removed content\n                    if (Utils.$state.$current.name === 'content.show.details') {\n                        Utils.$state.go('content.trashcan', {contentId: null}, {reload: true, inherit: false});\n                    } else {\n                        Utils.$state.go(Utils.$state.current, {}, {reload: true});\n                    }\n                    Utils.Notifications.addSuccess(\n                        vm.forceDelete ? 'CONTENT_HAS_BEEN_DELETED' : 'CONTENT_HAS_BEEN_MOVED_TO_TRASH'\n                    );\n                }\n            });\n        }\n    };\n\n}\nContentDeleteCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = ContentDeleteCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentPublishedAtEditCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentPublishedAtEditCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Route modal\n    vm.editModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         */\n        initModal: function(title) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                templateUrl: viewPath + 'contentEditPublishedAtModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be updated, it is saved in the scope\n         * @param contentPublishedAt content published at date\n         */\n        showModal: function(contentId, contentPublishedAt) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.contentPublishedAt = contentPublishedAt;\n            self.initModal('EDIT');\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n        /**\n         * Function performs the RestAngular customPUT function for content in scope\n         *\n         */\n        saveContentPublishedAt: function() {\n            var self = this;\n            var dateTime = moment($scope.vm.contentPublishedAt).format('YYYY-MM-DD HH:mm:ss');\n            var content = {\n                publishedAt: dateTime\n            };\n\n            ContentRepository.updateContent(vm.contentId, content).then(function(response) {\n                self.closeModal();\n                Utils.$state.go(Utils.$state.current, {}, {reload: true});\n            });\n\n        }\n    };\n}\nContentPublishedAtEditCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = ContentPublishedAtEditCtrl;\n","'use strict';\n\nfunction ContentRestoreCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Restore modal\n    vm.restoreModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'contentRestoreModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be restored, it is saved in the scope\n         */\n        showModal: function(contentId) {\n            var self = this;\n            vm.contentId = contentId;\n            self.initModal('PLEASE_CONFIRM', 'RESTORE_CONTENT_QUESTION');\n\n            // Bind hotkeys\n            Utils.hotkeys.add({\n                combo: 'enter',\n                description: Utils.$filter('translate')('CONFIRM_CONTENT_RESTORE'),\n                callback: function() {\n                    self.restoreContent();\n                }\n            });\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n            Utils.hotkeys.del('enter');\n        },\n        /**\n         * Function restore softDeleted content\n         * @param editAfterRestore if true redirect to edit state after restore\n         */\n        restoreContent: function(editAfterRestore) {\n            var self = this;\n            ContentRepository.restoreContent(vm.contentId).then(function(response) {\n                self.closeModal();\n                if (editAfterRestore) {\n                    Utils.$state.go('content.edit.details', {contentId: vm.contentId, langCode: $scope.currentLang.code});\n                } else {\n                    Utils.$state.go(Utils.$state.current, {}, {reload: true});\n                }\n                Utils.Notifications.addSuccess('CONTENT_HAS_BEEN_RESTORED');\n            });\n        }\n    };\n}\nContentRestoreCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository', 'Notifications'];\nmodule.exports = ContentRestoreCtrl;\n","'use strict';\n\nfunction ContentRouteCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Route modal\n    vm.editRouteModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         */\n        initModal: function(title) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                templateUrl: viewPath + 'contentEditRouteModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be removed, it is saved in the scope\n         * @param contentRoute content route\n         * @param langCode route translation language\n         */\n        showModal: function(contentId, contentRoute, langCode) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.contentRoute = contentRoute.substr(contentRoute.lastIndexOf('/') + 1); // last url segment\n            vm.oldRoute = vm.contentRoute;\n            vm.langCode = langCode;\n            self.initModal('EDIT');\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n        /**\n         * Function performs the RestAngular DELETE action for content id in scope\n         *\n         */\n        saveContentRoute: function() {\n            var self = this;\n            var newRoute = {\n                langCode: vm.langCode,\n                url: vm.contentRoute\n            };\n            // only when route has been changed\n            if (vm.contentRoute !== vm.oldRoute) {\n                ContentRepository.newContentRoute(vm.contentId, newRoute).then(function(response) {\n                    self.closeModal();\n                    Utils.$state.go(Utils.$state.current, {}, {reload: true});\n                });\n            } else {\n                self.closeModal();\n            }\n        }\n    };\n}\nContentRouteCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = ContentRouteCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentTogglePropertyCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentTogglePropertyCtrl(Utils, ContentRepository) {\n    var vm = this;\n\n    vm.toggleProperty = {\n\n        toggleProperty: function(contentId, propertyName, currentValue) {\n            var newValue = !currentValue;\n            var content = {};\n            content[propertyName] = newValue;\n            ContentRepository.updateContent(contentId, content).then(\n                function() {\n                    Utils.$state.reload();\n                }\n            );\n        }\n\n    };\n\n}\nContentTogglePropertyCtrl.$inject = ['Utils', 'ContentRepository'];\nmodule.exports = ContentTogglePropertyCtrl;\n","'use strict';\n\nfunction ContentRouteCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Route modal\n    vm.editModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         */\n        initModal: function(title) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                templateUrl: viewPath + 'contentEditWeightModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id to be updated, it is saved in the scope\n         * @param contentWeight content weight\n         */\n        showModal: function(contentId, contentWeight) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.contentWeight = contentWeight;\n            self.initModal('EDIT');\n        },\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n        /**\n         * Function performs the RestAngular customPUT function for content in scope\n         *\n         */\n        saveContentWeight: function() {\n            var self = this;\n            var content = {\n                weight: $scope.vm.contentWeight\n            };\n\n            ContentRepository.updateContent(vm.contentId, content).then(function(response) {\n                self.closeModal();\n                Utils.$state.go(Utils.$state.current, {}, {reload: true});\n            });\n\n        }\n    };\n}\nContentRouteCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = ContentRouteCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class SetTranslationAsActive\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction SetTranslationAsActiveCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Set as active modal\n    vm.setAsActiveModal = {\n\n        /**\n         * Return translation with specified id property from translations array\n         * and fetch lang property\n         *\n         * @param translations Translations array\n         * @param id translation id\n         * @returns Object\n         */\n        getTranslationById: function(translations, id) {\n            var self = this;\n            var translation = translations.shift();\n            if (parseInt(translation.id) === parseInt(id)) {\n                translation.langCode = translation.lang; // Couse we change name of this property in ContentTranslationTransformer\n                return translation;\n            } else {\n                return self.getTranslationById(translations, id);\n            }\n        },\n\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'setTranslationAsActiveModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param translationId id of selected translation\n         * @param contentId current active content id\n         */\n        showModal: function(translationId, contentId) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.translations = $scope.tableParams.data.slice(0);\n            vm.translationId = translationId;\n            vm.selectedTranslation = self.getTranslationById(vm.translations, vm.translationId);\n            self.initModal('PLEASE_CONFIRM', 'SET_TRANSLATION_AS_ACTIVE_QUESTION');\n        },\n\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n\n        /**\n         * Function performs the RestAngular action and set selected translation\n         * as a new active translation\n         */\n        setAsActive: function() {\n            var self = this;\n            ContentRepository.newContentTranslation(vm.contentId, vm.selectedTranslation).then(function() {\n                Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n                Utils.$state.reload();\n                self.closeModal();\n            });\n        }\n    };\n}\nSetTranslationAsActiveCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = SetTranslationAsActiveCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class DeleteTranslationCtrl\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction DeleteTranslationCtrl($scope, Utils, $modal, ContentRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/content/directives/';\n    // Delete modal\n    vm.deleteModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'translationDeleteModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param contentId content id\n         * @param translationId translation id\n         */\n        showModal: function(contentId, translationId) {\n            var self = this;\n            vm.contentId = contentId;\n            vm.translationId = translationId;\n            self.initModal('PLEASE_CONFIRM', 'DELETE_TRANSLATION_QUESTION');\n        },\n\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n\n        /**\n         * Function performs the RestAngular DELETE action for translation id in scope\n         *\n         */\n        deleteContent: function() {\n            var self = this;\n            self.closeModal();\n            ContentRepository.deleteTranslation(vm.contentId, vm.translationId).then(function() {\n                Utils.Notifications.addSuccess('CONTENT_HAS_BEEN_DELETED');\n                Utils.$state.reload();\n            });\n        }\n    };\n}\nDeleteTranslationCtrl.$inject = ['$scope', 'Utils', '$modal', 'ContentRepository'];\nmodule.exports = DeleteTranslationCtrl;\n","'use strict';\n\nfunction ContentActionsDropdown($dropdown) {\n    return {\n        scope: {contentActionsDropdown: '=', record: '=', lang: '='},\n        controller: 'ContentDeleteCtrl',\n        controllerAs: 'vm',\n        restrict: 'A',\n        link: function(scope, element, attrs, ContentDeleteCtrl) {\n            var dropdown = $dropdown(element, {\n                templateUrl: 'gzero/admin/views/content/directives/contentActionsDropdown.tpl.html',\n                animation: 'am-flip-x',\n                placement: 'bottom-right'\n            });\n\n            element.on('click', function() {\n                // TODO better params replacement and functions handling\n                _.mapValues(scope.contentActionsDropdown, function(n) {\n                    if (typeof n.href !== 'undefined') {\n                        // Record id\n                        if (n.href.indexOf('record_id') !== -1) {\n                            n.href = n.href.replace('record_id', scope.record.id);\n                        }\n                        // Lang code\n                        if (n.href.indexOf('lang_code') !== -1) {\n                            n.href = n.href.replace('lang_code', '\"' + scope.lang.code + '\"');\n                        }\n                    }\n                    return n;\n                });\n\n                dropdown.$scope.content = scope.contentActionsDropdown;\n                dropdown.$scope.record = scope.record; // Pass record to the view\n                dropdown.$scope.lang = scope.lang; // Pass lang to the view\n                dropdown.$scope.deleteModal = ContentDeleteCtrl.deleteModal; // Pass delete action to the view\n            });\n        }\n    };\n}\n\nContentActionsDropdown.$inject = [];\nmodule.exports = ContentActionsDropdown;\n","'use strict';\n\nfunction ContentDeleteButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentDeleteCtrl',\n        controllerAs: 'vm',\n        bindToController: true,// because the scope is isolated\n        link: function(scope, element, attrs, ContentDeleteCtrl) {\n            element.on('click', function() {\n                // Show a delete modal from a controller\n                ContentDeleteCtrl.deleteModal.showModal(attrs.id, attrs.type, attrs.force === 'true');\n            });\n        }\n    };\n}\n\nContentDeleteButton.$inject = [];\nmodule.exports = ContentDeleteButton;\n","'use strict';\n\nfunction ContentEditRouteButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentRouteCtrl',\n        controllerAs: 'vm',\n        bindToController: true,// because the scope is isolated\n        link: function(scope, element, attrs, ContentRouteCtrl) {\n            element.on('click', function() {\n                // Show a delete modal from a controller\n                ContentRouteCtrl.editRouteModal.showModal(attrs.id, attrs.route, attrs.lang);\n            });\n        }\n    };\n}\n\nContentEditRouteButton.$inject = [];\nmodule.exports = ContentEditRouteButton;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentPublishedAtEditButton\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentPublishedAtEditButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentPublishedAtEditCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, ContentPublishedAtEditCtrl) {\n            element.on('click', function() {\n                ContentPublishedAtEditCtrl.editModal.showModal(\n                    attrs.contentId,\n                    attrs.contentPublishedAt\n                );\n            });\n        }\n    };\n}\n\nContentPublishedAtEditButton.$inject = [];\nmodule.exports = ContentPublishedAtEditButton;\n","'use strict';\n\nfunction ContentRestoreButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentRestoreCtrl',\n        controllerAs: 'vm',\n        bindToController: true,// because the scope is isolated\n        link: function(scope, element, attrs, ContentRestoreCtrl) {\n            element.on('click', function() {\n                // Show a delete modal from a controller\n                ContentRestoreCtrl.restoreModal.showModal(attrs.id);\n            });\n        }\n    };\n}\n\nContentRestoreButton.$inject = [];\nmodule.exports = ContentRestoreButton;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentTogglePropertyButton\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentTogglePropertyButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentTogglePropertyCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, ContentTogglePropertyCtrl) {\n            element.on('click', function() {\n                ContentTogglePropertyCtrl.toggleProperty.toggleProperty(\n                    attrs.contentId,\n                    attrs.propertyName,\n                    String(attrs.value) !== 'false'\n                );\n            });\n        }\n    };\n}\n\nContentTogglePropertyButton.$inject = [];\nmodule.exports = ContentTogglePropertyButton;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class ContentWeightEditButton\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction ContentWeightEditButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'ContentWeightEditCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, ContentWeightEditCtrl) {\n            element.on('click', function() {\n                ContentWeightEditCtrl.editModal.showModal(\n                    attrs.contentId,\n                    parseInt(attrs.contentWeight)\n                );\n            });\n        }\n    };\n}\n\nContentWeightEditButton.$inject = [];\nmodule.exports = ContentWeightEditButton;\n","'use strict';\n\nfunction SetTranslationAsActiveButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'SetTranslationAsActiveCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, SetTranslationAsActiveCtrl) {\n            element.on('click', function() {\n                SetTranslationAsActiveCtrl.setAsActiveModal.showModal(attrs.id, attrs.content);\n            });\n        }\n    };\n}\n\nSetTranslationAsActiveButton.$inject = [];\nmodule.exports = SetTranslationAsActiveButton;\n","'use strict';\n\nfunction TranslationDeleteButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'TranslationDeleteCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, TranslationDeleteCtrl) {\n            element.on('click', function() {\n                TranslationDeleteCtrl.deleteModal.showModal(attrs.content, attrs.translationId);\n            });\n        }\n    };\n}\n\nTranslationDeleteButton.$inject = [];\nmodule.exports = TranslationDeleteButton;\n","'use strict';\n\nangular.module('admin.content', ['ngTable', 'ui.tree'])\n    .config([\n        '$stateProvider',\n        function($stateProvider) {\n            var viewPath = 'gzero/admin/views/content/';\n            // Now set up the states\n            $stateProvider\n                .state('content', {\n                    url: '/content',\n                    controller: 'ContentDashboardCtrl',\n                    templateUrl: viewPath + 'index.html',\n                    resolve: {\n                        categories: [\n                            'ContentRepository', function(ContentRepository) {\n                                // get tree of all categories\n                                return ContentRepository.tree({\n                                    type: 'category'\n                                });\n                            }\n                        ]\n                    }\n                })\n                // CONTENT LIST\n                .state('content.list', {\n                    url: '/list/{contentId}?isActive&page&perPage',\n                    resolve: {\n                        listParent: [\n                            '$stateParams', 'Utils', 'ContentRepository', function($stateParams, Utils, ContentRepository) {\n                                // if state param has category id\n                                if ($stateParams.contentId) {\n                                    Utils.Storage.setStorageItem({contentListParent: $stateParams.contentId});\n                                    return ContentRepository.one($stateParams.contentId);\n                                } else {\n                                    // if storage has category id\n                                    if (Utils.Storage.getStorageItem('contentListParent')) {\n                                        $stateParams.contentId = Utils.Storage.getStorageItem('contentListParent');\n                                        return ContentRepository.one(Utils.Storage.getStorageItem('contentListParent'));\n                                    }\n                                }\n                            }\n                        ],\n                        openCategories: [\n                            // get open categories from Storage\n                            'Utils', function(Utils) {\n                                return Utils.Storage.getStorageItem('openCategories');\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'list.html',\n                            controller: 'ContentListCtrl'\n                        },\n                        'quickSidebarLeft': {\n                            templateUrl: viewPath + 'categories.html',\n                            controller: 'ContentCategoryTreeCtrl'\n                        }\n                    }\n                })\n                // CONTENT SHOW\n                .state('content.show', {\n                    url: '/{contentId}/show/{langCode}',\n                    abstract: [\n                        // redirect to active tab on language change\n                        '$state', function($state) {\n                            return _.startsWith($state.current.name, 'content.show') ? $state.current.name : '.details';\n                        }\n                    ],\n                    resolve: {\n                        langCode: [\n                            '$state', '$stateParams', function($state, $stateParams) {\n                                return $stateParams.langCode;\n                            }\n                        ],\n                        content: [\n                            '$stateParams', 'ContentRepository', function($stateParams, ContentRepository) {\n                                return ContentRepository.one($stateParams.contentId);\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'show.html',\n                            controller: 'ContentDetailsCtrl'\n                        },\n                        'langSwitcher@content.show': {\n                            templateUrl: viewPath + 'details/langSwitcher.html'\n\n                        },\n                        'contentSettings@content.show': {\n                            templateUrl: viewPath + 'details/settings.html'\n\n                        }\n                    }\n                })\n                .state('content.show.details', {\n                    url: '/details',\n                    deepStateRedirect: true,\n                    sticky: true,\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'details/tabs/details.html'\n                        }\n                    }\n                })\n                .state('content.show.history', {\n                    url: '/history?isActive&type&page&perPage',\n                    deepStateRedirect: true,\n                    sticky: true,\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'details/tabs/history.html',\n                            controller: 'ContentHistoryCtrl'\n                        }\n                    }\n                })\n                // CONTENT EDIT\n                .state('content.edit', {\n                    url: '/{contentId}/edit/{langCode}',\n                    abstract: '.index',\n                    resolve: {\n                        langCode: [\n                            '$state', '$stateParams', function($state, $stateParams) {\n                                return $stateParams.langCode;\n                            }\n                        ],\n                        content: [\n                            '$stateParams', 'ContentRepository', function($stateParams, ContentRepository) {\n                                return ContentRepository.one($stateParams.contentId);\n                            }\n                        ]\n                    },\n                    data: {\n                        showMask: true // enter edit mode\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'show.html',\n                            controller: 'ContentDetailsCtrl'\n                        },\n                        'langSwitcher@content.edit': {\n                            templateUrl: viewPath + 'details/langSwitcher.html'\n\n                        },\n                        'contentSettings@content.edit': {\n                            templateUrl: viewPath + 'details/settings.html'\n\n                        }\n                    }\n                })\n                .state('content.edit.index', {\n                    url: '',\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'details/tabs/details.html'\n                        },\n                        'contentSettings': {\n                            templateUrl: viewPath + 'details/settingsEdit.html'\n                        }\n                    }\n                })\n                .state('content.edit.details', {\n                    url: '/details',\n                    views: {\n                        'contentTab': {\n                            controller: 'ContentDetailsEditCtrl',\n                            templateUrl: viewPath + 'details/tabs/detailsEdit.html'\n                        }\n                    }\n                })\n                .state('content.edit.history', {\n                    url: '/history',\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'details/tabs/detailsEdit.html'\n                        }\n                    }\n                })\n                // CONTENT TRASHCAN\n                .state('content.trashcan', {\n                    url: '/trashcan?isActive&type&page&perPage',\n                    resolve: {\n                        listParent: [\n                            function() {\n                                return undefined;\n                            }\n                        ],\n                        openCategories: [\n                            // get open categories from Storage\n                            'Storage', function(Storage) {\n                                return Storage.getStorageItem('openCategories');\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'trashcan.html',\n                            controller: 'ContentTrashcanCtrl'\n                        },\n                        'quickSidebarLeft': {\n                            templateUrl: viewPath + 'categories.html',\n                            controller: 'ContentCategoryTreeCtrl'\n                        }\n                    }\n                })\n                // CONTENT ADD\n                .state('content.add', {\n                    url: '/add/{type}',\n                    resolve: {\n                        listParent: [\n                            'Utils', 'ContentRepository', function(Utils, ContentRepository) {\n                                // if storage has category id\n                                if (Utils.Storage.getStorageItem('contentListParent')) {\n                                    return ContentRepository.one(Utils.Storage.getStorageItem('contentListParent'));\n                                }\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'add.html',\n                            controller: 'ContentAddCtrl'\n                        }\n                    }\n                })\n                // CONTENT ADD TRANSLATION\n                .state('content.addTranslation', {\n                    url: '/{contentId}/add-translation/{langCode}',\n                    resolve: {\n                        content: [\n                            '$stateParams', 'ContentRepository', function($stateParams, ContentRepository) {\n                                return ContentRepository.one($stateParams.contentId);\n                            }\n                        ]\n                    },\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'addTranslation.html',\n                            controller: 'ContentAddTranslationCtrl'\n                        }\n                    }\n                });\n        }\n    ])\n    .controller('ContentAddCtrl', require('./controllers/ContentAddCtrl'))\n    .controller('ContentDeleteCtrl', require('./controllers/directives/ContentDeleteCtrl'))\n    .controller('ContentRestoreCtrl', require('./controllers/directives/ContentRestoreCtrl'))\n    .controller('ContentCategoryTreeCtrl', require('./controllers/ContentCategoryTreeCtrl'))\n    .controller('ContentDashboardCtrl', require('./controllers/ContentDashboardCtrl'))\n    .controller('ContentDetailsCtrl', require('./controllers/ContentDetailsCtrl'))\n    .controller('ContentDetailsEditCtrl', require('./controllers/ContentDetailsEditCtrl'))\n    .controller('ContentHistoryCtrl', require('./controllers/ContentHistoryCtrl'))\n    .controller('ContentListCtrl', require('./controllers/ContentListCtrl'))\n    .controller('ContentTrashcanCtrl', require('./controllers/ContentTrashcanCtrl'))\n    .controller('ContentAddTranslationCtrl', require('./controllers/ContentAddTranslationCtrl'))\n    .controller('ContentRouteCtrl', require('./controllers/directives/ContentRouteCtrl'))\n    .controller('SetTranslationAsActiveCtrl', require('./controllers/directives/SetTranslationAsActiveCtrl'))\n    .controller('TranslationDeleteCtrl', require('./controllers/directives/TranslationDeleteCtrl'))\n    .controller('ContentTogglePropertyCtrl', require('./controllers/directives/ContentTogglePropertyCtrl'))\n    .controller('ContentWeightEditCtrl', require('./controllers/directives/ContentWeightEditCtrl'))\n    .controller('ContentPublishedAtEditCtrl', require('./controllers/directives/ContentPublishedAtEditCtrl'))\n    .factory('ContentRepository', require('./services/ContentRepository.js'))\n    .directive('contentDeleteButton', require('./directives/ContentDeleteButton.js'))\n    .directive('contentRestoreButton', require('./directives/ContentRestoreButton.js'))\n    .directive('contentEditRouteButton', require('./directives/ContentEditRouteButton.js'))\n    .directive('setTranslationAsActiveButton', require('./directives/SetTranslationAsActiveButton.js'))\n    .directive('translationDeleteButton', require('./directives/TranslationDeleteButton.js'))\n    .directive('contentTogglePropertyButton', require('./directives/ContentTogglePropertyButton.js'))\n    .directive('contentPublishedAtEditButton', require('./directives/ContentPublishedAtEditButton.js'))\n    .directive('contentActionsDropdown', ['$dropdown', require('./directives/ContentActionsDropdown.js')])\n    .directive('contentWeightEditButton', ['$dropdown', require('./directives/ContentWeightEditButton.js')])\n    .run([\n        'NavBar',\n        function(NavBar) {\n            NavBar.add(\n                {\n                    title: 'CONTENT',\n                    action: 'content.list',\n                    icon: 'fa fa-file-text-o'\n                }\n            );\n            //NavBar.addLastChild(\n            //    'CONTENT',\n            //    {\n            //        title: 'ALL_CONTENTS',\n            //        action: 'content.list',\n            //        icon: 'fa fa-th'\n            //    }\n            //);\n            //NavBar.addLastChild(\n            //    'CONTENT',\n            //    {\n            //        title: 'ADD_CONTENT',\n            //        action: 'content.add({ type: \"content\" })',\n            //        icon: 'fa fa-file-text-o'\n            //    }\n            //);\n            //NavBar.addLastChild(\n            //    'CONTENT',\n            //    {\n            //        title: 'ADD_CATEGORY',\n            //        action: 'content.add({ type: \"category\" })',\n            //        icon: 'fa fa-file-text'\n            //    }\n            //);\n        }\n    ]);\n","'use strict';\n\nfunction ContentRepository(Restangular) {\n    var api = 'admin/contents';\n    var contents = Restangular.all(api);\n    return {\n        one: function(id, params) {\n            return Restangular.one(api, id).get(params);\n        },\n        tree: function(params) {\n            return Restangular.one(api).getList('tree', params);\n        },\n        list: function(params) {\n            return contents.getList(params);\n        },\n        deleted: function(params) {\n            return Restangular.one(api).getList('deleted', params);\n        },\n        children: function(id, params) {\n            return Restangular.one(api, id).getList('children', params);\n        },\n        newContent: function(newContent) {\n            return contents.post(newContent);\n        },\n        updateContent: function(id, content) {\n            return Restangular.one(api, id).customPUT(content);\n        },\n        newContentTranslation: function(id, newTranslation) {\n            return Restangular.one(api, id).all('translations').post(newTranslation);\n        },\n        newContentRoute: function(id, newRoute) {\n            return Restangular.one(api, id).all('route').post(newRoute);\n        },\n        translations: function(id, params) {\n            return Restangular.one(api, id).all('translations').getList(params);\n        },\n        deleteTranslation: function(contentId, translationId) {\n            return Restangular.one(api, contentId).one('translations', translationId).remove();\n        },\n        deleteContent: function(id, forceDelete) {\n            return Restangular.one(api, id).one(forceDelete).remove();\n        },\n        restoreContent: function(id) {\n            return Restangular.one(api + '/restore', id).put();\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        }\n    };\n}\n\nContentRepository.$inject = ['Restangular'];\nmodule.exports = ContentRepository;\n","'use strict';\n\nfunction CoreCtrl($scope, Utils, Translations, NavBar, TopNavBar) {\n    // get translations languages\n    Translations.getTranslations().then(function(response) {\n        $scope.langs = response.langs;\n        $scope.currentLang = $scope.transLang = response.currentLang;\n        // set CKEditor language\n        Utils.ckOptions.setEditorOption({language: $scope.currentLang.code});\n    });\n\n    // admin panel language\n    $scope.selectAdminLang = function() {\n        Translations.selectAdminLang($scope.currentLang);\n        // set CKEditor language\n        Utils.ckOptions.setEditorOption({language: $scope.currentLang.code});\n    };\n\n    // translations language\n    $scope.selectLanguage = function(lang) {\n        $scope.transLang = lang;\n    };\n\n    // refresh current state\n    $scope.refreshCurrentState = function() {\n        Utils.$state.go(Utils.$state.current, {}, {reload: true});\n    };\n\n    $scope.navBar = NavBar.getItems();\n    $scope.topNavBar = TopNavBar.getItems();\n    // if content types are set\n    if (typeof  Utils.Config.contentTypes !== 'undefined') {\n        $scope.contentTypes = Utils.Config.contentTypes;\n    }\n    // if block types are set\n    if (typeof  Utils.Config.blockTypes !== 'undefined') {\n        $scope.blockTypes = Utils.Config.blockTypes;\n    }\n    // if block regions are set\n    if (typeof  Utils.Config.blockRegions !== 'undefined') {\n        // add disabled region and pass to view\n        $scope.blockRegions = _.union([null], Utils.Config.blockRegions);\n    }\n    // Off canvas sidebar\n    $scope.showSidebar = false;\n    // content translations language switcher\n    $scope.showTransLangSwitcher = false;\n    // admin language switcher\n    $scope.showAdminLangSwitcher = true;\n    // pass state to view\n    $scope.$state = Utils.$state;\n\n    // check for edit state\n    $scope.$on('$stateChangeStart', function(event, toState) {\n        if (typeof toState.data !== 'undefined') {\n            if (toState.name !== 'content.edit.index') {\n                $scope.editStateName = toState.name;\n            }\n            $scope.showMask = toState.data.showMask;\n        } else {\n            $scope.editStateName = null;\n            $scope.showMask = false;\n        }\n    });\n\n    // if there is langCode param validate it\n    $scope.$on('$stateChangeSuccess', function() {\n        // set content translations language switcher\n        $scope.showTransLangSwitcher = Utils.$state.includes('content.list') || Utils.$state.includes('content.trashcan') || Utils.$state.includes('blocks.list');\n        // disable admin language switcher\n        $scope.showAdminLangSwitcher = Utils.$state.includes('content.add') || Utils.$state.includes('content.edit') || Utils.$state.includes('content.addTranslation');\n        if (Utils.$stateParams.hasOwnProperty('langCode')) {\n            Translations.checkIfLanguageIsAvailable(Utils.$stateParams.langCode);\n        }\n    });\n}\n\nCoreCtrl.$inject = ['$scope', 'Utils', 'Translations', 'NavBar', 'TopNavBar'];\nmodule.exports = CoreCtrl;\n","'use strict';\n\nfunction StatesDropdown($dropdown) {\n    return {\n        scope: {statesDropdown: '='},\n        restrict: 'A',\n        link: function(scope, element, attrs) {\n            var dropdown = $dropdown(element, {\n                templateUrl: 'gzero/admin/views/core/directives/statesDropdown.tpl.html',\n                animation: 'am-flip-x',\n                placement: 'bottom-right'\n            });\n\n            element.on('click', function() {\n                dropdown.$scope.content = scope.statesDropdown;\n            });\n        }\n    };\n}\n\nStatesDropdown.$inject = [];\nmodule.exports = StatesDropdown;\n","angular.module('CoreFilters', [])\n    /**\n     * Filter returns translatable string based on provided language code\n     *\n     * @param langCode  language code\n     *\n     * @returns {string} translatable string\n     */\n    .filter('langName', function() {\n        'use strict';\n        return function(langCode) {\n            return 'LANG_NAME_' + angular.uppercase(langCode);\n        };\n    })\n    /**\n     * Filter returns the translation in provided language\n     *\n     * @param translations the collection to iterate over\n     * @param langCode  language code\n     * @param field  field name\n     *\n     * @returns {object} translation field\n     */\n    .filter('getTranslation', function() {\n        'use strict';\n        return function(translations, langCode, field) {\n            var currentTranslation = _.filter(translations, function(translation) {\n                return translation.langCode === langCode;\n            }).shift();\n            if (_.has(currentTranslation, field)) {\n                return currentTranslation[field];\n            } else {\n                return null;\n            }\n        };\n    })\n    /**\n     * Filter returns the option value in provided language\n     *\n     * @param values the collection to iterate over\n     * @param langCode  language code\n     *\n     * @returns {object} value field\n     */\n    .filter('getOptionValue', function() {\n        'use strict';\n        return function(values, langCode) {\n            return _.filter(values, function(value, code) {\n                return code === langCode;\n            }).shift();\n        };\n    })\n    /**\n     * Filter checks if specified node exists in provided path\n     *\n     * @param path the node path to iterate over\n     * @param id  node id\n     *\n     * @returns {bool} true or false\n     */\n    .filter('nodeInPath', function() {\n        'use strict';\n        return function(path, id) {\n            // if path exists and not empty\n            if (typeof path !== 'undefined' && path.length > 0) {\n                return path.indexOf(id) > -1;\n            } else {\n                return false;\n            }\n        };\n    })\n\n    /**\n     * This filter lets you mark HTML as “safe” for angular to use and show on a page.\n     * Otherwise, angular would just show the HTML as plain text.\n     */\n    .filter('trustAsHtml', function($sce) {\n        'use strict';\n        return $sce.trustAsHtml;\n    })\n\n    /**\n     * Parse ISO 8601 date to specified format\n     * @param format string expected date format\n     */\n    .filter('formatDate', function($filter) {\n        'use strict';\n        return function(dateSTR, format) {\n            var d = Date.parse(dateSTR);\n            if (!format) {\n                format = 'yyyy-MM-dd hh:mm:ss';\n            }\n            return $filter('date')(d, format);\n        };\n    })\n\n    /**\n     * Remove html tags, and trim string to given length without breaking words\n     * @param len expected length\n     */\n    .filter('stripTagsAndTrim', function() {\n        'use strict';\n        return function(str, len) {\n            try {\n                str = str.replace(/<\\/?[^>]+(>|$)/g, '').substr(0, len);\n                str = str.substr(0, Math.min(str.length, str.lastIndexOf(' ')));\n                return str;\n            } catch (e) {\n                return '';\n            }\n        };\n    });\n","'use strict';\n\nrequire('./filters/CoreFilters.js');\n\nangular.module('admin.core', ['CoreFilters'])\n    .controller('CoreCtrl', require('./controllers/CoreCtrl.js'))\n    .factory('LangRepository', require('./services/LangRepository.js'))\n    .factory('NavBar', require('./services/NavBar.js'))\n    .factory('TopNavBar', require('./services/TopNavBar.js'))\n    .factory('Notifications', require('../lib/Notifications.js'))\n    .factory('ckOptions', require('../lib/ckOptions.js'))\n    .factory('Translations', require('./services/Translations.js'))\n    .factory('Storage', require('../lib/Storage.js'))\n    .factory('Utils', require('./services/Utils.js'))\n    .directive('statesDropdown', ['$dropdown', require('./directives/StatesDropdown.js')])\n    .run([\n        'TopNavBar',\n        'UserRepository',\n        'Utils',\n        function(TopNavBar, UserRepository, Utils) {\n\n            UserRepository.one(Utils.Config.currentUserId).then(function(response) {\n                var user = response;\n                user.fullName = user.firstName + ' ' + user.lastName;\n\n                TopNavBar.add(\n                    {\n                        title: 'PAGE_PREVIEW',\n                        action: false,\n                        url: '/'\n                    }\n                );\n                TopNavBar.add(\n                    {\n                        title: user.fullName,\n                        action: 'content.list'\n                    }\n                );\n                TopNavBar.addLastChild(\n                    user.fullName,\n                    {\n                        title: 'PROFILE',\n                        action: 'user.edit({userId: ' + user.id + '})'\n                    }\n                );\n                TopNavBar.addLastChild(\n                    user.fullName,\n                    {\n                        title: 'LOG_OUT',\n                        action: false,\n                        url: '/admin/logout'\n                    }\n                );\n            });\n\n        }\n    ]);\n","'use strict';\n\nfunction LangRepository(Restangular) {\n    /**\n     * Custom methods\n     */\n    Restangular.extendModel('langs', function(model) {\n        model.test = function() {\n            return 'test';\n        };\n        return model;\n    });\n\n    var api = Restangular.all('admin/langs');\n    return {\n        one: function(code) {\n            return api.get(code);\n        },\n        list: function() {\n            return api.getList();\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        }\n    };\n}\n\nLangRepository.$inject = ['Restangular'];\nmodule.exports = LangRepository;\n","'use strict';\n\nfunction NavBar() {\n    /** @var Navigation */\n    return require('../../lib/navigation.js')();\n}\n\nmodule.$inject = [];\nmodule.exports = NavBar;\n","'use strict';\n\nfunction TopNavBar() {\n    /** @var Navigation */\n    return require('../../lib/navigation.js')();\n}\n\nmodule.$inject = [];\nmodule.exports = TopNavBar;\n","'use strict';\n\nfunction Translations($q, $translate, LangRepository, Utils) {\n    //create deferred promise\n    var deferred = $q.defer();\n    var languages = {};\n\n    //get languages\n    LangRepository.list().then(function(response) {\n        languages.langs = response;\n        languages.currentLang = languages.transLang = response[0];\n        // resolve the promise\n        deferred.resolve(languages);\n    });\n\n    return {\n        /**\n         * Function returns the object of languages\n         *\n         * @returns {object}\n         */\n        getTranslations: function() {\n            return deferred.promise;\n        },\n        /**\n         * Function sets the language of the translation for the angular-translate module\n         *\n         * @param lang object that will be used to translate\n         */\n        selectAdminLang: function(lang) {\n            $translate.fallbackLanguage(['en_US']);\n            $translate.use(lang.i18n);\n        },\n        /**\n         * Redirect if user try to access non existing language\n         * @param langCode\n         */\n        checkIfLanguageIsAvailable: function(langCode) {\n            var available = [];\n            if (languages === {}) {\n                angular.forEach(languages, function(v, k) {\n                    available.push(v.code);\n                });\n                if (available.indexOf(langCode) === -1) {\n                    Utils.Notifications.addError('LANGUAGE_NOT_FOUND');\n                    Utils.$state.go('home');\n                }\n            } else {\n                LangRepository.list().then(function(response) {\n                    angular.forEach(LangRepository.clean(response), function(v, k) {\n                        available.push(v.code);\n                    });\n                    if (available.indexOf(langCode) === -1) {\n                        Utils.Notifications.addError('LANGUAGE_NOT_FOUND');\n                        Utils.$state.go('home');\n                    }\n                });\n            }\n        }\n    };\n}\nTranslations.$inject = ['$q', '$translate', 'LangRepository', 'Utils'];\nmodule.exports = Translations;\n\n","'use strict';\n\nfunction Utils(Notifications, Storage, $state, $previousState, $stateParams, ckOptions, hotkeys, $filter) { // jshint ignore:line\n\n    return {\n        Notifications: Notifications,\n        Storage: Storage,\n        $state: $state,\n        $stateParams: $stateParams,\n        $previousState: $previousState,\n        Config: Config,\n        ckOptions: ckOptions,\n        hotkeys: hotkeys,\n        $filter: $filter,\n        /**\n         * Redirect user to previous state\n         * @param {string} defaultStateName default state name\n         */\n        redirectBack: function(defaultStateName) {\n            // gets a reference to the previous state.\n            var previousState = $previousState.get();\n            // set default name for the redirect if it is is not specified\n            if (typeof defaultStateName === 'undefined') {\n                defaultStateName = 'home'; // Redirect to home\n            }\n\n            // if there is a previousState\n            if (previousState !== null) {\n                // redirected back to the state we came from\n                $state.go(previousState.state.name, previousState.params, {reload: true});\n            } else {\n                // otherwise go to default state\n                $state.go(defaultStateName, {}, {reload: true});\n            }\n        }\n    };\n\n}\n\nmodule.$inject = [\n    'Notifications',\n    'Storage',\n    '$state',\n    '$previousState',\n    '$stateParams',\n    'ckOptions',\n    'hotkeys',\n    '$filter'\n];\n\nmodule.exports = Utils;\n","'use strict';\n\nfunction Notifications($translate) {\n    // Notifications stack\n    var stackBottomRight = {'dir1': 'up', 'dir2': 'left', 'firstpos1': 25, 'firstpos2': 25};\n    // Notifications options\n    var options = {\n        addclass: 'stack-bottomright',\n        stack: stackBottomRight,\n        shadow: false,\n        buttons: {\n            sticker: false\n        }\n    };\n    /**\n     * Function which shows messages of given type\n     *\n     * @param callback function used to show each message\n     * @param messages messages to show\n     */\n    var addMessages = function(callback, messages) {\n        _.forEach(messages, function(messages) {\n            callback(messages[0]);\n        });\n    };\n    return {\n        /**\n         * Function shows multiple AngularStrap info type alerts\n         *\n         * @param messages translatable messages to show\n         */\n        addInfos: function(messages) {\n            var self = this;\n            addMessages(self.addInfo, messages);\n        },\n        /**\n         * Function shows multiple AngularStrap danger type alerts\n         *\n         * @param messages translatable messages to show\n         */\n        addErrors: function(messages) {\n            var self = this;\n            addMessages(self.addError, messages);\n        },\n        /**\n         * Function shows multiple AngularStrap warning type alerts\n         *\n         * @param messages translatable messages to show\n         */\n        addWarnings: function(messages) {\n            var self = this;\n            addMessages(self.addWarning, messages);\n        },\n        /**\n         * Function shows multiple AngularStrap success type alerts\n         *\n         * @param messages translatable messages to show\n         */\n        addSuccesses: function(messages) {\n            var self = this;\n            addMessages(self.addSuccess, messages);\n        },\n        /**\n         * Function shows the AngularStrap info type alert\n         *\n         * @param message translatable message string eg. 'COMMON_ERROR'\n         * @param translationParams dynamic params for the translation\n         */\n        addInfo: function(message, translationParams) {\n            return new PNotify(_.merge(options, {\n                text: $translate.instant(message, translationParams),\n                type: 'info'\n            }));\n        },\n        /**\n         * Function shows the AngularStrap danger type alert\n         *\n         * @param message translatable message string eg. 'COMMON_ERROR'\n         * @param translationParams dynamic params for the translation\n         */\n        addError: function(message, translationParams) {\n            return new PNotify(_.merge(options, {\n                text: $translate.instant(message, translationParams),\n                type: 'error',\n                icon: 'fa fa-times'\n            }));\n        },\n        /**\n         * Function shows the AngularStrap warning type alert\n         *\n         * @param message translatable message string eg. 'COMMON_ERROR'\n         * @param translationParams dynamic params for the translation\n         */\n        addWarning: function(message, translationParams) {\n            return new PNotify(_.merge(options, {\n                text: $translate.instant(message, translationParams),\n                type: 'warning'\n            }));\n        },\n        /**\n         * Function shows the AngularStrap success type alert\n         *\n         * @param message translatable message string eg. 'COMMON_ERROR'\n         * @param translationParams dynamic params for the translation\n         */\n        addSuccess: function(message, translationParams) {\n            return new PNotify(_.merge(options, {\n                text: $translate.instant(message, translationParams),\n                type: 'success'\n            }));\n        }\n    };\n}\n\nmodule.$inject = ['$translate'];\nmodule.exports = Notifications;\n","'use strict';\n\nfunction Storage() {\n    var storageItems = {};\n    return {\n        /**\n         * Function adds specified object to the storageItems\n         *\n         * @param object\n         */\n        setStorageItem: function(object) {\n            storageItems =   _.merge(storageItems, object, function(objectValue, sourceValue) {\n                if (_.isArray(objectValue)) {\n                    return  sourceValue;\n                }\n            });\n        },\n        /**\n         * Function returns the specified object from the storageItems\n         *\n         * @param index\n         * @returns {object}\n         */\n        getStorageItem: function(index) {\n            return storageItems[index];\n        },\n        /**\n         * Function removes specified object from the storageItems\n         *\n         * @param index\n         * @returns {object}\n         */\n        removeStorageItem: function(index) {\n            storageItems = _.omit(storageItems, index);\n        }\n    };\n}\n\nStorage.$inject = [];\nmodule.exports = Storage;\n","'use strict';\n\nfunction ckOptions() {\n    var defaults = {\n        toolbarGroups: [\n            {name: 'clipboard', groups: ['clipboard', 'undo']},\n            {name: 'editing', groups: ['find', 'selection']},\n            {name: 'links'},\n            {name: 'insert'},\n            {name: 'tools'},\n            {name: 'document', groups: ['mode', 'document', 'doctools']},\n            {name: 'others'},\n            '/',\n            {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\n            {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'bidi']},\n            {name: 'align'},\n            {name: 'styles'}\n        ],\n        height: '500px'\n    };\n\n    return {\n        /**\n         * Function adds specified object to the CKEditor options\n         *\n         * @param object\n         */\n        setEditorOption: function(object) {\n            defaults = _.merge(defaults, object, function(objectValue, sourceValue) {\n                if (_.isArray(objectValue)) {\n                    return sourceValue;\n                }\n            });\n        },\n        /**\n         * Function returns CKEditor options\n         * @param custom custom option to include in return object, only for this instance of editor\n         * @returns {object}\n         */\n        getEditorOptions: function(custom) {\n            var output = _.cloneDeep(defaults);\n            angular.forEach(custom, function(value, key) {\n                output[key] = value;\n            });\n            return output;\n        }\n    };\n}\n\nmodule.$inject = [];\nmodule.exports = ckOptions;\n","function Navigation() {\n    'use strict';\n\n    var items = [];\n\n    /**\n     * Function checks if 'item' structure is valid\n     *\n     * @param item object\n     * @returns {boolean}\n     */\n    var checkStructure = function(item) {\n        if (_.has(item, 'divider')) {\n            if (item.divider !== true) {\n                throw new Error('Property: ' + '\\'divider\\'' + ' must be set to \\'true\\'');\n            }\n        } else if (!_.has(item, 'title')) {\n            throw new Error('Property: ' + 'title' + ' is missing');\n        } else if (!_.has(item, 'action') && !_.has(item, 'href')) {\n            throw new Error('Property: ' + '\\'action\\' or \\'href\\'' + ' are required');\n        }\n        return true;\n    };\n    /**\n     * Function returns children of element specified by 'title'\n     *\n     * @param title string\n     * @returns {Array}\n     */\n    var getChildren = function(title) {\n        var children = [],\n            foundFlag = false;\n        _.forEach(items, function(value, index) {\n            if (value.title === title) {\n                foundFlag = true;\n                if (_.has(value, 'children') && Array.isArray(value.children)) {\n                    children = value.children;\n                }\n                return false;\n            }\n        });\n        if (foundFlag === false) {\n            throw new Error('Parent: \\'' + title + '\\' have no children, because does not exist');\n        }\n        return children;\n    };\n    /**\n     * Function adds element according to 'position' argument\n     * position = 'before' - element will be added before element specified by 'title'\n     * position = 'after' - element will be added after element specified by 'title'\n     *\n     * @param title string\n     * @param item object\n     * @param position string\n     */\n    var addBeforeAfter = function(title, item, position) {\n        if (typeof position === 'undefined') {\n            throw new Error('Argument \\'position\\' is required, values: \\'before\\' or \\'after\\'');\n        } else if (typeof position !== 'string') {\n            throw new Error('Argument \\'position\\' must be of string type, values: \\'before\\' or \\'after\\'');\n        }\n        if (checkStructure(item)) {\n            var foundFlag = false;\n            _.forEach(items, function(value, index) {\n                if (value.title === title) {\n                    foundFlag = true;\n                    if (position === 'before') {\n                        items.splice(index, 0, item);\n                    } else if (position === 'after') {\n                        items.splice(index + 1, 0, item);\n                    }\n                    return false;\n                }\n            });\n            if (foundFlag === false) {\n                throw new Error('Element: \\'' + title + '\\' does not exist');\n            }\n        }\n    };\n    /**\n     * Function adds child link according to 'position' argument\n     * position = true - child will be added as first element\n     * position = false - child will be added as last element\n     *\n     * @param parent string\n     * @param item object\n     * @param position boolean\n     */\n    var addChild = function(parent, item, position) {\n        if (typeof position === 'undefined') {\n            position = false;\n        } else if (typeof position !== 'boolean') {\n            throw new Error('Argument \\'position\\' must be of boolean type');\n        }\n        if (checkStructure(item)) {\n            var foundFlag = false;\n            _.forEach(items, function(value, index) {\n                if (value.title === parent) {\n                    if (!_.has(value, 'children') || !Array.isArray(value.children)) {\n                        value.children = [];\n                    }\n                    if (position === true) {\n                        value.children.unshift(item);\n                    } else if (position === false) {\n                        value.children.push(item);\n                    }\n                    foundFlag = true;\n                    return false;\n                }\n            });\n            if (foundFlag === false) {\n                throw new Error('Parent: \\'' + parent + '\\' does not exist');\n            }\n        }\n    };\n    /**\n     * Function adds child link according to 'position' argument\n     * position = 'before' - child will be added before element specified by 'title'\n     * position = 'after' - child will be added after element specified by 'title'\n     *\n     * @param parent string\n     * @param title string\n     * @param item object\n     * @param position string\n     */\n    var addBeforeAfterChild = function(parent, title, item, position) {\n        if (typeof position === 'undefined') {\n            throw new Error('Argument \\'position\\' is required, values: \\'before\\' or \\'after\\'');\n        } else if (typeof position !== 'string') {\n            throw new Error('Argument \\'position\\' must be of string type, values: \\'before\\' or \\'after\\'');\n        }\n        if (checkStructure(item)) {\n            var foundFlag = false,\n                children = getChildren(parent);\n\n            if (children.length === 0) {\n                throw new Error('Parent: \\'' + parent + '\\' have no children');\n            }\n            _.forEach(children, function(value, index) {\n                if (value.title === title) {\n                    foundFlag = true;\n                    if (position === 'before') {\n                        children.splice(index, 0, item);\n                    } else if (position === 'after') {\n                        children.splice(index + 1, 0, item);\n                    }\n                    return false;\n                }\n            });\n            if (foundFlag === false) {\n                throw new Error('Child: \\'' + title + '\\' does not exist');\n            }\n        }\n    };\n\n    return {\n        /**\n         * Function adds element to the end of menu\n         *\n         * @param item object\n         */\n        add: function(item) {\n            if (checkStructure(item)) {\n                items.push(item);\n            }\n        },\n        /**\n         * Function adds element to the menu as first\n         *\n         * @param item object\n         */\n        addFirst: function(item) {\n            if (checkStructure(item)) {\n                items.unshift(item);\n            }\n        },\n        /**\n         * Function adds element 'item' to the menu before element specified by 'title'\n         *\n         * @param title string\n         * @param item object\n         */\n        addBefore: function(title, item) {\n            addBeforeAfter(title, item, 'before');\n        },\n        /**\n         * Function adds element 'item' to the menu after element specified by 'title'\n         *\n         * @param title string\n         * @param newItem object\n         */\n        addAfter: function(title, newItem) {\n            addBeforeAfter(title, newItem, 'after');\n        },\n        /**\n         * Function adds child link as first to the element specified by 'parent' argument\n         *\n         * @param parent string\n         * @param item object\n         */\n        addFirstChild: function(parent, item) {\n            addChild(parent, item, true);\n        },\n        /**\n         * Function adds child link as last to the element specified by 'parent' argument\n         *\n         * @param parent string\n         * @param item object\n         */\n        addLastChild: function(parent, item) {\n            addChild(parent, item, false);\n        },\n        /**\n         * Function adds link to the element specified by 'parent' before child element specified by 'title'\n         *\n         * @param parent string\n         * @param title string\n         * @param item object\n         */\n        addBeforeChild: function(parent, title, item) {\n            addBeforeAfterChild(parent, title, item, 'before');\n        },\n        /**\n         * Function adds link to the element specified by 'parent' after child element specified by 'title'\n         *\n         * @param parent string\n         * @param title string\n         * @param item object\n         */\n        addAfterChild: function(parent, title, item) {\n            addBeforeAfterChild(parent, title, item, 'after');\n        },\n        /**\n         * Function return items from menu\n         *\n         * @returns {Array}\n         */\n        getItems: function() {\n            return items;\n        },\n        /**\n         * Function exports links to 'dropdown' menu\n         *\n         * @returns {Array}\n         */\n        exportToDropdownMenu: function() {\n            var results = [];\n            var newItem = {};\n            _.forEach(items, function(value) {\n                _.forIn(value, function(value, key) {\n                    if (key === 'title') {\n                        newItem.text = value;\n                    } else {\n                        newItem[key] = value;\n                    }\n                });\n                results.push(newItem);\n                newItem = {};\n            });\n            return results;\n        }\n    };\n}\nmodule.exports = Navigation;\n","'use strict';\n\nfunction SettingsCtrl($scope, Utils, SettingsRepository, categories, settings) {\n\n    // fields that will use number type input\n    $scope.numericFields = ['defaultPageSize', 'seoDescLength'];\n\n    // option category\n    if (typeof Utils.$stateParams.key !== 'undefined') {\n        $scope.categoryKey = Utils.$stateParams.key;\n    }\n\n    // lang code exists\n    if (typeof Utils.$stateParams.langCode !== 'undefined') {\n        $scope.langCode = Utils.$stateParams.langCode;\n    }\n\n    // categories exists\n    if (typeof categories !== 'undefined') {\n        $scope.categories = SettingsRepository.clean(categories); // options categories\n    }\n\n    // settings exists\n    if (typeof settings !== 'undefined') {\n        $scope.settings = SettingsRepository.clean(settings); // category settings\n    }\n\n    // we need integer values for number type inputs\n    angular.forEach($scope.numericFields, function(propertyName){\n        if ($scope.settings.hasOwnProperty(propertyName)) {\n            angular.forEach($scope.settings[propertyName], function(v, k) {\n                $scope.settings[propertyName][k] = parseInt(v);\n            });\n        }\n    });\n\n    // save settings category options\n    $scope.save = function(key, value) {\n        // prepare option data\n        var data = {\n            key: key,\n            value: value\n        };\n\n        // save option\n        SettingsRepository.update($scope.categoryKey, data).then(function() {\n            Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n        });\n    };\n}\n\nSettingsCtrl.$inject = ['$scope', 'Utils', 'SettingsRepository', 'categories', 'settings'];\nmodule.exports = SettingsCtrl;\n","'use strict';\n\nfunction SettingCopyCtrl($scope, Utils, $modal, SettingsRepository) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/settings/directives/';\n    // Copy modal\n    vm.copyModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'settingCopyModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n        },\n\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param attrs attributes from directive\n         */\n        showModal: function(attrs) {\n            var self = this;\n            vm.attrs = attrs;\n            self.initModal('PLEASE_CONFIRM', 'OPTIONS_LANG.COPY_OPTION_QUESTION');\n        },\n\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n\n        /**\n         * Function apply setting value to other languages and performs the RestAngular PUT action for option value\n         *\n         */\n        saveSetting: function() {\n            var self = this;\n            self.closeModal();\n            // prepare option data\n            var data = {\n                key: vm.attrs.optionKey,\n                value: angular.fromJson(vm.attrs.optionValue)\n            };\n\n            // set option value to all other languages\n            _.forEach(data.value, function(n, key) {\n                data.value[key] = vm.attrs.optionNewValue;\n            });\n\n            // save option\n            SettingsRepository.update(vm.attrs.categoryKey, data).then(function() {\n                Utils.Notifications.addSuccess('OPTIONS_LANG.COPY_CONFIRM');\n                Utils.$state.reload();\n            });\n        }\n    };\n}\nSettingCopyCtrl.$inject = ['$scope', 'Utils', '$modal', 'SettingsRepository'];\nmodule.exports = SettingCopyCtrl;\n","'use strict';\n\nfunction SettingCopyButton() {\n    return {\n        scope: '=',\n        restrict: 'A',\n        controller: 'SettingCopyCtrl',\n        controllerAs: 'vm',\n        bindToController: true,\n        link: function(scope, element, attrs, SettingCopyCtrl) {\n            element.on('click', function() {\n                SettingCopyCtrl.copyModal.showModal(attrs);\n            });\n        }\n    };\n}\n\nSettingCopyButton.$inject = [];\nmodule.exports = SettingCopyButton;\n","'use strict';\n\nangular.module('admin.settings', [])\n    .config([\n        '$stateProvider',\n        '$urlRouterProvider',\n        'RestangularProvider',\n        function($stateProvider, $urlRouterProvider, RestangularProvider) {\n\n            var viewPath = 'gzero/admin/views/settings/';\n\n            // Now set up the states\n            $stateProvider\n                .state('settings', {\n                    url: '/settings/{key}',\n                    templateUrl: viewPath + 'index.html',\n                    controller: 'SettingsCtrl',\n                    deepStateRedirect: true,\n                    resolve: {\n                        categories: [\n                            'SettingsRepository', function(SettingsRepository) {\n                                // get tree of all categories\n                                return SettingsRepository.list();\n                            }\n                        ],\n                        settings: [\n                            '$stateParams', 'SettingsRepository', function($stateParams, SettingsRepository) {\n                                return SettingsRepository.one($stateParams.key);\n                            }\n                        ]\n                    }\n                })\n                // SETTINGS SHOW\n                .state('settings.show', {\n                    url: '/{langCode}',\n                    views: {\n                        'contentTab': {\n                            templateUrl: viewPath + 'show.html',\n                            controller: 'SettingsCtrl'\n                        }\n                    }\n                });\n        }\n    ])\n    .controller('SettingsCtrl', require('./controllers/SettingsCtrl'))\n    .controller('SettingCopyCtrl', require('./controllers/directives/SettingCopyCtrl'))\n    .directive('settingCopyButton', require('./directives/SettingCopyButton.js'))\n    .factory('SettingsRepository', require('./services/SettingsRepository.js'))\n    .run([\n        'NavBar',\n        function(NavBar) {\n            NavBar.add({\n                title: 'SETTINGS', action: 'settings', icon: 'fa fa-cogs'\n            });\n        }\n    ]);\n","'use strict';\n\nfunction SettingsRepository(Restangular) {\n    var api = 'admin/options';\n    var option = Restangular.all(api);\n    return {\n        one: function(id, params) {\n            return Restangular.one(api, id).get(params);\n        },\n        list: function(params) {\n            return option.getList(params);\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        },\n        delete: function(id) {\n            return Restangular.one(api, id).remove();\n        },\n        update: function(categoryKey, data) {\n            return Restangular.one(api, categoryKey).customPUT(data);\n        }\n    };\n}\n\nSettingsRepository.$inject = ['Restangular'];\nmodule.exports = SettingsRepository;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserListCtrl($scope, Utils, UserRepository, $modal) {\n    var vm = this;\n    var viewPath = 'gzero/admin/views/user/directives/';\n    // Delete modal\n    vm.deleteModal = {\n        /**\n         * Function initiates the AngularStrap modal\n         *\n         * @param title translatable title of modal\n         * @param message translatable messages of modal\n         */\n        initModal: function(title, message) {\n            var self = this;\n            self.modal = $modal({\n                scope: $scope,\n                title: title,\n                content: message,\n                templateUrl: viewPath + 'userDeleteModal.tpl.html',\n                show: true,\n                placement: 'center'\n            });\n\n            // Bind hotkeys\n            Utils.hotkeys.add({\n                combo: 'enter',\n                description: 'CONFIRM_DELETE',\n                callback: function(){\n                    self.deleteUser();\n                }\n            });\n        },\n\n        /**\n         * Function shows the AngularStrap modal\n         *\n         * @param userId user id to be removed, it is saved in the scope\n         */\n        showModal: function(userId) {\n            var self = this;\n            vm.userId = userId;\n            self.initModal('PLEASE_CONFIRM', 'DELETE_USER_QUESTION');\n            Utils.hotkeys.del('enter');\n        },\n\n        /**\n         * Function close the modal\n         *\n         */\n        closeModal: function() {\n            var self = this;\n            self.modal.hide();\n        },\n\n        /**\n         * Function performs the RestAngular DELETE action for user id in scope\n         *\n         */\n        deleteUser: function() {\n            var self = this;\n            UserRepository.delete(vm.userId).then(function(response) {\n                self.closeModal();\n                Utils.$state.go(Utils.$state.current, {}, {reload: true});\n            });\n        }\n\n    };\n}\n\nUserListCtrl.$inject = ['$scope', 'Utils', 'UserRepository', '$modal'];\nmodule.exports = UserListCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserDetailsCtrl($scope, Utils, UserRepository) {\n    // get single user\n    UserRepository.one(Utils.$stateParams.userId).then(function(response) {\n        $scope.user = UserRepository.clean(response);\n    });\n}\nUserDetailsCtrl.$inject = ['$scope', 'Utils', 'UserRepository'];\nmodule.exports = UserDetailsCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserDetailsCtrl($scope, UserRepository, Utils) {\n    // get single user\n    UserRepository.one(Utils.$stateParams.userId).then(function(response) {\n        $scope.user = UserRepository.clean(response);\n    });\n\n    $scope.saveUser = function() {\n        UserRepository.update($scope.user.id, $scope.user).then(function(response) {\n            Utils.$state.go('user.list');\n            Utils.Notifications.addSuccess('THE_CHANGES_HAVE_BEEN_SAVED');\n        });\n    };\n\n}\nUserDetailsCtrl.$inject = ['$scope', 'UserRepository', 'Utils'];\nmodule.exports = UserDetailsCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserListCtrl($scope, Utils, $rootScope, UserRepository, NgTableParams) {\n    $scope.tableParams = new NgTableParams({\n        count: 25, // count per page\n        sorting: {\n            'id': 'desc' // initial sorting\n        }\n    }, {\n        total: 0, // length of data\n        getData: function($defer, params) {\n            $scope.requestPending = true;\n            // prepare options to be sent to api\n            var queryOptions = {\n                type: 'user'\n            };\n\n            // params.count() - number of items per page declared in view\n            if (typeof Utils.$stateParams.perPage !== 'undefined') {\n                params.count(Utils.$stateParams.perPage);\n                queryOptions.perPage = params.count();\n            }\n\n            // params.page() - current page\n            if (typeof Utils.$stateParams.page !== 'undefined') {\n                params.page(Utils.$stateParams.page);\n                queryOptions.page = params.page();\n            }\n\n            // tableParams.orderBy() - an array of string indicating both the sorting column and direction (e.g. [\"+name\", \"-email\"])\n            if (params.sorting()) {\n                // only interested in first sort column for now\n                var orderBy = params.orderBy()[0];\n                queryOptions.sort = orderBy[0] === '+' ? orderBy.substring(1) : orderBy;\n            }\n\n            // get list by default\n            var promise = UserRepository.list(queryOptions);\n\n            // Contents is a REST AngularJS service that talks to api and return promise\n            promise.then(function(response) {\n                $scope.requestPending = false;\n                params.total(response.meta.total);\n                $defer.resolve(UserRepository.clean(response));\n                $scope.meta = response.meta;\n            });\n        }\n    });\n}\n\nUserListCtrl.$inject = ['$scope', 'Utils', '$rootScope', 'UserRepository', 'ngTableParams'];\nmodule.exports = UserListCtrl;\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserDeleteButton() {\n    return {\n        scope: true,\n        restrict: 'A',\n        controller: 'UserDeleteCtrl',\n        controllerAs: 'vm',\n        bindToController: true,// because the scope is isolated\n        link: function(scope, element, attrs, UserDeleteController) {\n            element.on('click', function() {\n                // Show a delete modal from a controller\n                UserDeleteController.deleteModal.showModal(attrs.userId);\n            });\n        }\n    };\n}\n\nUserDeleteButton.$inject = [];\nmodule.exports = UserDeleteButton;\n","'use strict';\n\nangular.module('admin.user', ['ngTable'])\n    .config([\n        '$stateProvider',\n        '$urlRouterProvider',\n        'RestangularProvider',\n        function($stateProvider, $urlRouterProvider, RestangularProvider) {\n\n            var viewPath = 'gzero/admin/views/user/';\n\n            // Now set up the states\n            $stateProvider\n                .state('user', {\n                    url: '/user',\n                    templateUrl: viewPath + 'index.html'\n                })\n                .state('user.show', {\n                    url: '/{userId}/show',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'show.html',\n                            controller: 'UserDetailsCtrl'\n                        }\n                    }\n                }).state('user.edit', {\n                    url: '/{userId}/edit',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'edit.html',\n                            controller: 'UserEditCtrl'\n                        }\n                    }\n                })\n                .state('user.list', {\n                    url: '/list/{userId}?page&perPage',\n                    views: {\n                        'content': {\n                            templateUrl: viewPath + 'list.html'\n                        }\n                    }\n\n                });\n        }\n    ])\n    .controller('UserListCtrl', require('./controllers/UserListCtrl'))\n    .controller('UserDeleteCtrl', require('./controllers/UserDeleteCtrl'))\n    .controller('UserEditCtrl', require('./controllers/UserEditCtrl'))\n    .controller('UserDetailsCtrl', require('./controllers/UserDetailsCtrl'))\n    .factory('UserRepository', require('./services/UserRepository.js'))\n    .directive('userDeleteButton', require('./directives/UserDeleteButton.js'))\n    .run([\n        'NavBar',\n        function(NavBar) {\n            NavBar.add({\n                title: 'USERS', action: 'user.list', icon: 'fa fa-user'\n                //children: [\n                //    {\n                //        title: 'USER_LIST',\n                //        action: 'user.list',\n                //        icon: 'fa fa-th'\n                //    }\n                //]\n            });\n        }\n    ]);\n","/**\n * This file is part of the GZERO CMS package.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * Class UserController\n *\n * @package    Admin\n * @author     Mateusz Urbanowicz <urbanowiczmateusz89@gmail.com>\n * @copyright  Copyright (c) 2015, Mateusz Urbanowicz\n */\n\n'use strict';\n\nfunction UserRepository(Restangular) {\n    var api = 'admin/users';\n    var users = Restangular.all(api);\n    return {\n        one: function(id, params) {\n            return Restangular.one(api, id).get(params);\n        },\n        tree: function(params) {\n            return Restangular.one(api).getList('tree', params);\n        },\n        list: function(params) {\n            return users.getList(params);\n        },\n        clean: function(elem) {\n            return Restangular.stripRestangular(elem);\n        },\n        delete: function(id) {\n            return Restangular.one(api, id).remove();\n        },\n        update: function(id, user) {\n            return Restangular.one(api, id).customPUT(user);\n        }\n    };\n}\n\nUserRepository.$inject = ['Restangular'];\nmodule.exports = UserRepository;\n"],"sourceRoot":"/source/"}