'use strict';

function ContentRepository(Restangular, noCacheRestService) {
    var api = 'admin/contents';
    var contents = noCacheRestService.all(api);
    return {
        one: function(id, params) {
            return Restangular.one(api, id).get(params);
        },
        tree: function(params) {
            return noCacheRestService.one(api).getList('tree', params);
        },
        list: function(params) {
            return contents.getList(params);
        },
        children: function(id, params) {
            return Restangular.one(api, id).getList('children', params);
        },
        newContent: function(newContent) {
            return contents.post(newContent);
        },
        clean: function(elem) {
            return Restangular.stripRestangular(elem);
        }
    };
}

ContentRepository.$inject = ['Restangular', 'noCacheRestService'];
module.exports = ContentRepository;
